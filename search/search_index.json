{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"WeTest","text":"<p>WeTest is a simple, yet useful, test toolkit.</p> <p>WeTest allows you to start an automated testing project extremely easily, like api test, macro support, tracker requests, testdata build, common clients connection...</p> <p>Just try a little test scenario:</p> <p>Scenario 01: Send Request </p> <p>testdata: testdata.xlsx</p> tc_id tc_desc method headers json data protocol domain path ip accessKey plain_string loop expect_code expect_response ip_parse_001 ipv4_parse get user-agent &gt; {{data.user_agent()}} | referer &gt; {{data.url()}} https {{domain}} {{path}} {{ipv4.beijing}} alibaba-inc 200 \"city\":\"\u5317\u4eac\" <p>testcase: tests/tool/test_tracker.py</p> <pre><code>import pytest\nfrom WeTest.tool import tracker\nfrom WeTest.util import provider\n\n\ndata = provider.read_excel_to_dict(\"testdata.xlsx\", 0)\n\n@pytest.mark.parametrize(\"data\", data, ids=lambda data: \"{}-{}\".format(data[\"tc_id\"], data[\"tc_desc\"]))\ndef test_ipparse_ipv4(data):\n\n    macro = [(\"{{domain}}\", \"ip.taobao.com\"), (\"{{path}}\", \"outGetIpInfo\"), (\"{{ipv4.beijing}}\", \"1.2.5.0\")]\n\n    tracker.send(macro, None, **data)\n</code></pre> <pre><code>$ pytest tests/tool/test_tracker.py::test_ipparse_ipv4\n\ncollecting ... \n-------------------------------------------------------------------------------------- live log call --------------------------------------------------------------------------------------\n2022-08-20 15:38:17 [INFO] \n========================================= [ REQUEST ] =========================================\nGET https://ip.taobao.com/outGetIpInfo?request_id=jp_parase_001_ipv4_parse_0001&amp;ip=1.2.5.0&amp;accessKey=alibaba-inc\nuser-agent: Mozilla/5.0 (Linux; Android 5.0) AppleWebKit/536.2 (KHTML, like Gecko) Chrome/63.0.850.0 Safari/536.2\nAccept-Encoding: gzip, deflate, br\nAccept: */*\nConnection: keep-alive\nreferer: http://www.fanding.cn/\n\nNone\n\n========================================= [ RESPONSE ] =========================================\n200  https://ip.taobao.com/outGetIpInfo?request_id=jp_parase_001_ipv4_parse_0001&amp;ip=1.2.5.0&amp;accessKey=alibaba-inc\nDate: Sat, 20 Aug 2022 07:38:12 GMT\nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\nConnection: keep-alive\nVary: Accept-Encoding\nSet-Cookie: XSRF-TOKEN=8b64ecea-e4db-41fe-8351-98f87e45b732; Path=/\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Encoding: gzip\nServer: Tengine/Aserver\nEagleEye-TraceId: 213fc9b716609810926637035e8a94\nStrict-Transport-Security: max-age=31536000\nTiming-Allow-Origin: *\n\n{\"data\":{\"area\":\"\",\"country\":\"\u4e2d\u56fd\",\"isp_id\":\"100017\",\"queryIp\":\"1.2.5.0\",\"city\":\"\u5317\u4eac\",\"ip\":\"1.2.5.0\",\"isp\":\"\u7535\u4fe1\",\"county\":\"\",\"region_id\":\"110000\",\"area_id\":\"\",\"county_id\":null,\"region\":\"\u5317\u4eac\",\"country_id\":\"CN\",\"city_id\":\"110100\"},\"msg\":\"query success\",\"code\":0}\n\n\n tests/tool/test_tracker.py::test_ipparse_ipv4[jp_parase_001-ipv4_parse] \u2713                                                                                                  100% \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n\nResults (1.16s):\n       1 passed\n</code></pre> <p>Scenario 02: API Test </p> <p>testdata: data/api/testdata_user.xlsx</p> tc_id tc_desc name email role status password expect_code expect_response tc_user_001 \u5408\u6cd5-\u5feb\u4e50\u8def\u5f84 {{data.string(min=10, max=20)}} {{data.email()}} {{data.random_choice([0,1,2])}} 1 {{data.string(min=6, max=20)}} 200 tc_user_002 \u975e\u6cd5-\u7528\u6237\u540d-\u7a7a\u503c {{data.email()}} {{data.random_choice([0,1,2])}} 1 {{data.string(min=6, max=20)}} 422 {\"error\":{\"name\":\"ensure this value has at least 2 characters\"}} <p>testcase: test/api/test_user.py</p> <pre><code>import os\nimport sys\n\nsys.path.append(os.getcwd())\n\nimport json\nimport pytest\nimport allure\nfrom config import apis\nfrom WeTest.util.api import API\nfrom config.const import TIMEOUT\nfrom WeTest.util.client import DataBase\nfrom WeTest.util import provider, compare\n\n\n@allure.epic(\"User Management\")\n@pytest.mark.run(order=1)\n@pytest.mark.p0\n@pytest.mark.api\nclass TestUser:\n\n    user = {}\n\n    path = \"data/api/testdata_user.xlsx\"\n    testdata_user_create = provider.read_excel_to_dict(path, \"user\")\n\n    @allure.story(\"Create User\")\n    @pytest.mark.timeout(TIMEOUT)\n    @pytest.mark.dependency(name=\"test_create_user\")\n    @pytest.mark.parametrize(\"testdata\", testdata_user_create, ids=lambda data: \"[{tc_id}: {tc_desc}]\".format(**data))\n    def test_create_user(self, api: API, testdata):\n        \"\"\"Verify Create User Success\"\"\"\n\n        path = apis.USER\n\n        _, kw = provider.replace_macro(None, None, **testdata)\n\n        status_code = int(kw[\"expect_code\"])\n\n        payload = \"\"\"\n        {{\n            \"name\": \"{name}\",\n            \"email\": \"{email}\",\n            \"role\": \"{role}\",\n            \"status\": \"{status}\",\n            \"password\": \"{password}\"\n        }}\n        \"\"\".format(\n            **kw\n        )\n\n        payload = json.loads(payload)\n\n        response = api.request(\"POST\", path, json=payload)\n\n        assert response.status_code == status_code\n\n        response = response.json()\n\n        if status_code == 200:\n            self.user[\"id\"] = response[\"id\"]\n\n            assert response[\"name\"] == payload[\"name\"]\n            assert response[\"email\"] == payload[\"email\"]\n            assert response[\"role\"] == int(payload[\"role\"])\n            assert response[\"status\"] == int(payload[\"status\"])\n            assert response[\"name\"] == payload[\"name\"]\n        else:\n            assert response == json.loads(kw[\"expect_response\"])\n</code></pre> <pre><code>$ pytest test/api/test_user.py::TestUser::test_create_user\nTest session starts (platform: linux, Python 3.8.0, pytest 7.1.2, pytest-sugar 0.9.5)\nrootdir: /mnt/d/src/python/TestBase, configfile: pytest.ini\nplugins: dependency-0.5.1, playwright-0.3.0, forked-1.4.0, rerunfailures-10.2, metadata-2.0.2, sugar-0.9.5, repeat-0.9.1, timeout-2.1.0, playwright-snapshot-1.0, ordering-0.6, xdist-2.5.0, allure-pytest-2.10.0, base-url-2.0.0, asyncio-0.19.0, html-3.1.1, anyio-3.6.1, Faker-14.1.0\nasyncio: mode=strict\ncollecting ... \n------------------------------------------------------------------------------------------------ live log setup -------------------------------------------------------------------------------------------------\n2022-09-11 18:42:11 [INFO] **************************************************\n2022-09-11 18:42:11 [INFO]      &gt;&gt;&gt;&gt;&gt; CURRENT ENVIRONMENT: DEV &lt;&lt;&lt;&lt;&lt;\n2022-09-11 18:42:11 [INFO] **************************************************\n2022-09-11 18:42:12 [INFO] \n========================================= [ REQUEST ] =========================================\nPOST http://127.0.0.1:8000/login\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36\nAccept-Encoding: gzip, deflate, br\nAccept: */*\nConnection: keep-alive\nContent-Length: 78\nContent-Type: application/x-www-form-urlencoded\n\nclient_id=&amp;client_secret=&amp;grant_type=&amp;username=root%40test.com&amp;password=123456\n\n========================================= [ RESPONSE ] =========================================\n200 OK http://127.0.0.1:8000/login\ndate: Sun, 11 Sep 2022 10:42:11 GMT\nserver: uvicorn\ncontent-length: 192\ncontent-type: application/json\n\n{\"token_type\":\"bearer\",\"access_token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyb290QHRlc3QuY29tIiwic2NvcGVzIjpbXSwiZXhwIjoxNjYyODk0NzMxfQ.oySUtuqiKS-3FRWyHhvB3Ip7g8PtZDu3bnKBvVZ7nB8\"}\n\n------------------------------------------------------------------------------------------------- live log call -------------------------------------------------------------------------------------------------\n2022-09-11 18:42:12 [INFO] \n========================================= [ REQUEST ] =========================================\nPOST http://127.0.0.1:8000/user/\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36\nAccept-Encoding: gzip, deflate, br\nAccept: */*\nConnection: keep-alive\nAuthorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyb290QHRlc3QuY29tIiwic2NvcGVzIjpbXSwiZXhwIjoxNjYyODk0NzMxfQ.oySUtuqiKS-3FRWyHhvB3Ip7g8PtZDu3bnKBvVZ7nB8\nContent-Length: 123\nContent-Type: application/json\n\nb'{\"name\": \"ipBvXEIlqs7fd6h6O1RZ\", \"email\": \"fangwen@example.org\", \"role\": \"0\", \"status\": \"1\", \"password\": \"oDFD9NTgoxoLwZW\"}'\n\n========================================= [ RESPONSE ] =========================================\n200 OK http://127.0.0.1:8000/user/\ndate: Sun, 11 Sep 2022 10:42:11 GMT\nserver: uvicorn\ncontent-length: 100\ncontent-type: application/json\n\n{\"name\":\"ipBvXEIlqs7fd6h6O1RZ\",\"email\":\"fangwen@example.org\",\"role\":0,\"status\":1,\"id\":2,\"creator\":1}\n\n\n test/api/test_user.py::TestUser.test_create_user[[root]-[DEV]-[tc_user_001: \u5408\u6cd5-\u5feb\u4e50\u8def\u5f84]] \u2713                                                                                                           50% \u2588\u2588\u2588\u2588\u2588     \n------------------------------------------------------------------------------------------------- live log call -------------------------------------------------------------------------------------------------\n2022-09-11 18:42:12 [INFO] \n========================================= [ REQUEST ] =========================================\nPOST http://127.0.0.1:8000/user/\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36\nAccept-Encoding: gzip, deflate, br\nAccept: */*\nConnection: keep-alive\nAuthorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyb290QHRlc3QuY29tIiwic2NvcGVzIjpbXSwiZXhwIjoxNjYyODk0NzMxfQ.oySUtuqiKS-3FRWyHhvB3Ip7g8PtZDu3bnKBvVZ7nB8\nContent-Length: 106\nContent-Type: application/json\n\nb'{\"name\": \"\", \"email\": \"yang80@example.com\", \"role\": \"0\", \"status\": \"1\", \"password\": \"EyAsZvTMWvaITHBSYEc\"}'\n\n========================================= [ RESPONSE ] =========================================\n422 Unprocessable Entity http://127.0.0.1:8000/user/\ndate: Sun, 11 Sep 2022 10:42:11 GMT\nserver: uvicorn\ncontent-length: 64\ncontent-type: application/json\n\n{\"error\":{\"name\":\"ensure this value has at least 2 characters\"}}\n\n\n test/api/test_user.py::TestUser.test_create_user[[root]-[DEV]-[tc_user_002: \u975e\u6cd5-\u7528\u6237\u540d-\u7a7a\u503c]] \u2713                                                                                                        100% \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n\nResults (1.84s):\n       2 passed\n</code></pre>"},{"location":"#installing-wetest-and-supported-versions","title":"Installing WeTest and Supported Versions","text":"<p>WeTest is available on PyPI:</p> <ul> <li> <p>For common use: <pre><code>$ python -m pip install WeTest\n</code></pre></p> </li> <li> <p>For Hive support: <pre><code>$ python -m pip install \"WeTest[hive]\"\n</code></pre></p> </li> </ul>"},{"location":"#features","title":"Features","text":"<p>WeTest is ready for the demands of building automation test project, for the needs of today.</p> <ul> <li>util</li> <li>algorithm<ul> <li>upstream_round_robin</li> </ul> </li> <li>api<ul> <li>request</li> <li>upload</li> <li>download</li> </ul> </li> <li>client<ul> <li>database</li> <li>rabbitmq</li> <li>sftp</li> <li>ssh</li> <li>nacos</li> <li>s3</li> <li>hive</li> </ul> </li> <li>compare<ul> <li>dataframe</li> <li>dict</li> <li>list</li> <li>schema</li> <li>file</li> <li>image</li> </ul> </li> <li>config<ul> <li>yaml</li> <li>ini</li> <li>json</li> </ul> </li> <li>date<ul> <li>format</li> <li>convert</li> <li>datetime</li> <li>timestamp</li> </ul> </li> <li>encry<ul> <li>aes</li> <li>md5</li> <li>url</li> <li>sha1</li> <li>base64</li> </ul> </li> <li>network<ul> <li>ip</li> <li>url</li> <li>useragent</li> <li>file mime type</li> </ul> </li> <li>notication<ul> <li>work wechat</li> <li>wechat(todo)</li> <li>email(todo)</li> </ul> </li> <li>path<ul> <li>all path related scenario</li> </ul> </li> <li>provider<ul> <li>dataframe &amp; excel</li> <li>read &amp; output</li> <li>unpack dict</li> <li>str to bool</li> <li>replace macro</li> </ul> </li> <li>request<ul> <li>request by remote ip (in LB)</li> <li>get romote ip</li> <li>get redirect history</li> <li>async request</li> <li>bulk request</li> <li>upload file(s)</li> <li>download</li> <li>log response</li> </ul> </li> <li> <p>testdata</p> <ul> <li>fake data</li> </ul> </li> <li> <p>tool</p> </li> <li>cookdata<ul> <li>cook df data</li> <li>cook db data</li> </ul> </li> <li>decorator<ul> <li>timeit</li> </ul> </li> <li>logtime<ul> <li>timestamp</li> </ul> </li> <li>jira issue analytics</li> <li>server(todo)<ul> <li>online api call</li> <li>data visualization</li> </ul> </li> <li>tracker</li> </ul>"},{"location":"#testbase","title":"TestBase","text":"<p>Wanna to try? TestBase is a scaffold project and based on WeTest, it's ready for you to speed up your automated testing process.</p>"},{"location":"about/","title":"About Me","text":""},{"location":"baiye/list/","title":"\u6e05\u5355","text":""},{"location":"baiye/list/#_2","title":"\u4e13\u4e1a\u4e66\u7c4d","text":"<ul> <li> Google \u8f6f\u4ef6\u6d4b\u8bd5\u4e4b\u9053</li> <li> \u5fae\u8f6f\u7684\u8f6f\u4ef6\u6d4b\u8bd5\u4e4b\u9053</li> <li> How To Break Software</li> <li> Exploratory Software Testing</li> <li> 10x \u7a0b\u5e8f\u5458\u5de5\u4f5c\u6cd5</li> </ul>"},{"location":"baiye/list/#_3","title":"\u6587\u5b66\u4e66\u7c4d","text":"<ul> <li> \u5e73\u51e1\u7684\u4e16\u754c</li> <li> \u5bcc\u7238\u7238\u7a77\u7238\u7238</li> <li> \u6d6a\u6f6e\u4e4b\u5dc5</li> </ul>"},{"location":"baiye/list/#_4","title":"\u5f71\u97f3","text":"<ul> <li> \u8bf7\u56de\u7b541988</li> <li> \u5e73\u51e1\u7684\u4e16\u754c</li> </ul>"},{"location":"baiye/list/#_5","title":"\u65c5\u884c","text":"<ul> <li> \u6d59\u6c5f - \u5b89\u5409</li> <li> \u6d59\u6c5f - \u821f\u5c71</li> <li> \u6c5f\u82cf - \u6ea7\u9633</li> <li> \u6c5f\u82cf - \u5357\u4eac</li> <li> \u6c5f\u82cf - \u5468\u5e84</li> <li> \u5b89\u5fbd - \u9ec4\u5c71</li> <li> \u6e56\u5317 - \u9ec4\u77f3</li> <li> \u4e2d\u56fd - \u53f0\u6e7e</li> <li> \u97e9\u56fd - \u6d4e\u5dde\u5c9b</li> <li> \u9a6c\u6765\u897f\u4e9a - \u6c99\u5df4\u5c9b</li> </ul>"},{"location":"baiye/poetry/","title":"\u8bd7\u96c6","text":""},{"location":"baiye/poetry/#_2","title":"\u7a7a","text":"<p>\u2014\u2014 \u51af\u5510</p> <p>\u6211\u5199\u4e86\u51e0\u767e\u5b57 \u5220\u4e86\u51e0\u767e\u5b57 \u518d\u5199\u4e86\u51e0\u5341\u4e2a\u5b57 \u5220\u4e86\u51e0\u5341\u4e2a\u5b57 \u7136\u540e \u6211\u5199\u4e86\u51e0\u4e2a\u5b57\u52a0\u4e86\u51e0\u4e2a\u5b57 \u53c8\u5220\u4e86\u51e0\u4e2a\u5b57 \u770b\u8fd9\u5f20\u767d\u7eb8 \u6211\u5199\u7ed9\u4f60\u7684\u8bd7 \u5171\u8fd9\u6ee1\u8179\u7684\u5fc3\u4e8b \u7adf\u7a7a\u65e0\u4e00\u5b57</p>"},{"location":"baiye/reference/","title":"reference","text":"<p>\u201c\u90a3\u4e00\u5929\u6211\u4e8c\u5341\u4e00\u5c81\uff0c\u5728\u6211\u4e00\u751f\u7684\u9ec4\u91d1\u65f6\u4ee3\u3002\u6211\u6709\u597d\u591a\u5962\u671b\u3002\u6211\u60f3\u7231\uff0c\u60f3\u5403\uff0c\u8fd8\u60f3\u518d\u4e00\u77ac\u95f4\u53d8\u6210\u5929\u4e0a\u534a\u660e\u534a\u6697\u7684\u4e91\u3002\u6211\u6765\u6211\u624d\u77e5\u9053\uff0c\u751f\u6d3b\u5c31\u662f\u4e2a\u7f13\u6162\u53d7\u9524\u7684\u8fc7\u7a0b\uff0c\u4eba\u4e00\u5929\u5929\u8001\u4e0b\u53bb\uff0c\u5962\u671b\u4e5f\u4e00\u5929\u5929\u6d88\u5931\uff0c\u6700\u540e\u53d8\u5f97\u50cf\u6328\u4e86\u9524\u7684\u725b\u4e00\u6837\u3002\u53ef\u662f\u6211\u8fc7\u4e8c\u5341\u4e00\u5c81\u751f\u65e5\u65f6\u6ca1\u6709\u9884\u89c1\u5230\u8fd9\u4e00\u70b9\u3002\u6211\u89c9\u5f97\u81ea\u5df1\u4f1a\u6c38\u8fdc\u751f\u731b\u4e0b\u53bb\uff0c\u4ec0\u4e48\u4e5f\u9524\u4e0d\u4e86\u6211\u3002\u201d \u2014\u2014 \u738b\u5c0f\u6ce2\u300a\u9ec4\u91d1\u65f6\u4ee3\u300b</p>"},{"location":"favorites/article/","title":"\u6587\u7ae0","text":""},{"location":"favorites/article/#solution","title":"Solution","text":"<ul> <li>Making 1 million requests with python-aiohttp</li> <li>Making an Unlimited Number of Requests with Python aiohttp + pypeln</li> </ul>"},{"location":"favorites/article/#tool","title":"Tool","text":"<ul> <li>Clipboard operations in python</li> </ul>"},{"location":"favorites/guidelines/","title":"\u6559\u7a0b","text":"<ul> <li>\u4f7f\u7528Github+picGo\u642d\u5efa\u56fe\u5e8a\uff0c\u4fdd\u59c6\u7ea7\u6559\u7a0b\u6765\u4e86</li> </ul>"},{"location":"favorites/site/","title":"site","text":""},{"location":"favorites/site/#_1","title":"\u6280\u80fd\u5b66\u4e60","text":"<ul> <li>LeetCode</li> <li>imooc</li> <li>bilibili</li> <li>YouTube</li> <li>Quick Reference</li> </ul>"},{"location":"favorites/site/#_2","title":"\u81ea\u52a8\u5316\u6d4b\u8bd5","text":"<ul> <li>UI Test Automation Playground</li> <li>Practice and become pro in test automation</li> <li>Software Testing Help</li> <li>Google Testing Blog</li> </ul>"},{"location":"favorites/site/#api","title":"API \u6d4b\u8bd5","text":"<ul> <li>A simple HTTP Request &amp; Response Service</li> <li>Test your front-end against a real API</li> </ul>"},{"location":"favorites/site/#_3","title":"\u5de5\u5177","text":"<ul> <li>\u9e20\u6469\u641c\u7d22</li> <li>UA \u89e3\u6790</li> <li>\u6cb9\u7334\u811a\u672c\u5e93</li> <li>HAR Analyzer</li> <li>\u90ae\u7f16\u67e5\u8be2</li> <li>Run Python in Your HTML</li> <li>Public APIs</li> <li>Awesome APIs</li> </ul>"},{"location":"favorites/site/#_4","title":"\u4e2a\u4eba\u535a\u5ba2","text":"<ul> <li>\u4ea7\u54c1\u6c89\u601d\u5f55</li> <li>\u5ed6\u96ea\u5cf0\u7684\u5b98\u65b9\u7f51\u7ad9</li> </ul>"},{"location":"favorites/site/#_5","title":"\u5b66\u4e60\u8bfe\u7a0b","text":"<ul> <li>pandas</li> <li>playwright</li> </ul>"},{"location":"favorites/tool/","title":"tool","text":""},{"location":"favorites/tool/#_1","title":"\u5f00\u53d1\u8005\u5de5\u5177","text":"<ul> <li>VSCode</li> <li>HeidiSQL</li> <li>DataGrip</li> <li>CloudBerry Explorer for Amazon S3</li> <li>Remote Desktop Connection Manager</li> <li>WinSCP</li> <li>Airtest</li> <li>Xshell</li> <li>Microsoft Edge</li> <li>Google Chrome</li> <li>Docker Desktop</li> <li>Postman</li> <li>Fiddler</li> <li>Figma</li> <li>Python</li> <li>Java</li> <li>Git</li> <li>WSL(g)</li> <li>Scoop</li> <li>Notepad++</li> <li>EmEditor</li> </ul>"},{"location":"favorites/tool/#_2","title":"\u7cfb\u7edf\u5de5\u5177","text":"<ul> <li>uTools</li> <li>Everything</li> <li>7-Zip</li> <li>Notion</li> <li>PotPlayer</li> <li>calibre</li> <li>FastStone Capture</li> <li>Diffinity</li> <li>Snipaste</li> <li>XMind Zen</li> <li>GifCam</li> <li>Traffic Monitor</li> <li>OneNote</li> <li>CCleaner</li> <li>EV\u5f55\u5c4f</li> <li>\u706b\u7ed2</li> <li>\u6781\u901fPDF\u9605\u8bfb\u5668</li> <li>PotPlayer</li> <li>\u98de\u4e66</li> <li>\u5fae\u4fe1</li> <li>TIM</li> </ul>"},{"location":"favorites/tool/#vpn","title":"VPN","text":"<ul> <li>OpenConnect-GUI</li> <li>Clash for Windows</li> <li>\u718a\u732b</li> </ul>"},{"location":"favorites/tool/#_3","title":"\u6d4f\u89c8\u5668\u63d2\u4ef6","text":"<ul> <li>Tampermonkey</li> <li>letXPath</li> </ul>"},{"location":"favorites/tool/#vscode","title":"VSCode \u63d2\u4ef6","text":"<ul> <li>WSL</li> <li>Docker</li> <li>Remote - SSH</li> <li>Excel Viewer</li> <li>Git Graph</li> <li>Markdown All in One</li> <li>Pylance</li> <li>Python</li> <li>Python Test Explorer</li> <li>Rainbow CSV</li> <li>REST Client</li> <li>Task Explorer</li> <li>Test Explorer UI</li> <li>vscode-fileheader</li> <li>Todo Tree</li> <li>YAML</li> <li>Svg Preview</li> <li>Material Icon Theme</li> <li>Microsoft Edge Tools for VS Code</li> <li>One Dark Pro</li> <li>SonarLint</li> </ul>"},{"location":"full-stack/algorithm/algorithm/","title":"LeetCode","text":""},{"location":"full-stack/algorithm/algorithm/#_1","title":"\u6590\u6ce2\u62c9\u5951\u6570\u5217","text":"<pre><code>def fib(n):\n    if n == 1:\n        return 1\n    elif n == 2:\n        return 2\n    else:\n        return fib(n - 1) + fib(n - 2)\n\ndef fib2(n):\n    i, a, b = 0, 0, 1\n    while i &lt; n:\n        yield b\n        a, b = b, a + b\n        i += 1\n\nfor i in fib2(6):\n    print(i)\n</code></pre>"},{"location":"full-stack/algorithm/algorithm/#_2","title":"\u6768\u8f89\u4e09\u89d2","text":"<p><pre><code>def triangles(n):\n\n    L = [1]\n    i = 0\n    while i &lt; n:\n        yield L\n        L = [1] + [L[i] + L[i + 1] for i in range(len(L) - 1)] + [1]\n        i += 1\n\nfor i in triangles(6):\n    print(i)\n</code></pre> </p>"},{"location":"full-stack/algorithm/algorithm/#_3","title":"\u7d20\u6570","text":"<pre><code>def sushu(n):\n\n    data = []\n    for i in range(1, n):\n        count = 0\n        for j in range(1, i + 1):\n            if i % j == 0:\n                count += 1\n                if count &gt; 2:\n                    break\n        if count &lt;= 2:\n            data.append(i)\n\n    return data\n\nprint(sushu(20))\n</code></pre>"},{"location":"full-stack/algorithm/algorithm/#_4","title":"\u4e8c\u5206\u67e5\u627e","text":"<pre><code># \u89e3\u6cd5\u4e00\uff1a\u9012\u5f52\ndef search(self, nums: List[int], target: int) -&gt; int:\n    def search_num(nums, start, end, target):\n        mid = (start + end) // 2\n\n         if start &lt;= end:\n             if target &gt; nums[mid]:\n                 return search_num(nums, mid + 1, end, target)\n             elif target &lt; nums[mid]:\n                 return search_num(nums, start, mid - 1, target)\n             else:\n                 return mid\n\n         else:\n             return -1\n\n    return search_num(nums, 0, len(nums) - 1, target)\n\n# \u89e3\u6cd5\u4e8c\uff1a\u5faa\u73af\ndef search(self, nums: List[int], target: int) -&gt; int:\n\n    start = 0\n    end = len(nums) - 1\n\n    while start &lt;= end:\n        mid = (start + end) // 2\n        if target &gt; nums[mid]:\n            start = mid + 1\n        elif target &lt; nums[mid]:\n            end = mid - 1\n        else:\n            return mid\n\n    return -1\n</code></pre>"},{"location":"full-stack/algorithm/algorithm/#_5","title":"\u5b57\u7b26\u4e32\u89e3\u7801","text":"<pre><code>def decodeString(self, s: str) -&gt; str:\n    stack, res, multi = [], \"\", 0\n\n    for c in s:\n        if c == \"[\":\n            stack.append([multi, res])\n            res, multi = \"\", 0\n\n        elif c == \"]\":\n            cur_muti, last_res = stack.pop()\n            res = last_res + cur_muti * res\n\n        elif \"0\" &lt;= c &lt;= \"9\":\n            multi = multi * 10 + int(c)\n\n        else:\n            res += c\n\n    return res\n</code></pre>"},{"location":"full-stack/algorithm/algorithm/#_6","title":"\u4e24\u6570\u4e4b\u548c","text":"<pre><code># \u89e3\u6cd5\u4e00\ndef twoSum(self, nums: List[int], target: int) -&gt; List[int]:\n    for i, num in enumerate(nums):\n        for j in range(i + 1, len(nums)):\n            if num + nums[j] == target:\n                return i, j\n\n\n# \u89e3\u6cd5\u4e8c\ndef twoSum(self, nums: List[int], target: int) -&gt; List[int]:\n    temp = {}\n    for i, v in enumerate(nums):\n\n        if (target - v) in temp:\n            return [temp.get(target - v), i]\n        else:\n            temp[v] = i\n</code></pre>"},{"location":"full-stack/algorithm/algorithm/#_7","title":"\u722c\u697c\u68af","text":"<pre><code># \u89e3\u6cd5\u4e00\uff1aTime Limit Exceeded - \u5b58\u5728\u91cd\u590d\u8ba1\u7b97\u95ee\u9898\ndef climbStairs(self, n: int) -&gt; int:\n    if n == 1:\n        return 1\n    elif n == 2:\n        return 2\n    else:\n        return self.climbStairs(n - 1) + self.climbStairs(n - 2)\n\n# \u89e3\u6cd5\u4e8c\uff1a\u5b58\u50a8\u5df2\u7ecf\u8ba1\u7b97\u7684\u503c\uff0c\u907f\u514d\u91cd\u590d\u8ba1\u7b97\ndata = {}\ndef climbStairs(self, n: int) -&gt; int:\n    if n == 1:\n        return 1\n    elif n == 2:\n        return 2\n\n    if n in self.data:\n        return self.data[n]\n    else:\n        result = self.climbStairs(n - 1) + self.climbStairs(n - 2)\n        self.data[n] = result\n        return result\n\n# \u89e3\u6cd5\u4e09\uff1a\u4f7f\u7528\u5faa\u73af\ndef climbStairs(self, n: int) -&gt; int:\n    if n == 1:\n        return 1\n    elif n == 2:\n        return 2\n\n    result = 0\n    pre = 2\n    pre_pre = 1\n    for i in range(3, n + 1):\n        result = pre + pre_pre\n        pre_pre = pre\n        pre = result\n\n    return result\n</code></pre>"},{"location":"full-stack/algorithm/algorithm/#_8","title":"\u56de\u6587\u5b57\u7b26\u4e32","text":"<pre><code>import re\n\ndef is_huiwenstring(data: str):\n    pattern = r\"[a-zA-Z0-9]\"\n    data = re.findall(pattern, data)\n\n    data = \"\".join([d.lower() for d in data])\n\n    if data[:] == data[::-1]:\n        return True\n    else:\n        return False\n\n\ndata = \"A man a plan a canal panama\"\nis_huiwenstring(data)\n</code></pre>"},{"location":"full-stack/algorithm/algorithm/#_9","title":"\u76f8\u5173\u62d3\u5c55","text":"<ul> <li>Leetcode Solution</li> </ul>"},{"location":"full-stack/best-practices/design-pattern/","title":"\u8bbe\u8ba1\u6a21\u5f0f","text":""},{"location":"full-stack/best-practices/design-pattern/#_2","title":"\u7b80\u5355\u5de5\u5382\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n\nclass Payment(metaclass=ABCMeta):\n    @abstractmethod\n    def pay(self, money):\n        pass\n\n\nclass AliPay(Payment):\n    def pay(self, money):\n        print(f\"\u652f\u4ed8\u5b9d\u652f\u4ed8 {money} \u5143\")\n\n\nclass WechatPay(Payment):\n    def pay(self, money):\n        print(f\"\u5fae\u4fe1\u652f\u4ed8 {money} \u5143\")\n\n\nclass PaymentFactory:\n    def create_payment(self, method):\n        if method == \"AliPay\":\n            return AliPay()\n        elif method == \"wechat\":\n            return WechatPay()\n        else:\n            raise TypeError(f\"No such payment named {method}\")\n\n\nfactory = PaymentFactory()\npayment = factory.create_payment(\"AliPay\")\npayment.pay(1000)\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_3","title":"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n\nclass Payment(metaclass=ABCMeta):\n    @abstractmethod\n    def pay(self, money):\n        pass\n\n\nclass AliPay(Payment):\n    def pay(self, money):\n        print(f\"\u652f\u4ed8\u5b9d\u652f\u4ed8 {money} \u5143\")\n\n\nclass WechatPay(Payment):\n    def pay(self, money):\n        print(f\"\u5fae\u4fe1\u652f\u4ed8 {money} \u5143\")\n\n\nclass PaymentFactory(metaclass=ABCMeta):\n    @abstractmethod\n    def create_payment(self):\n        pass\n\n\nclass AliPayFactory(PaymentFactory):\n    def create_payment(self):\n        return AliPay()\n\n\nclass WechatFactory(PaymentFactory):\n    def create_payment(self):\n        return WechatPay()\n\n\nfactory = AliPayFactory()\npay = factory.create_payment()\npay.pay(1000)\n\n\nfactory = WechatFactory()\npay = factory.create_payment()\npay.pay(1000)\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_4","title":"\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n\n# ======= \u62bd\u8c61\u4ea7\u54c1 =======\nclass PhoneShell(metaclass=ABCMeta):\n    @abstractmethod\n    def show_shell(self):\n        pass\n\n\nclass CPU(metaclass=ABCMeta):\n    @abstractmethod\n    def show_cpu(self):\n        pass\n\n\nclass OS(metaclass=ABCMeta):\n    @abstractmethod\n    def show_os(self):\n        pass\n\n\n# ======= \u62bd\u8c61\u5de5\u5382 =======\nclass PhoneFactory(metaclass=ABCMeta):\n    @abstractmethod\n    def make_shell(self):\n        pass\n\n    @abstractmethod\n    def make_cpu(self):\n        pass\n\n    @abstractmethod\n    def make_os(self):\n        pass\n\n\n# ======= \u5177\u4f53\u4ea7\u54c1 =======\nclass SmallShell(PhoneShell):\n    def show_shell(self):\n        print(\"\u666e\u901a\u624b\u673a\u5c0f\u624b\u673a\u58f3\")\n\n\nclass BigShell(PhoneShell):\n    def show_shell(self):\n        print(\"\u666e\u901a\u624b\u673a\u5927\u624b\u673a\u58f3\")\n\n\nclass AppleShell(PhoneShell):\n    def show_shell(self):\n        print(\"\u82f9\u679c\u624b\u673a\u58f3\")\n\n\nclass SnapDragonCPU(CPU):\n    def show_cpu(self):\n        print(\"\u9a81\u9f99CPU\")\n\n\nclass MediaTekCPU(CPU):\n    def show_cpu(self):\n        print(\"\u8054\u53d1\u79d1CPU\")\n\n\nclass AppleCPU(CPU):\n    def show_cpu(self):\n        print(\"\u82f9\u679cCPU\")\n\n\nclass AndroidOS(OS):\n    def show_os(self):\n        print(\"\u5b89\u5353OS\")\n\n\nclass AppleOS(OS):\n    def show_os(self):\n        print(\"\u82f9\u679cOS\")\n\n\n# ======= \u5177\u4f53\u5de5\u5382 =======\nclass MiFactory(PhoneFactory):\n    def make_shell(self):\n        return BigShell()\n\n    def make_cpu(self):\n        return SnapDragonCPU()\n\n    def make_os(self):\n        return AndroidOS()\n\n\n# \u9650\u5236\u7ec4\u4ef6\u642d\u914d\uff0c\u4e0d\u5141\u8bb8\u968f\u610f\u7ec4\u88c5\nclass iPhoneFactory(PhoneFactory):\n    def make_shell(self):\n        return AppleShell()\n\n    def make_cpu(self):\n        return AppleCPU()\n\n    def make_os(self):\n        return AppleOS()\n\n\n# ======= \u5ba2\u6237\u7aef =======\nclass Phone:\n    def __init__(self, shell: PhoneShell, cpu: CPU, os: OS):\n        self.shell = shell\n        self.cpu = cpu\n        self.os = os\n\n    def show_info(self):\n        print(\"\u624b\u673a\u4fe1\u606f\uff1a\")\n        self.shell.show_shell()\n        self.cpu.show_cpu()\n        self.os.show_os()\n\n\ndef make_phone(factory: PhoneFactory):\n    shell = factory.make_shell()\n    cpu = factory.make_cpu()\n    os = factory.make_os()\n\n    return Phone(shell, cpu, os)\n\n\nmi_phone = make_phone(MiFactory())\nmi_phone.show_info()\n\niphone = make_phone(iPhoneFactory())\niphone.show_info()\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_5","title":"\u5efa\u9020\u8005\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n\nclass Player:\n    def __init__(self, face=None, body=None, arm=None, leg=None):\n        self.face = face\n        self.body = body\n        self.arm = arm\n        self.leg = leg\n\n    def __str__(self):\n        return f\"{self.face} {self.body} {self.arm} {self.leg}\"\n\n\nclass PlayerBuilder(metaclass=ABCMeta):\n    @abstractmethod\n    def build_face(self):\n        pass\n\n    @abstractmethod\n    def build_body(self):\n        pass\n\n    @abstractmethod\n    def build_arm(self):\n        pass\n\n    @abstractmethod\n    def build_leg(self):\n        pass\n\n\nclass SexyGirlBuilder(PlayerBuilder):\n    def __init__(self):\n        self.player = Player()\n\n    def build_face(self):\n        self.player.face = \"\u6f02\u4eae\u8138\u86cb\"\n\n    def build_body(self):\n        self.player.body = \"\u82d7\u6761\"\n\n    def build_arm(self):\n        self.player.arm = \"\u4fee\u957f\u624b\u81c2\"\n\n    def build_leg(self):\n        self.player.leg = \"\u5927\u957f\u817f\"\n\n\nclass MonsterBuilder(PlayerBuilder):\n    def __init__(self):\n        self.player = Player()\n\n    def build_face(self):\n        self.player.face = \"\u602a\u517d\u8138\"\n\n    def build_body(self):\n        self.player.body = \"\u602a\u517d\u8eab\u6750\"\n\n    def build_arm(self):\n        self.player.arm = \"\u957f\u6bdb\u7684\u80f3\u818a\"\n\n    def build_leg(self):\n        self.player.leg = \"\u957f\u6bdb\u7684\u817f\"\n\n\nclass PlayerDirector:\n    # \u63a7\u5236\u6e38\u620f\u89d2\u8272\u7ec4\u88c5\u987a\u5e8f\uff08\u6bd4\u5982\u5148\u8981\u6709\u8eaf\u5e72\uff0c\u624d\u80fd\u8bbe\u7f6e\u5176\u4ed6\u56db\u80a2\uff09\n    def build_player(self, builder):\n        builder.build_body()\n        builder.build_face()\n        builder.build_arm()\n        builder.build_leg()\n\n        return builder.player\n\n\nsexy_girl = SexyGirlBuilder()\ndirector = PlayerDirector()\npersion = director.build_player(sexy_girl)\nprint(persion)\n\n\nmonster = MonsterBuilder()\ndirector = PlayerDirector()\npersion = director.build_player(monster)\nprint(persion)\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_6","title":"\u5355\u4f8b\u6a21\u5f0f","text":"<pre><code>class Singleton:\n    def __new__(cls, *args, **kwargs):\n        if not hasattr(cls, \"_instance\"):\n            cls._instance = super(Singleton, cls).__new__(cls)\n\n        return cls._instance\n\n\nclass MyClass(Singleton):\n    def __init__(self, a):\n        self.a = a\n\n\na = MyClass(10)\nb = MyClass(20)\n\nprint(a.a)  # 20\nprint(b.a)  # 20\nprint(id(a), id(b))  # id(a) = id(b)\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_7","title":"\u9002\u914d\u5668\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n\nclass Payment(metaclass=ABCMeta):\n    @abstractmethod\n    def pay(self, money):\n        pass\n\n\nclass AliPay(Payment):\n    def pay(self, money):\n        print(f\"\u652f\u4ed8\u5b9d\u652f\u4ed8 {money} \u5143\")\n\n\nclass WechatPay(Payment):\n    def pay(self, money):\n        print(f\"\u5fae\u4fe1\u652f\u4ed8 {money} \u5143\")\n\n\n# Note: \u94f6\u8054\u652f\u4ed8\u7528\u7684\u662f cost \u5176\u4ed6\u652f\u4ed8\u7528\u7684\u662f pay, \u9700\u8981\u7528\u5230\u4e0b\u9762\u7684\u9002\u914d\u5668\u6a21\u5f0f\u8fdb\u884c\u8f6c\u6362\nclass BankPay:\n    def cost(self, money):\n        print(f\"\u94f6\u8054\u652f\u4ed8 {money} \u5143\")\n\n\n# \u7c7b\u9002\u914d\u5668\nclass NewBankPay(Payment, BankPay):\n    def pay(self, money):\n        self.cost(money)\n\n\n# \u5bf9\u8c61\u9002\u914d\u5668\nclass PaymentAdapter(Payment):\n    def __init__(self, payment):\n        self.payment = payment\n\n    def pay(self, money):\n        return self.payment.cost(money)\n\n\npay = AliPay()\npay.pay(1000)\n\npay = NewBankPay()\npay.pay(1000)\n\npay = PaymentAdapter(NewBankPay())\npay.pay(1000)\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_8","title":"\u6865\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n\nclass Shape(metaclass=ABCMeta):\n    # \u628a\u989c\u8272\u548c\u5f62\u72b6\u505a\u5173\u8054\uff0c\u5c06\u989c\u8272\u4f5c\u4e3a\u5f62\u72b6\u7684\u4e00\u4e2a\u5c5e\u6027\n    def __init__(self, color):\n        self.color = color\n\n    @abstractmethod\n    def draw(self):\n        pass\n\n\nclass Color(metaclass=ABCMeta):\n    @abstractmethod\n    def paint(self, shape):\n        pass\n\n\nclass Rectangle(Shape):\n    name = \"\u957f\u65b9\u5f62\"\n\n    def draw(self):\n        # draw rectangle logic\n        self.color.paint(self)\n\n\nclass Circle(Shape):\n    name = \"\u5706\u5f62\"\n\n    def draw(self):\n        # draw circle logic\n        self.color.paint(self)\n\n\nclass Red(Color):\n    def paint(self, shape):\n        print(f\"\u7ea2\u8272\u7684{shape.name}\")\n\n\nclass Blue(Color):\n    def paint(self, shape):\n        print(f\"\u84dd\u8272\u7684{shape.name}\")\n\n\nshape = Rectangle(Red())\nshape.draw()\n\nshape = Rectangle(Blue())\nshape.draw()\n\nshape = Circle(Red())\nshape.draw()\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_9","title":"\u7ec4\u5408\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n\n# \u62bd\u8c61\u7ec4\u4ef6\nclass Graphic(metaclass=ABCMeta):\n    @abstractmethod\n    def draw(self):\n        pass\n\n\n# \u53f6\u5b50\u7ec4\u4ef6\nclass Point(Graphic):\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\n    def __str__(self):\n        return f\"\u70b9 ({self.x}, {self.y})\"\n\n    def draw(self):\n        print(str(self))\n\n\n# \u53f6\u5b50\u7ec4\u4ef6\nclass Line(Graphic):\n    def __init__(self, p1, p2):\n        self.p1 = p1\n        self.p2 = p2\n\n    def __str__(self):\n        return f\"\u7ebf\u6bb5 ({self.p1}, {self.p2})\"\n\n    def draw(self):\n        print(str(self))\n\n\n# \u590d\u5408\u7ec4\u4ef6\uff08\u5305\u542b\u591a\u4e2a\u53f6\u5b50\u7ec4\u4ef6\uff09\nclass Picture(Graphic):\n    def __init__(self, iterable):\n        self.children = []\n\n        for g in iterable:\n            self.add(g)\n\n    def add(self, graphic):\n        self.children.append(graphic)\n\n    def draw(self):\n        print(\"----\u590d\u5408\u56fe\u5f62----\")\n        for g in self.children:\n            g.draw()\n        print(\"----\u590d\u5408\u56fe\u5f62----\")\n\n\nline = Line(Point(1, 1), Point(2, 2))\nprint(line)\n\n\npoint1 = Point(2, 3)\nline1 = Line(Point(3, 4), Point(6, 7))\nline2 = Line(Point(1, 5), Point(2, 8))\npic1 = Picture([point1, line1, line2])\n\npoint2 = Point(4, 4)\nline3 = Line(Point(1, 1), Point(0, 0))\npic2 = Picture([point2, line3])\n\npic = Picture([pic1, pic2])\npic.draw()\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_10","title":"\u5916\u89c2\u6a21\u5f0f","text":"<pre><code># \u5b50\u7cfb\u7edf\u7c7b\nclass CPU:\n    def run(self):\n        print(\"CPU\u5f00\u59cb\u8fd0\u884c\")\n\n    def stop(self):\n        print(\"CPU\u505c\u6b62\u8fd0\u884c\")\n\n\n# \u5b50\u7cfb\u7edf\u7c7b\nclass Disk:\n    def run(self):\n        print(\"\u786c\u76d8\u5f00\u59cb\u5de5\u4f5c\")\n\n    def stop(self):\n        print(\"\u786c\u76d8\u505c\u6b62\u5de5\u4f5c\")\n\n\n# \u5b50\u7cfb\u7edf\u7c7b\nclass Memory:\n    def run(self):\n        print(\"\u5185\u5b58\u5f00\u59cb\u8fd0\u884c\")\n\n    def stop(self):\n        print(\"\u5185\u5b58\u505c\u6b62\u8fd0\u884c\")\n\n\n# \u5916\u89c2\u7c7b\nclass Computer:\n    def __init__(self):\n        self.cpu = CPU()\n        self.disk = Disk()\n        self.memory = Memory()\n\n    def run(self):\n        self.cpu.run()\n        self.disk.run()\n        self.memory.run()\n\n    def stop(self):\n        self.cpu.stop()\n        self.disk.stop()\n        self.memory.stop()\n\n\ncomputer = Computer()\ncomputer.run()\ncomputer.stop()\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_11","title":"\u4ee3\u7406\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n\n# \u62bd\u8c61\u5b9e\u4f53\nclass Subject(metaclass=ABCMeta):\n    @abstractmethod\n    def get_content(self):\n        pass\n\n    @abstractmethod\n    def set_content(self, content):\n        pass\n\n\n# \u5b9e\u4f53\nclass RealSubject(Subject):\n    def __init__(self, filename):\n        self.filename = filename\n\n        print(\"\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\")\n        with open(filename, \"r\") as f:\n            self.content = f.read()\n\n    def get_content(self):\n        return self.content\n\n    def set_content(self, content):\n        with open(self.filename, \"w\") as f:\n            f.write(content)\n\n\n# \u865a\u4ee3\u7406\nclass VirtualProxy(Subject):\n    def __init__(self, filename):\n        self.filename = filename\n        self.subject = None  # \u521d\u59cb\u5316\u65f6\u8bbe\u7f6e\u4e3a\u7a7a\uff0c\u4ec5\u5f53\u8c03\u7528 get_content \u65f6\u624d\u53bb\u8c03\u7528\u771f\u5b9e\u7684 get_content \u65b9\u6cd5\n\n    def get_content(self):\n        if not self.subject:\n            self.subject = RealSubject(self.filename)\n            return self.subject.get_content()\n\n    def set_content(self, content):\n        if not self.subject:\n            self.subject = RealSubject(self.filename)\n\n        return self.subject.set_content(content)\n\n\n# \u4fdd\u62a4\u4ee3\u7406\nclass ProtectedProxy(Subject):\n    def __init__(self, filename):\n        self.subject = RealSubject(filename)\n\n    def get_content(self):\n        return self.subject.get_content()\n\n    def set_content(self, content):\n        # \u9a8c\u8bc1\u6743\u9650\u76f8\u5173\u903b\u8f91 ...\n        raise PermissionError(\"\u65e0\u5199\u5165\u6743\u9650\")\n\n\n# NOTE: \u5728\u4f7f\u7528\u865a\u4ee3\u7406\u524d\uff0c\u6784\u9020RealSubject\u65f6\uff08\u6b64\u65f6\u8fd8\u672a\u8c03\u7528get_content()\uff09\u5df2\u7ecf\u52a0\u8f7d\u5177\u4f53\u7684\u6587\u4ef6\u4e86\nsubject = RealSubject(\"/mnt/d/src/python/TestBase/tmp/test.txt\")\nsubject.get_content()\n\n# NOTE: \u5728\u4f7f\u7528\u865a\u4ee3\u7406\u540e\uff0c\u6784\u9020RealSubject\u65f6\u4e0d\u4f1a\u52a0\u8f7d\u5177\u4f53\u7684\u6587\u4ef6\uff0c\u4ec5\u5728\u8c03\u7528 get_content \u65f6\u624d\u52a0\u54c9\u6587\u4ef6\nsubject = VirtualProxy(\"/mnt/d/src/python/TestBase/tmp/test.txt\")\nprint(subject.get_content())\n\n\n# NOTE: \u5728\u4f7f\u7528\u4fdd\u62a4\u4ee3\u7406\u540e\uff0c\u4ec5\u6709\u8bfb\u6743\u9650\uff0c\u65e0\u5199\u6743\u9650\nsubject = ProtectedProxy(\"/mnt/d/src/python/TestBase/tmp/test.txt\")\nprint(subject.get_content())\nsubject.set_content(\"abc\")  # PermissionError: \u65e0\u5199\u5165\u6743\u9650\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_12","title":"\u8d23\u4efb\u94fe\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n\n# \u62bd\u8c61\u5904\u7406\u8005\nclass Handler(metaclass=ABCMeta):\n    @abstractmethod\n    def handle_leave(self, day):\n        pass\n\n\n# \u5177\u4f53\u5904\u7406\u8005\nclass GeneralManager(Handler):\n    def handle_leave(self, day):\n        if day &lt; 10:\n            print(f\"\u603b\u7ecf\u7406\u51c6\u5047 {day} \u5929\")\n        else:\n            print(\"\u4e0d\u7b26\u5408\u516c\u53f8\u89c4\u5b9a, \u4e0d\u4e88\u6279\u51c6\")\n\n\n# \u5177\u4f53\u5904\u7406\u8005\nclass ProjectManager(Handler):\n    def __init__(self):\n        self.next = GeneralManager()\n\n    def handle_leave(self, day):\n        if day &lt;= 5:\n            print(f\"\u9879\u76ee\u7ecf\u7406\u51c6\u5047 {day} \u5929\")\n        else:\n            print(\"\u9879\u76ee\u7ecf\u7406\u6743\u9650\u4e0d\u8db3\")\n            self.next.handle_leave(day)\n\n\n# \u5177\u4f53\u5904\u7406\u8005\nclass TeamLeader(Handler):\n    def __init__(self):\n        self.next = ProjectManager()\n\n    def handle_leave(self, day):\n        if day &lt;= 3:\n            print(f\"\u603b\u7ecf\u7406\u51c6\u5047 {day} \u5929\")\n        else:\n            print(\"Team Leader \u6743\u9650\u4e0d\u8db3\")\n            self.next.handle_leave(day)\n\n\n# \u8d23\u4efb\u94fe\uff1aTeam Leader -&gt; Project Manager -&gt; General Manager\n\nhandle = TeamLeader()\nhandle.handle_leave(1)\nhandle.handle_leave(5)\nhandle.handle_leave(7)\nhandle.handle_leave(11)\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_13","title":"\u89c2\u5bdf\u8005\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n# \u62bd\u8c61\u8ba2\u9605\u8005\nclass Observer(metaclass=ABCMeta):\n    @abstractmethod\n    def update(self, publisher):  # publisher \u662f\u4e00\u4e2a Publisher \u7c7b\u7684\u5bf9\u8c61\n        pass\n\n\n# \u62bd\u8c61\u53d1\u5e03\u8005\nclass Publisher:\n    def __init__(self):\n        self.observers = []\n\n    def attach(self, observer):\n        self.observers.append(observer)\n\n    def detach(self, observer):\n        self.observers.remove(observer)\n\n    def notify(self):\n        for observer in self.observers:\n            observer.update(self)\n\n\n# \u5177\u4f53\u53d1\u5e03\u8005\nclass StaffPublisher(Publisher):\n    def __init__(self, company_info=None):\n        super().__init__()\n        self.__company_info = company_info\n\n    @property\n    def company_info(self):\n        return self.__company_info\n\n    @company_info.setter\n    def company_info(self, info):\n        self.__company_info = info\n        self.notify()\n\n\nclass Staff(Observer):\n    def __init__(self):\n        self.company_info = None\n\n    def update(self, publisher):\n        self.company_info = publisher.company_info\n\n\npublisher = StaffPublisher(\"\u521d\u59cb\u5316\u516c\u53f8\u4fe1\u606f\")\nstaff01 = Staff()\nstaff02 = Staff()\n\npublisher.attach(staff01)\npublisher.attach(staff02)\n\npublisher.company_info = \"\u516c\u53f8\u4eca\u5e74\u4e1a\u7ee9\u975e\u5e38\u597d\uff0c\u7ed9\u5927\u5bb6\u53d1\u5956\u91d1\"\nprint(staff01.company_info)\nprint(staff02.company_info)\n\n\npublisher.detach(staff01)\npublisher.company_info = \"\u516c\u53f8\u660e\u5929\u653e\u5047\"\nprint(staff01.company_info)\nprint(staff02.company_info)\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_14","title":"\u7b56\u7565\u6a21\u5f0f","text":"<pre><code>from abc import ABCMeta, abstractmethod\n\n\nclass Strategy(metaclass=ABCMeta):\n    @abstractmethod\n    def execute(self, data):\n        pass\n\n\nclass FastStrategy(Strategy):\n    def execute(self, data):\n        print(f\"\u7528\u8f83\u5feb\u7684\u7b56\u7565\u5904\u7406 {data}\")\n\n\nclass SlowStrategy(Strategy):\n    def execute(self, data):\n        print(f\"\u7528\u8f83\u6162\u7684\u7b56\u7565\u5904\u7406 {data}\")\n\n\nclass Context:\n    def __init__(self, strategy, data):\n        self.data = data\n        self.strategy = strategy\n\n    def set_strategy(self, strategy):\n        self.strategy = strategy\n\n    def do_strategy(self):\n        self.strategy.execute(self.data)\n\n\ndata = \"[...]\"\ns1 = FastStrategy()\ns2 = SlowStrategy()\n\ncontext = Context(s1, data)\ncontext.do_strategy()\n\n\ncontext = Context(s2, data)\ncontext.do_strategy()\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_15","title":"\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f","text":"<pre><code>from time import sleep\nfrom abc import ABCMeta, abstractmethod\n\n\nclass Window(metaclass=ABCMeta):\n    @abstractmethod\n    def start(self):\n        pass\n\n    @abstractmethod\n    def repaint(self):\n        pass\n\n    @abstractmethod\n    def stop(self):\n        pass\n\n    # \u6a21\u677f\u65b9\u6cd5\n    def run(self):\n        self.start()\n\n        while True:\n            try:\n                self.repaint()\n                sleep(1)\n            except KeyboardInterrupt:\n                break\n        self.stop()\n\n\nclass MyWindow(Window):\n    def __init__(self, msg):\n        self.msg = msg\n\n    def start(self):\n        print(\"\u7a97\u53e3\u5f00\u59cb\u8fd0\u884c\")\n\n    def stop(self):\n        print(\"\u7a97\u53e3\u7ed3\u675f\u8fd0\u884c\")\n\n    def repaint(self):\n        print(self.msg)\n\n\nwindow = MyWindow(\"hello...\")\nwindow.run()\n</code></pre>"},{"location":"full-stack/best-practices/design-pattern/#_16","title":"\u5b66\u4e60\u8d44\u6e90","text":"<ul> <li>Python\u4e4b\u5e38\u7528\u8bbe\u8ba1\u6a21\u5f0f</li> </ul>"},{"location":"full-stack/cicd/build/","title":"build","text":""},{"location":"full-stack/cicd/cicd/","title":"CI/CD","text":""},{"location":"full-stack/cicd/cicd/#_1","title":"\u62d3\u5c55\u9605\u8bfb","text":"<ul> <li>Coaching on DevOps and Cloud Computing</li> </ul>"},{"location":"full-stack/cicd/docker/","title":"docker","text":""},{"location":"full-stack/cicd/docker/#docker_1","title":"Docker \u57fa\u7840\u77e5\u8bc6","text":"<pre><code>https://www.docker.com/\nhttps://www.docker.org.cn/\nhttps://www.bilibili.com/video/BV1Vs411E7AR?from=search&amp;seid=7596747318335787395\n\n\u5f00\u53d1 =\u300b \u8fd0\u7ef4\uff1a\u7cfb\u7edf&amp;\u73af\u5883&amp;\u914d\u7f6e\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4\u8f6f\u4ef6\u4e0d\u80fd\u6309\u9884\u671f\u8fd0\u884c\n\nDocker: \u4ee3\u7801/\u914d\u7f6e/\u7cfb\u7edf/\u6570\u636e/... \u6574\u4f53\u73af\u5883\u6253\u5305  =\u300b \u8f6f\u4ef6\u5e26\u73af\u5883\u90e8\u7f72\uff0c\u907f\u514d\u5728\u5f00\u53d1\u673a\u5668\u4e0a\u6b63\u5e38\u5de5\u4f5c\uff0c\u4e00\u90e8\u7f72\u5230\u670d\u52a1\u5668\u4e0a\u5c31\u5404\u79cd\u95ee\u9898\n\n\nimage: \n\n\u5728\u96c6\u7fa4\u90e8\u7f72\u573a\u666f\u4e2d\uff0c\u4f1a\u5305\u542b\u5f88\u591a\u673a\u5668\uff0c\u5728\u4e00\u53f0\u673a\u5668\u4e0a\u88c5\u5b8c\u73af\u5883\u540e\uff0c\u9700\u8981\u4e00\u904d\u53c8\u4e00\u904d\u91cd\u590d\u5b89\u88c5\u5230\u5176\u5b83\u673a\u5668\uff0c\u8fc7\u7a0b\u7e41\u7410\uff0c\u4f46\u5982\u679c\u628a\u5176\u4e2d\u4e00\u53f0\u673a\u5668\u7684\u73af\u5883\u505a\u6210\u955c\u50cf\uff0c\u5728\u5206\u53d1\u5230\u5176\u5b83\u6240\u6709\u673a\u5668\u4e2d\uff0c\u8fd9\u6837\u5c31\u5f88\u597d\u5730\u89e3\u51b3\u4e86\u96c6\u7fa4\u90e8\u7f72\u8fc7\u7a0b\u4e2d\u7684\u7e41\u7410\u8fc7\u7a0b\n\n\u4e00\u6b21\u5c01\u88c5\uff08\u6784\u5efa\uff09\uff0c\u5904\u5904\u8fd0\u884c\n\ndocker\u4e09\u8981\u7d20\uff1a\u4ed3\u5e93\u3001\u955c\u50cf\u3001\u5bb9\u5668\n\n\n\u865a\u62df\u673a\uff1a\u5360\u7528\u8d44\u6e90\u591a\u3001\u5197\u4f59\u6b65\u9aa4\u591a\u3001\u542f\u52a8\u6162\n\n\nLXC\uff1a Linux Containers\n\n\n\u5bb9\u5668 =\u300b \u96c6\u88c5\u7bb1\uff1a\u6ca1\u6709\u81ea\u5df1\u7684\u5185\u6838\uff0c\u6ca1\u6709\u786c\u4ef6\u865a\u62df\uff0c\u5f7c\u6b64\u9694\u79bb\n\u9cb8\u9c7c =\u300b Docker\n\n\ndevops =&gt; \u5f00\u53d1\u81ea\u8fd0\u7ef4\n\n\n\u8f7b\u91cf\uff1acentos/ubuntu \u57fa\u7840\u955c\u50cf\u4ec5170M\uff0c\u4ec5\u5305\u542b\u4e1a\u52a1\u8fd0\u884c\u65f6\u6240\u9700\u7684runtime\n\u9ad8\u6548\uff1a\u65e0\u64cd\u4f5c\u7cfb\u7edf\u865a\u62df\u5316\u5f00\u9500\n\u654f\u6377\uff0c\u7075\u6d3b\n\u79d2\u7ea7\u542f\u52a8\n\n\n\u51e1\u6280\u672f\uff0c\u5fc5\u767b\u5b98\u7f51\n\n\ndocker hub\uff1a\u955c\u50cf\u4ed3\u5e93 =&gt; github\n\n\nlsb_release -a          \n    No LSB modules are available.\n    Distributor ID: Ubuntu\n    Description:    Ubuntu 20.04 LTS\n    Release:        20.04\n    Codename:       focal\n\n\ndocker build\ndocker pull \ndocker run\n\n\u955c\u50cf\uff1a\u53ea\u8bfb\u6a21\u677f =\u300b \u4e00\u4e2a\u955c\u50cf\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u5bb9\u5668\n\u5bb9\u5668\uff1a\u955c\u50cf\u7684\u5b9e\u4f8b  \n    =\u300b Persion p1 = new Persion()\n    =\u300b Persion p2 = new Persion()\n    =\u300b Persion p3 = new Persion()\n\n    Persion =\u300b \u955c\u50cf\uff1bp1,p2,p3 =&gt; \u5bb9\u5668\n\n    \u5bb9\u5668\u53ef\u4ee5\u88ab\u542f\u52a8\u3001\u5f00\u59cb\u3001\u505c\u6b62\u3001\u5220\u9664\uff0c\u6bcf\u4e2a\u5bb9\u5668\u76f8\u4e92\u9694\u79bb\uff0c\u6bcf\u4e2a\u5bb9\u5668\u5c31\u662f\u4e00\u4e2a\u96c6\u88c5\u7bb1\uff0c\u53ef\u4ee5\u628a\u5bb9\u5668\u770b\u4f5c\u662f\u4e00\u4e2a\u7b80\u6613\u7248\u7684Linux\u73af\u5883\uff08Linux\u5f88\u591a\u547d\u4ee4\u53ef\u4ee5\u5728docker\u5185\u4f7f\u7528\uff09\n\n\n\u4ed3\u5e93\uff1a\u96c6\u4e2d\u5b58\u653e\u955c\u50cf\u7684\u573a\u6240\n\n\ntag: \u7248\u672c\u53f7\n\n\ndocker\u672c\u8eab\u662f\u4e00\u4e2a\u5bb9\u5668\u8fd0\u884c\u8f7d\u4f53\u6216\u79f0\u4e4b\u4e3a\u7ba1\u7406\u5f15\u64ce\u3002\u6211\u4eec\u628a\u5e94\u7528\u7a0b\u5e8f\u548c\u914d\u7f6e\u4f9d\u8d56\u6253\u5305\u6210\u4e00\u4e2a\u53ef\u4ea4\u4ed8\u7684\u8fd0\u884c\u73af\u5883\uff0c\u8fd9\u4e2a\u6253\u5305\u597d\u7684\u8fd0\u884c\u73af\u5883\u5c31\u662f\u955c\u50cf\u6587\u4ef6\uff08image\uff09\uff0c\u53ea\u6709\u901a\u8fc7\u8fd9\u4e2a\u955c\u50cf\u6587\u4ef6\u624d\u80fd\u751f\u6210docker\u5bb9\u5668\uff0cimage\u6587\u4ef6\u53ef\u4ee5\u770b\u4f5c\u662f\u5bb9\u5668\u7684\u6a21\u677f\u3002\ndocker\u6839\u636eimage\u6587\u4ef6\u751f\u6210\u5bb9\u5668\u7684\u5b9e\u4f8b\uff0c\u540c\u4e00\u4e2aimage\u6587\u4ef6\uff0c\u53ef\u4ee5\u751f\u6210\u591a\u4e2a\u540c\u65f6\u8fd0\u884c\u7684\u5b9e\u4f8b\u3002\n\n\n\u4e00\u4e2a\u5bb9\u5668\u8fd0\u884c\u4e00\u79cd\u670d\u52a1\uff08\u5982 nginx/redis/mysql\u7b49\uff09\n\n\ncentos 6.8:\nyum install -y epel-release \nyum install -y docker-io\n/etc/sysconfig/docker =&gt; \u914d\u7f6e\u6587\u4ef6\u5730\u5740\n\n\nservice docker start\nwindows docker desktop \u624b\u52a8\u91cd\u542f\n\n\nhttps://cr.console.aliyun.com/cn-hangzhou/instances/mirrors\n\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'\n{\n  \"registry-mirrors\": [\"https://xxxxxx.mirror.aliyuncs.com\"]\n}\nEOF\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n\n\nps -ef | grep docker\n\n\ndocker run hello-world   (hello-world \u4e3a\u5b98\u65b9\u6d4b\u8bd5\u955c\u50cf)\n\n===============================================================================================\n\n\u5927\u6d77   - \u5bbf\u4e3b\u673a\n\u9cb8\u9c7c   - docker\n\u96c6\u88c5\u7bb1 - \u5bb9\u5668\u5b9e\u4f8b\uff08\u6765\u81eaimage\uff09\n</code></pre>"},{"location":"full-stack/cicd/docker/#docker_2","title":"Docker \u5e38\u7528\u547d\u4ee4","text":"<pre><code>docker images   =&gt; \u5217\u51fa\u672c\u5730\u955c\u50cf\u5217\u8868\n\n    REPOSITORY    TAG       IMAGE ID       CREATED         SIZE\n    hello-world   latest    bf756fb1ae65   11 months ago   13.3kB\n\n    REPOSITORY: \u955c\u50cf\u4ed3\u5e93\u6e90\n    TAG: \u955c\u50cf\u7684\u6807\u7b7e\n    IMAGE ID: \u955c\u50cfID\n    CREATED: \u955c\u50cf\u521b\u5efa\u65f6\u95f4\n    SIZE: \u955c\u50cf\u5927\u5c0f\n\n    \u540c\u4e00\u4e2a\u4ed3\u5e93\u6e90\u53ef\u4ee5\u6709\u591a\u4e2aTAG\uff0c\u4ee3\u8868\u8fd9\u4e2a\u4ed3\u5e93\u6e90\u7684\u4e0d\u540c\u7248\u672c\uff0c\u6211\u4eec\u4f7f\u7528 REPOSITORY:TAG \u6765\u5b9a\u4e49\u4e0d\u540c\u7684\u955c\u50cf\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u4e00\u4e2a\u955c\u50cf\u7684\u7248\u672c\u6807\u7b7e\uff0c\u9ed8\u8ba4\u4f7f\u7528 latest \u6807\u7b7e\u3002\n\n\ndocker version                    =&gt; \u67e5\u770bdocker\u7248\u672c\ndocker info                       =&gt; docker \u4fe1\u606f\n\ndocker --help  images             =&gt; \u67e5\u770b images \u547d\u4ee4\u5e2e\u52a9\u4fe1\u606f\n\ndocker images -a                  =&gt; a: all, \u5217\u51fa\u672c\u5730\u6240\u6709\u955c\u50cf\uff08\u5305\u62ec\u4e2d\u95f4\u6620\u50cf\u5c42\uff0c\u955c\u50cf\u662f\u5206\u5c42\u7684\u5343\u5c42\u997c\uff09\ndocker images -q                  =&gt; \u4ec5\u663e\u793a\u955c\u50cfID\ndocker images -aq                 =&gt; \u5217\u51fa\u672c\u5730\u6240\u6709\u955c\u50cf\u7684\u955c\u50cfID\ndocker images --digests           =&gt; \u663e\u793a\u955c\u50cf\u7684\u6458\u8981\u4fe1\u606f\ndocker images --no-trunc          =&gt; \u4e0d\u622a\u53d6\uff0c\u663e\u793a\u5b8c\u6574\u7684\u955c\u50cf\u4fe1\u606f\ndocker images nginx --digests     =&gt; \u663e\u793a\u67d0\u5177\u4f53\u955c\u50cf\u7684\u6458\u8981\u4fe1\u606f\n\ndocker search nginx                                             =&gt; \u4ece docker hub (https://hub.docker.com) \u4e0a\u641c\u7d22\u955c\u50cf\uff08NOTE\uff1a \u67e5\u8be2\u5730\u5740\u548c\u4e0b\u8f7d\u5730\u5740\u4e0d\u4e00\u81f4\uff0c\u67e5\u8be2\u662f\u4ecehttps://hub.docker.com\u67e5\u8be2\uff0c\u4e0b\u8f7d\u662f\u4ece\u6211\u4eec\u914d\u7684\u955c\u50cf\u5730\u5740\u4e0b\u8f7d \uff09\ndocker search nginx --no-trunc                                  =&gt; \u4e0d\u622a\u53d6\uff0c\u663e\u793a\u5b8c\u6574\u7684\u955c\u50cf\u4fe1\u606f\ndocker search nginx --limit 3                                   =&gt; \u9650\u5236\u67e5\u8be2\u7ed3\u679c\u7684\u6700\u5927\u8fd4\u56de\u4e2a\u6570\ndocker search nginx --filter stars=3 --filter is-official=true  =&gt; \u641c\u7d22stars\u5927\u4e8e\u7b49\u4e8e3\u4e14\u6765\u6e90\u4e3a\u5b98\u65b9\u7248\u672c\u7684nginx\u955c\u50cf\n\n    \u279c  ~ docker search tomcat           \n        NAME                          DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED\n        tomcat                        Apache Tomcat is an open source implementati\u2026   2894      [OK]       \n        tomee                         Apache TomEE is an all-Apache Java EE certif\u2026   85        [OK]       \n        dordoka/tomcat                Ubuntu 14.04, Oracle JDK 8 and Tomcat 8 base\u2026   55                   [OK]\n\n        dordoka/tomcat =&gt; dordoka \u4e3a\u547d\u540d\u7a7a\u95f4\n\n\n\ndocker pull nginx                                               =&gt; \u4e0b\u8f7d nginx \u955c\u50cf\uff08\u672a\u6307\u5b9atag\u65f6\u9ed8\u8ba4\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\uff0c\u9ed8\u8ba4\u8ffd\u52a0 latest TAG\uff09\n\ndocker rmi nginx                                                =&gt; remove image, \u5220\u9664\u955c\u50cf\ndocker rmi nginx -f                                             =&gt; \u5f3a\u5236\u5220\u9664\u955c\u50cf\uff0c\u5ffd\u7565\u8be5\u955c\u50cf\u88ab\u5bb9\u5668\u5f15\u7528\u7684\u573a\u666f\ndocker rmi nginx hello-world -f                                 =&gt; \u5f3a\u5236\u5220\u9664\u591a\u4e2a\u955c\u50cf\ndocker rmi $(docker images -aq) -f                              =&gt; \u5f3a\u5236\u5220\u9664\u6240\u6709\u955c\u50cf\n\n\ndocker run\n    =&gt; -i: \u4ee5\u4ea4\u4e92\u6a21\u5f0f\u8fd0\u884c\u5bb9\u5668\uff0c\u901a\u5e38\u4e0e -t \u540c\u65f6\u4f7f\u7528\n    =&gt; -t: \u4e3a\u5bb9\u5668\u91cd\u65b0\u5206\u914d\u4e00\u4e2a\u4f2a\u8f93\u5165\u7ec8\u7aef\uff0c\u901a\u5e38\u4e0e -i \u540c\u65f6\u4f7f\u7528\n    =&gt; -d: \u540e\u53f0\u8fd0\u884c\u5bb9\u5668\uff0c\u5e76\u8fd4\u56de\u5bb9\u5668ID\uff0c\u4e5f\u5373\u542f\u52a8\u5b88\u62a4\u5f0f\u5bb9\u5668\n        NOTE: docker\u5bb9\u5668\u540e\u53f0\u8fd0\u884c\u5fc5\u987b\u8981\u6709\u4e00\u4e2a\u524d\u53f0\u8fdb\u7a0b\uff08\u5bb9\u5668\u8fd0\u884c\u7684\u547d\u4ee4\u5982\u679c\u4e0d\u662f\u90a3\u4e9b\u4e00\u76f4\u6302\u8d77\u7684\u547d\u4ee4\u5982 top/tail\uff0c\u5c31\u662f\u4f1a\u81ea\u52a8\u9000\u51fa\u7684\uff09\n    -p: \u4e3b\u673a\u7aef\u53e3:docker\u5bb9\u5668\u7aef\u53e3\n    -P: \u968f\u673a\u5206\u914d\u7aef\u53e3\n    =&gt; \u8fd0\u884c\u5bb9\u5668\u65f6\u82e5\u672a\u6307\u5b9a\u5bb9\u5668\u540d\u79f0\u5219docker\u81ea\u52a8\u968f\u673a\u751f\u6210\u4e00\u4e2a\u5bb9\u5668\u540d\u79f0\n\n    docker run -it nginx\n    docker run -d nginx\n    docker run -it ubuntu  &lt;=&gt; \u7b49\u4ef7\u4e8e  docker run -it ubuntu /bin/bash  (\u9ed8\u8ba4\u4ee5 /bin/bash \u8fd0\u884c)\n    docker run -it -p 8888:8080 tomcat  =&gt; \u6307\u5b9a\u7aef\u53e3 =&gt; http://localhost:8888\n    docker run -it -P tomcat            =&gt; \u968f\u673a\u7aef\u53e3 =&gt; 0.0.0.0:32768-&gt;8080/tcp =&gt; http://localhost:32768\n\n    docker run -it --env-file tests/haa/config/env/localenv 4ada7665647c /bin/bash  =&gt; \u4f20\u9012\u73af\u5883\u53d8\u91cf\u5230\u5bb9\u5668\n\n\ndocker run --name hhbcreate hello-world\n\n    NOTE: docker \u547d\u4ee4\u987a\u5e8f\u9519\u8bef\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4ee5\u4e0b\u5f02\u5e38\u4ea7\u751f\uff0c\u5982\u4e0b\uff1a\n        (haa_test) \u279c  haa-test git:(hhb) \u2717 docker run hello-world --name hhbcreate\n        docker: Error response from daemon: OCI runtime create failed: container_linux.go:370: starting container process caused: exec: \"--name\": executable file not found in $PATH: unknown.\n        ERRO[0000] error waiting for container: context canceled \n\n\n\n\ndocker ps                   =&gt; \u67e5\u770b\u5f53\u524d\u8fd0\u884c\u7684\u5bb9\u5668\u4fe1\u606f\ndocker ps -q                =&gt; \u9759\u9ed8\u6a21\u5f0f\uff0c\u4ec5\u5217\u51fa\u5f53\u524d\u8fd0\u884c\u7684\u5bb9\u5668ID\ndocker ps -a                =&gt; \u67e5\u770b\u6240\u6709\u7684\u5bb9\u5668\u4fe1\u606f\uff08\u5305\u62ec\u5f53\u524d\u8fd0\u884c\u7684\u548c\u5386\u53f2\u8fd0\u884c\u8fc7\u7684\u5bb9\u5668\uff09\ndocker ps -l                =&gt; l: last, \u5217\u51fa\u4e0a\u4e00\u6b21\u8fd0\u884c\u7684\u5bb9\u5668\u4fe1\u606f\ndocker ps -n 5              =&gt; \u5217\u51fa\u4e0a5\u6b21\u8fd0\u884c\u7684\u5bb9\u5668\u4fe1\u606f\n\ndocker start e4c3013031f4   =&gt; \u542f\u52a8\u5bb9\u5668\ndocker stop e4c3013031f4    =&gt; \u505c\u6b62\u5bb9\u5668\uff08\u5f00\u59cb -&gt; \u7535\u6e90 -&gt; \u5173\u673a\uff09\ndocker kill e4c3013031f4    =&gt; \u5f3a\u5236\u505c\u6b62\u5bb9\u5668\uff08\u62d4\u7535\u6e90\uff09\ndocker restart e4c3013031f4 =&gt; \u91cd\u542f\u5bb9\u5668\n\ndocker rm e4c3013031f4      =&gt; \u5220\u9664\u5df2\u505c\u6b62\u7684\u5bb9\u5668\uff08\u82e5\u5bb9\u5668\u6b63\u5728\u8fd0\u884c\uff0c\u53ef\u80fd\u63d0\u793a\u5220\u9664\u51b2\u7a81\uff09\ndocker rm e4c3013031f4 -f   =&gt; \u5f3a\u5236\u5220\u9664\u5bb9\u5668\uff08\u53ef\u5220\u9664\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\uff09\n\n\n# \u5bb9\u5668\u548c\u5bbf\u4e3b\u673a\u4e92\u76f8Copy\u6587\u4ef6\ndocker cp e4c3013031f4:/home/test.txt /root/test.txt\ndocker cp /root/test e4c3013031f4:/home/test.txt\n\n\ndocker rm $(docker ps -aq)      =&gt; \u65b9\u5f0f1\uff1a\u5220\u9664\u6240\u6709\u5bb9\u5668\ndocker ps -aq | xargs docker rm =&gt; \u65b9\u5f0f2\uff1a\u5220\u9664\u6240\u6709\u5bb9\u5668\n\ndocker network ls               =&gt; \u5217\u51fa\u5bb9\u5668\u7f51\u6865\n\n\n\u9000\u51fa\u5bb9\u5668\uff1a\n    exit         =&gt; \u5173\u95ed\u5bb9\u5668\u5e76\u9000\u51fa\n    Ctrl + P + Q =&gt; \u5bb9\u5668\u4e0d\u505c\u6b62\u9000\u51fa\n\n\ndocker attach f67589c50f57                        =&gt; \u91cd\u65b0\u8fdb\u5165\u8fd8\u5728\u8fd0\u884c\u7684\u5bb9\u5668,\u4e0d\u4f1a\u542f\u52a8\u65b0\u7684\u8fdb\u7a0b\n\ndocker exec -t 84013b0e931c ls -l /tmp            =&gt; \u5728\u5bbf\u4e3b\u7cfb\u7edf\u4e0a\uff08\u4e0d\u8fdb\u5165\u5230\u5bb9\u5668\u5185\uff09\u6267\u884c\u67d0\u5df2\u5b58\u5728\u5bb9\u5668\u5185\u7684\u547d\u4ee4\ndocker exec -t 84013b0e931c /bin/bash             =&gt; \u8fdb\u5165\u5bb9\u5668\u5e76\u6267\u884c/bin/bash\u547d\u4ee4\n\n\ndocker top f67589c50f57                           =&gt; \u67e5\u770b\u5bb9\u5668\u5185\u8fd0\u884c\u7684\u8fdb\u7a0b\u4fe1\u606f\n\ndocker inspect {docker_id}                        =&gt; \u67e5\u770b\u5bb9\u5668\u5185\u90e8\u7ec6\u8282\ndocker inspact {docker_name}\n\ndocker cp 84013b0e931c:/tmp/hhb.txt .             =&gt; \u5c06\u5bb9\u5668\u5185\u6587\u4ef6 /tmp/hhb.txt COPY\u5230\u5bbf\u4e3b\u673a\u5668\u5f53\u524d\u76ee\u5f55\u4e0b\n\ndocker volume ls                                  =&gt; \u5217\u51fa\u5bb9\u5668\u5377\n\n\ndocker logs\n    -f: \u8ddf\u968f\u6700\u65b0\u7684\u65e5\u5fd7\u6253\u5370\n    -t: \u65f6\u95f4\u6233\n    --tail n: \u663e\u793a\u6700\u540e n \u6761\n\n    docker run -d ubuntu /bin/bash -c \"while true; do echo hello hhb; sleep 5; done\"           # \u4eba\u4e3a\u8bbe\u7f6e\u4e00\u4e2a\u6301\u7eed\u8fd0\u884c\u7684\u8fdb\u7a0b\n\n    docker logs f67589c50f57                      =&gt; \u6253\u5370\u67d0\u5bb9\u5668\u5185\u7684\u5168\u90e8\u65e5\u5fd7\u4fe1\u606f\n    docker logs -f f67589c50f57                   =&gt; \u8ffd\u52a0\u6253\u5370\u67d0\u5bb9\u5668\u5185\u7684\u65e5\u5fd7\u4fe1\u606f\n    docker logs -t f67589c50f57                   =&gt; \u6253\u5370\u67d0\u5bb9\u5668\u5185\u7684\u65e5\u5fd7\u4fe1\u606f\u548c\u65e5\u5fd7\u5bf9\u5e94\u7684\u65f6\u95f4\u6233\n    docker logs --tail 3 f67589c50f57             =&gt; \u6253\u5370\u67d0\u5bb9\u5668\u5185\u6700\u65b03\u6761\u65e5\u5fd7\u4fe1\u606f\n    docker logs -ft --tail 3 f67589c50f57         =&gt; \u547d\u4ee4\u7684\u7ec4\u5408\u8fd0\u7528\n\n\n\n\n\n\u955c\u50cf\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u3001\u53ef\u6267\u884c\u7684\u72ec\u7acb\u8f6f\u4ef6\u5305\uff0c\u7528\u6765\u6253\u5305\u8f6f\u4ef6\u8fd0\u884c\u73af\u5883\u548c\u57fa\u4e8e\u8fd0\u884c\u73af\u5883\u5f00\u53d1\u7684\u8f6f\u4ef6\uff0c\u5b83\u5305\u542b\u8fd0\u884c\u67d0\u4e2a\u8f6f\u4ef6\u6240\u9700\u7684\u6240\u6709\u5185\u5bb9\uff0c\u5305\u62ec\u4ee3\u7801\u3001\u8fd0\u884c\u65f6\u3001\u5e93\uff0c\u73af\u5883\u53d8\u91cf\u548c\u914d\u7f6e\u6587\u4ef6\u3002\n\nUnionFS (\u8054\u5408\u6587\u4ef6\u7cfb\u7edf): Union\u6587\u4ef6\u7cfb\u7edf\uff08UnionFS\uff09\u662f\u4e00\u79cd\u5206\u5c42\u3001\u8f7b\u91cf\u7ea7\u5e76\u4e14\u9ad8\u6027\u80fd\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u5b83\u652f\u6301\u5bf9\u6587\u4ef6\u7cfb\u7edf\u7684\u4fee\u6539\u4f5c\u4e3a\u4e00\u6b21\u63d0\u4ea4\u6765\u4e00\u5c42\u5c42\u7684\u53e0\u52a0\uff0c\u540c\u65f6\u53ef\u4ee5\u5c06\u4e0d\u540c\u7684\u76ee\u5f55\u6302\u8f7d\u5230\u540c\u4e00\u4e2a\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\u4e0b\u3002\nUnion\u6587\u4ef6\u7cfb\u7edf\u662fDocker\u955c\u50cf\u7684\u57fa\u7840\u3002\u955c\u50cf\u53ef\u4ee5\u901a\u8fc7\u5206\u5c42\u6765\u8fdb\u884c\u7ee7\u627f\uff0c\u57fa\u4e8e\u57fa\u7840\u955c\u50cf\uff08\u6ca1\u6709\u7236\u955c\u50cf\uff09\uff0c\u53ef\u4ee5\u5236\u4f5c\u5404\u79cd\u5177\u4f53\u7684\u5e94\u7528\u955c\u50cf\u3002\n\n\u7279\u6027\uff1a\u4e00\u6b21\u540c\u65f6\u52a0\u8f7d\u591a\u4e2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u4f46\u4ece\u5916\u9762\u770b\u8d77\u6765\uff0c\u53ea\u80fd\u770b\u5230\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u8054\u5408\u52a0\u8f7d\u4f1a\u628a\u5404\u5c42\u6587\u4ef6\u7cfb\u7edf\u53e0\u52a0\u8d77\u6765\uff0c\u8fd9\u6837\u6700\u7ec8\u7684\u6587\u4ef6\u7cfb\u7edf\u4f1a\u5305\u542b\u6240\u6709\u5e95\u5c42\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u3002\n\nDocker\u955c\u50cf\u90fd\u662f\u53ea\u8bfb\u7684\uff0c\u5f53\u5bb9\u5668\u542f\u52a8\u65f6\uff0c\u4e00\u4e2a\u65b0\u7684\u53ef\u5199\u5c42\u88ab\u52a0\u8f7d\u5230\u955c\u50cf\u7684\u9876\u90e8\uff0c\u8fd9\u4e00\u5c42\u901a\u5e38\u88ab\u79f0\u4f5c\u201d\u5bb9\u5668\u5c42\u201c\uff0c\u201d\u5bb9\u5668\u5c42\u201c\u4e4b\u4e0b\u7684\u90fd\u53eb\u201d\u955c\u50cf\u5c42\u201c\u3002\n\ndocker\u955c\u50cf\u52a0\u8f7d\u539f\u7406\uff1a\n\n    docker \u955c\u50cf\u5b9e\u9645\u4e0a\u7531\u4e00\u5c42\u4e00\u5c42\u7684\u6587\u4ef6\u7cfb\u7edf\u7ec4\u6210\uff0c\u8fd9\u79cd\u5c42\u7ea7\u7684\u6587\u4ef6\u7cfb\u7edfUnionFS.\n\n\n    kernal -&gt; centos -&gt; jdk8 -&gt; tomcat  =&gt; \u5206\u5c42\u7684\u955c\u50cf\n\n    \u955c\u50cf\u5206\u5c42\u7684\u597d\u5904\uff1a\u5171\u4eab\u8d44\u6e90\n    \u6bd4\u5982\uff1a\u6709\u591a\u4e2a\u955c\u50cf\u90fd\u662f\u4ece\u76f8\u540c\u7684base\u955c\u50cf\u6784\u5efa\u800c\u6765\uff0c\u90a3\u4e48\u5bbf\u4e3b\u673a\u53ea\u9700\u5728\u78c1\u76d8\u4e0a\u4fdd\u5b58\u4e00\u4efdbase\u955c\u50cf\uff0c\u540c\u65f6\u5185\u5b58\u4e2d\u4e5f\u53ea\u9700\u8981\u52a0\u8f7d\u4e00\u4efdbase\u955c\u50cf\uff0c\u5c31\u53ef\u4ee5\u4e3a\u6240\u6709\u5bb9\u5668\u670d\u52a1\u4e86\u3002\u800c\u4e14\u955c\u50cf\u7684\u6bcf\u4e00\u5c42\u90fd\u53ef\u4ee5\u88ab\u5171\u4eab\u3002\n\n\ndocker commit =&gt; \u63d0\u4ea4\u5bf9\u5f53\u524d\u5bb9\u5668\u7684\u4fee\u6539\u4f7f\u4e4b\u6210\u4e3a\u4e00\u4e2a\u65b0\u7684\u955c\u50cf\n    docker commit -m=\"\u63d0\u4ea4\u7684\u63cf\u8ff0\u4fe1\u606f\" -a=\"\u4f5c\u8005\" \u5bb9\u5668ID \u76ee\u6807\u955c\u50cf\u540d\u79f0:TAG\u540d\u79f0   =&gt; docker commit \u547d\u4ee4\u683c\u5f0f\n\n    Scenario:\n        1. docker run -it -p 8888:8080 tomcat\n        2. cd /usr/local/tomcat/weapps; rm -rf docs\n        3. docker commit\n\n        docker commit -a=\"hhb\" -m=\"tomcat without docs\" f67589c50f57 hhb/tomcat_new:2.0  (f67589c50f57\u4e3a\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u4e14\u5df2\u88ab\u4fee\u6539\u7684\u5bb9\u5668)\n\n        docker run -it -p 7777:8080 hhb/tomcat_new:2.0\n</code></pre>"},{"location":"full-stack/cicd/docker/#docker_3","title":"docker \u6570\u636e\u5377","text":"<pre><code>- \u5bb9\u5668\u7684\u6301\u4e45\u5316\n- \u5bb9\u5668\u95f4\u7ee7\u627f + \u6570\u636e\u5171\u4eab\n\n\ndocker\u7406\u5ff5\uff1a\n    - \u5c06\u5e94\u7528\u4e0e\u8fd0\u884c\u73af\u5883\u6253\u5305\u5f62\u6210\u5bb9\u5668\u8fd0\u884c\uff0c\u8fd0\u884c\u53ef\u4ee5\u4f34\u968f\u7740\u5bb9\u5668\uff0c\u4f46\u662f\u6211\u4eec\u5bf9\u6570\u636e\u7684\u8981\u6c42\u5e0c\u671b\u65f6\u6301\u4e45\u5316\u7684\n    - \u5bb9\u5668\u4e4b\u95f4\u5e0c\u671b\u6709\u53ef\u80fd\u5171\u4eab\u6570\u636e\n\ndocker \u5bb9\u5668\u4ea7\u751f\u7684\u6570\u636e\uff0c\u5982\u679c\u4e0d\u901a\u8fc7 docker commit \u751f\u6210\u65b0\u7684\u955c\u50cf\uff0c\u4f7f\u5f97\u6570\u636e\u6210\u4e3a\u955c\u50cf\u7684\u4e00\u90e8\u5206\u4fdd\u5b58\u4e0b\u6765\uff0c\u90a3\u4e48\u5f53\u5bb9\u5668\u88ab\u5220\u9664\u540e\uff0c\u6570\u636e\u81ea\u7136\u4e5f\u5c31\u6ca1\u6709\u4e86\u3002\u4e3a\u4e86\u4fdd\u5b58docker\u4e2d\u7684\u6570\u636e\uff0c\u6211\u4eec\u4f7f\u7528\u5377\u3002\n\n\u5377 \u5c31\u662f\u76ee\u5f55\u6216\u6587\u4ef6\uff0c\u5b58\u5728\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\u4e2d\uff0c\u7531docker\u6302\u8f7d\u5230\u5bb9\u5668\uff0c\u4f46\u4e0d\u5c5e\u4e8e\u8054\u5408\u6587\u4ef6\u7cfb\u7edf\uff0c\u56e0\u6b64\u80fd\u7ed5\u8fc7Union File System\u63d0\u4f9b\u7684\u4e00\u4e9b\u7528\u4e8e\u6301\u7eed\u5b58\u50a8\u6216\u5171\u4eab\u6570\u636e\u7684\u7279\u6027\uff1a\n\u5377 \u8bbe\u8ba1\u7684\u76ee\u7684\u5c31\u662f\u6570\u636e\u7684\u6301\u4e45\u5316\uff0c\u5b8c\u5168\u72ec\u7acb\u4e8e\u5bb9\u5668\u7684\u751f\u547d\u5468\u671f\uff0c\u56e0\u6b64docker\u4e0d\u4f1a\u5728\u5bb9\u5668\u5220\u9664\u65f6\u5220\u9664\u5176\u6302\u8f7d\u7684\u6570\u636e\u5377\n\n\u7279\u70b9\uff1a\n    - \u6570\u636e\u5377\u53ef\u5728\u5bb9\u5668\u4e4b\u95f4\u5171\u4eab\u6216\u91cd\u7528\u6570\u636e\n    - \u5377\u4e2d\u7684\u66f4\u6539\u53ef\u4ee5\u76f4\u63a5\u751f\u6548\n    - \u6570\u636e\u5377\u4e2d\u7684\u66f4\u6539\u4e0d\u4f1a\u5305\u542b\u5728\u955c\u50cf\u7684\u66f4\u65b0\u4e2d\n    - \u6570\u636e\u5377\u7684\u751f\u547d\u5468\u671f\u4e00\u76f4\u6301\u7eed\u5230\u6ca1\u6709\u5bb9\u5668\u4f7f\u7528\u5b83\u4e3a\u6b62\n    - \u6570\u636e\u5377\u53ef\u4ee5\u5b9e\u73b0\u5bb9\u5668\u5230\u5bbf\u4e3b\u673a\u6216\u5bbf\u4e3b\u673a\u5230\u5bb9\u5668\u4e4b\u95f4\u7684\u6570\u636e\u5171\u4eab\n\nNOTE: \u5bb9\u5668\u88ab\u505c\u6b62\u540e\uff0c\u5bf9\u4e3b\u673a\u6570\u636e\u5377\u7684\u66f4\u65b0\u540c\u6837\u4f1a\u540c\u6b65\u5230\u5bb9\u5668\u4e2d\uff0c\u5f53\u5bb9\u5668\u88ab\u91cd\u65b0\u542f\u52a8\u65f6\uff0c\u66f4\u65b0\u751f\u6548\n\n\n\u547d\u4ee4\u884c\u65b9\u5f0f\u6dfb\u52a0\u6570\u636e\u5377\uff1a\n    docker run -it -v /\u5bbf\u4e3b\u673a\u76ee\u5f55:/\u5bb9\u5668\u5185\u76ee\u5f55:\u6743\u9650\u914d\u7f6e \u955c\u50cf\u540d\n    docker run -it -v /home/hhb/hhbdata:/home/hhb/hhbvolume ubuntu   (\u76ee\u5f55\u4e0d\u5b58\u5728\u65f6\u4f1a\u81ea\u52a8\u521b\u5efa\uff0c\u672a\u6307\u5b9a\u8bfb\u5199\u6743\u9650\u65f6\u9ed8\u8ba4\u6709\u8bfb\u5199\u6743\u9650)\n\n\n        docker inspect ac96d974ee14  =&gt; \u9a8c\u8bc1\u6570\u636e\u5377\u662f\u5426\u7ed1\u5b9a\u6210\u529f\n\n            \"HostConfig\": {\n                \"Binds\": [\n                    \"/home/hhb/hhbdata:/home/hhb/hhbvolume\"\n                ],\n                \"ContainerIDFile\": \"\",\n                \"LogConfig\": {\n                    \"Type\": \"json-file\",\n                    \"Config\": {}\n                },\n            }\n\n            \"Mounts\": [\n                {\n                    \"Type\": \"bind\",\n                    \"Source\": \"/home/hhb/hhbdata\",\n                    \"Destination\": \"/home/hhb/hhbvolume\",\n                    \"Mode\": \"\",\n                    \"RW\": true,\n                    \"Propagation\": \"rprivate\"\n                }\n            ],\n\n    docker run -it -v /home/hhb/hhbdata:/home/hhb/hhbvolume:ro ubuntu  =&gt; \u8bbe\u7f6e\u5bb9\u5668\u5185\u53ea\u8bfb\u6743\u9650(ro)\uff0c\u5bb9\u5668\u5185\u4e0d\u53ef\u66f4\u65b0\u7f16\u8f91\u6570\u636e\u5377\u5185\u5bb9\uff0c\u5bbf\u4e3b\u673a\u5bf9\u6570\u636e\u5377\u7684\u66f4\u65b0\u64cd\u4f5c\u4e0d\u53d7\u5f71\u54cd\n\n            \"Mounts\": [\n                {\n                    \"Type\": \"bind\",\n                    \"Source\": \"/home/hhb/hhbdata\",\n                    \"Destination\": \"/home/hhb/hhbvolume\",\n                    \"Mode\": \"ro\",\n                    \"RW\": false,\n                    \"Propagation\": \"rprivate\"\n                }\n            ],\n\n        root@2680dc0d078e:/home/hhb/hhbvolume# touch ro.txt\n        touch: cannot touch 'ro.txt': Read-only file system\n\n    NOTE: docker \u6302\u8f7d\u5bbf\u4e3b\u673a\u76ee\u5f55\u8bbf\u95ee\u51fa\u73b0 cannot open directory .: Permissionn denied  =&gt; \u89e3\u51b3\u529e\u6cd5\uff1a\u5728\u6302\u8f7d\u76ee\u5f55\u540e\u591a\u52a0\u4e00\u4e2a --privileged=true \u53c2\u6570\n    docker run -it -v /home/hhb/hhbdata:/home/hhb/hhbvolume --privileged=true ubuntu\n\n\n\u901a\u8fc7DockerFile\u65b9\u5f0f\u6dfb\u52a0\u5377\uff1a\n    VOLUME [\"/dataVolumeContainer\", \"/dataVolumeContainer2\", \"/dataVolumeContainer3\"]\n\n    \u8bf4\u660e\uff1a\n        \u5904\u4e8e\u53ef\u79fb\u690d\u548c\u5206\u4eab\u7684\u8003\u8651\uff0c\u7528 -v \u5bbf\u4e3b\u673a\u76ee\u5f55:\u5bb9\u5668\u5185\u76ee\u5f55 \u8fd9\u79cd\u65b9\u6cd5\u4e0d\u80fd\u76f4\u63a5\u5728DockerFile \u4e2d\u5b9e\u73b0\n        \u7531\u4e8e\u5bbf\u4e3b\u673a\u76ee\u5f55\u662f\u4f9d\u8d56\u4e8e\u7279\u5b9a\u5bbf\u4e3b\u673a\u7684\uff0c\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u5728\u6240\u6709\u7684\u5bbf\u4e3b\u673a\u4e0a\u90fd\u5b58\u5728\u8fd9\u6837\u7684\u7279\u5b9a\u76ee\u5f55\u3002\n\n\n    DockerFile:\n\n    vim /home/hhb/DockerFile\n        FROM ubuntu\n        VOLUME [\"/dataVolumeContainer\", \"/dataVolumeContainer2\"]\n        CMD echo \"finished, successed\"\n        CMD /bin/bash\n\n\n    docker build -f /home/hhb/DockerFile -t hhb/ubuntu .\n\n        \u279c  ~ docker build -f DockerFile -t hhb/ubuntu:custom_1.0 .\n        [+] Building 0.4s (5/5) FINISHED                                                                                                            \n        =&gt; [internal] load build definition from DockerFile                                                                                   0.1s\n        =&gt; =&gt; transferring dockerfile: 157B                                                                                                   0.0s\n        =&gt; [internal] load .dockerignore                                                                                                      0.1s\n        =&gt; =&gt; transferring context: 2B                                                                                                        0.0s\n        =&gt; [internal] load metadata for docker.io/library/ubuntu:latest                                                                       0.0s\n        =&gt; [1/1] FROM docker.io/library/ubuntu                                                                                                0.1s\n        =&gt; =&gt; resolve docker.io/library/ubuntu:latest                                                                                         0.0s\n        =&gt; exporting to image                                                                                                                 0.0s\n        =&gt; =&gt; exporting layers                                                                                                                0.0s\n        =&gt; =&gt; writing image sha256:466c05608a0a3bb9fa1703b9c52372af63380956206e155a2a0c6cdaa9b7c9a1                                           0.0s\n        =&gt; =&gt; naming to docker.io/hhb/ubuntu:custom_1.0                                                                                       0.0s\n\n\n\n        NOTE\uff1aDockerFile \u4e2d\u867d\u672a\u6620\u5c04\u5bbf\u4e3b\u673a\u7684\u6570\u636e\u5377\uff0c\u6267\u884c docker build \u547d\u4ee4\u540e\uff0c\u4f1a\u81ea\u52a8\u5c06\u5bb9\u5668\u4e2d\u7684\u6570\u636e\u5377\u6620\u5c04\u5230\u4e3b\u673a\u6570\u636e\u5377\n\n            \"Mounts\": [\n                {\n                    \"Type\": \"volume\",\n                    \"Name\": \"1c0399eab660f590fe60994c35077d61b74a36f0856a08059f1ee4073166fcb9\",\n                    \"Source\": \"/var/lib/docker/volumes/1c0399eab660f590fe60994c35077d61b74a36f0856a08059f1ee4073166fcb9/_data\",\n                    \"Destination\": \"/dataVolumeContainer2\",\n                    \"Driver\": \"local\",\n                    \"Mode\": \"\",\n                    \"RW\": true,\n                    \"Propagation\": \"\"\n                },\n                {\n                    \"Type\": \"volume\",\n                    \"Name\": \"a0da56cd9ce7bbbbdd8f86efc321a74a454c202e57dec19555cea0de09baa6c4\",\n                    \"Source\": \"/var/lib/docker/volumes/a0da56cd9ce7bbbbdd8f86efc321a74a454c202e57dec19555cea0de09baa6c4/_data\",\n                    \"Destination\": \"/dataVolumeContainer\",\n                    \"Driver\": \"local\",\n                    \"Mode\": \"\",\n                    \"RW\": true,\n                    \"Propagation\": \"\"\n                }\n            ]\n\n\n\n\u6570\u636e\u5377\u5bb9\u5668\uff1a\u547d\u540d\u7684\u5bb9\u5668\u6302\u8f7d\u6570\u636e\u5377\uff0c\u5176\u5b83\u5bb9\u5668\u901a\u8fc7\u6302\u8f7d\u8fd9\u4e2a\uff08\u7236\u5bb9\u5668\uff09\u5b9e\u73b0\u6570\u636e\u5171\u4eab\uff0c\u6302\u8f7d\u6570\u636e\u5377\u7684\u5bb9\u5668\uff0c\u79f0\u4e4b\u4e3a\u6570\u636e\u5377\u5bb9\u5668\n\ndocker run -it --name dc01 hhb/ubuntu:custom_1.0\n\ndc02,dc03 \u7ee7\u627f dc01 =&gt; \n\n    docker run -it --name dc02 --volumes-from dc01 hhb/ubuntu:custom_1.0\n    docker run -it --name dc02 --volumes-from dc03 hhb/ubuntu:custom_1.0\n\n\nNOTE\uff1a\u5b50\u7ea7\u548c\u7236\u7ea7\u7684\u4efb\u4f55\u66f4\u65b0\u90fd\u540c\u6b65\u7ed9\u5f7c\u6b64\uff0c\u5373\u4f7f\u540e\u9762\u7236\u7ea7\u5bb9\u5668\u88ab\u5220\u9664\u4e86\uff0c\u6570\u636e\u5171\u4eab\u4ecd\u7136\u4e0d\u53d7\u5f71\u54cd =&gt; \u5bb9\u5668\u4e4b\u95f4\u914d\u7f6e\u4fe1\u606f\u7684\u4f20\u9012\uff0c\u6570\u636e\u5377\u7684\u751f\u547d\u5468\u671f\u4e00\u76f4\u6301\u7eed\u5230\u6ca1\u6709\u5bb9\u5668\u4f7f\u7528\u5b83\u4e3a\u6b62\n</code></pre>"},{"location":"full-stack/cicd/docker/#dockerfile","title":"DockerFile","text":"<pre><code>1. Dockerfile \n2. docker build\n3. docker run\n\n\nDockerfile \u662f\u7528\u6765\u6784\u5efadocker\u955c\u50cf\u7684\u6784\u5efa\u6587\u4ef6\uff0c\u662f\u7531\u4e00\u7cfb\u5217\u547d\u4ee4\u548c\u53c2\u6570\u6784\u6210\u7684\u811a\u672c\n\n\nDockerfile \u8bed\u6cd5\u57fa\u7840\uff1a\n    - \u6bcf\u6761\u4fdd\u7559\u5b57\u6307\u4ee4\u90fd\u5fc5\u987b\u4e3a\u5927\u5199\u5b57\u6bcd\u4e14\u540e\u9762\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u53c2\u6570\n    - \u6307\u4ee4\u4ece\u4e0a\u5230\u4e0b\u4f9d\u6b21\u6267\u884c\n    - # \u8868\u793a\u6ce8\u91ca\n    - \u6bcf\u6761\u6307\u4ee4\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u955c\u50cf\u5c42\uff0c\u5e76\u5bf9\u955c\u50cf\u8fdb\u884c\u63d0\u4ea4\n\n\nDocker\u6267\u884cDockerfile\u7684\u5927\u81f4\u6d41\u7a0b\uff1a\n    1. docker \u4ece\u57fa\u7840\u955c\u50cf\u8fd0\u884c\u4e00\u4e2a\u5bb9\u5668\n    2. \u6267\u884c\u4e00\u6761\u6307\u4ee4\u5e76\u5bf9\u5bb9\u5668\u4f5c\u51fa\u4fee\u6539\n    3. \u6267\u884c\u7c7b\u4f3c docker commit \u7684\u64cd\u4f5c\u63d0\u4ea4\u4e00\u4e2a\u65b0\u7684\u955c\u50cf\u5c42\n    4. docker \u518d\u57fa\u4e8e\u521a\u63d0\u4ea4\u7684\u955c\u50cf\u8fd0\u884c\u4e00\u4e2a\u65b0\u5bb9\u5668\n    5. \u6267\u884cdockerfile \u4e2d\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u53ea\u5230\u6240\u6709\u6307\u4ee4\u90fd\u6267\u884c\u5b8c\u6210\n\n\n\nDockerfile \u4fdd\u7559\u5b57\u6307\u4ee4\uff1a\n    FROM:       \u57fa\u7840\u955c\u50cf\uff0c\u8868\u660e\u5f53\u524d\u955c\u50cf\u662f\u57fa\u4e8e\u54ea\u4e2a\u57fa\u7840\u955c\u50cf\u7684\n    MAINTAINER: \u955c\u50cf\u7ef4\u62a4\u8005\u4fe1\u606f\uff0c\u59d3\u540d\u548c\u90ae\u7bb1\n    RUN:        \u5bb9\u5668\u6784\u5efa\u65f6\u9700\u8981\u8fd0\u884c\u7684\u547d\u4ee4\n    EXPOSE:     \u5bf9\u5916\u66b4\u9732\u7684\u7aef\u53e3\n    WORKDIR:    \u6307\u5b9a\u5728\u521b\u5efa\u5bb9\u5668\u540e\uff0c\u7ec8\u7aef\u9ed8\u8ba4\u767b\u5f55\u8fdb\u6765\u7684\u5de5\u4f5c\u76ee\u5f55\uff08\u672a\u6307\u5b9a\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u6839\u76ee\u5f55\uff09\n    ENV:        \u7528\u6765\u5728\u6784\u5efa\u955c\u50cf\u8fc7\u7a0b\u4e2d\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff08\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u5728\u540e\u7eed\u7684\u4efb\u4f55RUN\u6307\u4ee4\u4e2d\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728\u5176\u5b83\u6307\u4ee4\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\uff0c\u5982\uff1a ENV MY_PATH /usr/mytest  =&gt; WORKDIR $MY_PATH\uff09\n    ADD:        \u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u62f7\u8d1d\u8fdb\u955c\u50cf\u4e14ADD\u547d\u4ee4\u4f1a\u81ea\u52a8\u5904\u7406URL\u548c\u89e3\u538btar\u538b\u7f29\u5305\n    COPY:       \u7c7b\u4f3cADD\uff0c\u62f7\u8d1d\u6587\u4ef6\u548c\u76ee\u5f55\u5230\u955c\u50cf\u4e2d\uff08\u5c06\u4ece\u6784\u5efa\u4e0a\u4e0b\u6587\u76ee\u5f55\u4e2d &lt;\u6e90\u8def\u5f84&gt;\u7684 \u6587\u4ef6/\u76ee\u5f55 \u590d\u5236\u5230\u65b0\u7684\u4e00\u5c42\u7684\u955c\u50cf\u5185\u7684 &lt;\u76ee\u6807\u8def\u5f84&gt; \u4f4d\u7f6e\uff09\n    VOLUME:     \u5bb9\u5668\u6570\u636e\u5377\uff0c\u7528\u4e8e\u6570\u636e\u4fdd\u5b58\u548c\u6301\u4e45\u5316\u5de5\u4f5c\n    CMD:        \u6307\u5b9a\u4e00\u4e2a\u5bb9\u5668\u542f\u52a8\u65f6\u8981\u8fd0\u884c\u7684\u547d\u4ee4\uff08Dockerfile \u4e2d\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2aCMD\u547d\u4ee4\uff0c\u4f46\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u751f\u6548\uff0cCMD \u4f1a\u88ab docker run \u4e4b\u540e\u7684\u53c2\u6570\u66ff\u6362\uff09\n    ENTRYPOINT: \u6307\u5b9a\u4e00\u4e2a\u5bb9\u5668\u542f\u52a8\u65f6\u8981\u8fd0\u884c\u7684\u547d\u4ee4\uff08ENTRYPOINT\u7684\u76ee\u7684\u548cCMD\u4e00\u6837\uff0c\u90fd\u662f\u5728\u6307\u5b9a\u5bb9\u5668\u542f\u52a8\u7a0b\u5e8f\u53ca\u53c2\u6570\uff0cdocker run \u4e4b\u540e\u7684\u53c2\u6570\u4f1a\u8ffd\u52a0\u5230ENTRYPOINT\u4e4b\u540e\u800c\u4e0d\u662f\u66ff\u6362\uff09\n    ONBUILD:    \u5f53\u6784\u5efa\u4e00\u4e2a\u88ab\u7ee7\u627f\u7684Dockerfile\u65f6\u8fd0\u884c\u547d\u4ee4\uff0c\u7236\u955c\u50cf\u5728\u88ab\u5b50\u955c\u50cf\u7ee7\u627f\u540e\u7236\u955c\u50cf\u7684onbuild\u88ab\u89e6\u53d1\n\n\n\n\n\u573a\u666f1\uff1a\u81ea\u5b9a\u4e49myubuntu\uff0c\u8981\u6c42\u5982\u4e0b\uff1a\n    - \u91cd\u65b0\u8bbe\u7f6e\u767b\u5f55\u540e\u7684\u9ed8\u8ba4\u8def\u5f84\n    - vim\u7f16\u8f91\u5668\n    - \u652f\u6301 ifconfig \u547d\u4ee4\n\n    Dockerfile_01\n\n        FROM centos\n        MAINTAINER huabo&lt;hhbstar@hotmail.com&gt;\n        ENV MYPATH /tmp\n        WORKDIR $MYPATH\n\n        RUN yum -y install vim-nox\n        RUN yum -y install net-tools\n\n        EXPOSE 80\n\n        CMD echo $MY_PATH\n        CMD echo \"build success\"\n\n        CMD /bin/bash\n\n\n\ndocker history  =&gt; \u5217\u51fa\u955c\u50cf\u7684\u53d8\u66f4\u5386\u53f2\n\n    \u279c  ~ docker history a61170b45d0f\n    IMAGE          CREATED          CREATED BY                                      SIZE      COMMENT\n    a61170b45d0f   11 minutes ago   CMD [\"/bin/sh\" \"-c\" \"/bin/bash\"]                0B        buildkit.dockerfile.v0\n    &lt;missing&gt;      11 minutes ago   CMD [\"/bin/sh\" \"-c\" \"echo \\\"build success\\\"\"]   0B        buildkit.dockerfile.v0\n    &lt;missing&gt;      11 minutes ago   CMD [\"/bin/sh\" \"-c\" \"echo $MY_PATH\"]            0B        buildkit.dockerfile.v0\n    &lt;missing&gt;      11 minutes ago   EXPOSE map[80/tcp:{}]                           0B        buildkit.dockerfile.v0\n    &lt;missing&gt;      11 minutes ago   WORKDIR /tmp                                    0B        buildkit.dockerfile.v0\n    &lt;missing&gt;      11 minutes ago   ENV MYPATH=/tmp                                 0B        buildkit.dockerfile.v0\n    &lt;missing&gt;      11 minutes ago   MAINTAINER huabo&lt;hhbstar@hotmail.com&gt;           0B        buildkit.dockerfile.v0\n    &lt;missing&gt;      2 weeks ago      /bin/sh -c #(nop)  CMD [\"/bin/bash\"]            0B        \n    &lt;missing&gt;      2 weeks ago      /bin/sh -c mkdir -p /run/systemd &amp;&amp; echo 'do\u2026   7B        \n    &lt;missing&gt;      2 weeks ago      /bin/sh -c [ -z \"$(apt-get indextargets)\" ]     0B        \n    &lt;missing&gt;      2 weeks ago      /bin/sh -c set -xe   &amp;&amp; echo '#!/bin/sh' &gt; /\u2026   811B      \n    &lt;missing&gt;      2 weeks ago      /bin/sh -c #(nop) ADD file:4f15c4475fbafb3fe\u2026   72.9MB\n\n\n\u573a\u666f2\uff1aCMD VS ENTRYPOINT =&gt; \u90fd\u662f\u6307\u5b9a\u4e00\u4e2a\u5bb9\u5668\u542f\u52a8\u65f6\u8981\u8fd0\u884c\u7684\u547d\u4ee4(CMD \u8986\u76d6\u3001ENTRYPOINT\u8ffd\u52a0)\n\n    Dockerfile_02\n\n        FROM centos\n        RUN yum install -y curl\n        CMD [\"curl\", \"-s\", \"http://ip.cn\"]\n\n        =&gt; docker run a61170b45d0f -i\n            =&gt; System Error: exec \"-i\"\n\n\n        ==&gt; \n\n        FROM centos\n        RUN yum install -y curl\n        ENTRYPOINT [\"curl\", \"-s\", \"http://ip.cn\"]\n\n\n\u573a\u666f3\uff1a ONBUILD (\u7236\u955c\u50cf\u4e2d\u5305\u542b\u4e86ONBUILD\u65f6\uff0c\u5b50\u955c\u50cf\u6784\u5efa\u65f6\u4f1a\u81ea\u52a8\u89e6\u53d1\u7236\u955c\u50cfONBUILD\u5bf9\u5e94\u7684\u547d\u4ee4)\n\n    DockerFile_father:\n\n        FROM centos\n        RUN yum install -y curl\n        ENTRYPOINT [\"curl\", \"-s\", \"http://ip.cn\"]\n        ONBUILD RUN echo \"father images onbuild\" \n\n\n    docker build -f DockerFile_father -t DockerFile_father .\n\n    DockerFile_child:\n\n        FROM DockerFile_father\n        RUN yum install -y curl\n        ENTRYPOINT [\"curl\", \"-s\", \"http://ip.cn\"]\n        ONBUILD RUN echo \"father images onbuild\" \n\n    docker build -f DockerFile_father -t DockerFile_child .\n\n\n\u573a\u666f4\uff1a COPY &amp; ADD (COPY \u590d\u5236\uff1bADD \u590d\u5236\u5e76\u89e3\u538b\u7f29)\n\n    1. mkdir -p /home/hhb/hhbdata\n    2. touch copy.txt\n    3. cp /opt/apache-tomcat-9.0.8.tar.gz .;cp /opt/jdk-8u171-linux-x64.tar.gz .\n\n    4. \u5728/home/hhb/hhbdata\u65b0\u5efaDockerfile \u6587\u4ef6\n    5. build\n    6. run\n    7. \u9a8c\u8bc1\n    8. release\n\n    ls /home/hhb/hhbdata\n    copy.txt\n    /opt/apache-tomcat-9.0.8.tar.gz\n\n    Dockerfile_03:\n        FROM centos\n        MAINTAINER hhb&lt;hhb@hotmail.com&gt;\n\n        #\u628a\u5bbf\u4e3b\u673a\u5f53\u524d\u4e0a\u4e0b\u6587\u7684 copy.txt \u62f7\u8d1d\u5230\u5bb9\u5668 /usr/local/ \u8def\u5f84\u4e0b\n        COPY copy.txt /usr/local/copy_in_container.txt\n\n        #\u628aTomcat\u6dfb\u52a0\u5230\u5bb9\u5668\u4e2d\n        ADD jdk-8u171-linux-x64.tar.gz /usr/local/\n        ADD apache-tomcat-9.0.8.tar.gz /usr/local/\n\n        #\u5b89\u88c5vim\n        RUN yum -y install vim\n\n        #\u8bbe\u7f6e\u5de5\u4f5c\u8bbf\u95ee\u65f6\u7684WORKDIR\u8def\u5f84\uff0c\u767b\u5f55\u843d\u811a\u70b9\n        ENV MY_PATH /usr/local/\n        WORKDIR $MY_PATH\n\n        #\u914d\u7f6eJava\u548cTomcat\u73af\u5883\u53d8\u91cf\n        ENV JAVA_HOME /usr/local/jdk1.8.0_171\n        ENV CLASSPATH $JAVA_HOME/lib/dt.jar;$JAVA_HOME/lib/tools.jar\n        ENV CATALINA_HOME /usr/local/apache-tomcat-9.0.8\n        ENV CATALINA_BASE /usr/local/apache-tomcat-9.0.8\n        ENV PATH $PATH:$JAVA_HOME/bin;$CATALINA_HOME/lib;$CATALINA_HOME/bin\n\n        #\u5bb9\u5668\u8fd0\u884c\u65f6\u76d1\u542c\u7684\u7aef\u53e3\n        EXPOSE 80\n\n        # \u542f\u52a8\u65f6\u8fd0\u884c tomcat\n        #ENTRYPOINT [\"/usr/local/apache-tomcat-9.0.8/bin/startup.sh\"]\n        #CMD [\"/usr/local/apache-tomcat-9.0.8/bin/catlina.sh\", \"run\"]\n        CMD /usr/local/apache-tomcat-9.0.8/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-9.0.8/bin/logs/catalina.out\n</code></pre>"},{"location":"full-stack/cicd/docker/#docker-run","title":"docker run","text":"<pre><code> docker run -d -p 8090:8080 --name mytomcat9\n -v /home/hhb/hhbdata/test:/usr/local/apache-tomcat-9.0.8/webapps/test\n -v /home/hhb/hhbdata/tomcat9logs:/usr/local/apache-tomcat-9.0.8/webapps/logs\n --privileged=true\n hhbtomcat9\n\n\n\n docker run -p 12345:3306 --name mysql \n -v /home/hhb/mysql/conf:/etc/mysql/conf.d \n -v /home/hhb/mysql/logs:/usr/local/logs\n -v /home/hhb/mysql/data:/var/lib/mysql \n -e MYSQL_ROOT_PASSWORD=123456 \n -d mysql:latest\n\n\n docker exec  a61170b45d0f /bin/bash\n mysql -uroot -p\n\n #\u5907\u4efddockers\u5bb9\u5668\u6570\u636e\u5e93\u6570\u636e\u5230\u5bbf\u4e3b\u673a\n dokcer exec a61170b45d0f sh -c 'exec mysqldump --all-databases -uroot -p\"123456\"' &gt; /home/hhb/mysql/data/alll-databases.sql\n\n\n\n docker pull redis \n\n docker run -p 6379:6379 \n -v /home/hhb/redis/data:/usr/local/data\n -v /home/hhb/redis/conf/redis.conf:/usr/local/etc/redis/redis.conf\n -d redis:latest redis-server /usr/local/etc/redis/redis.conf\n --appendonly yes\n\n NOTE: \n     - /home/hhb/redis/conf/redis.conf \u4e3a\u6587\u4ef6\u5939\n     - --appendonly yes \u914d\u7f6e\u6301\u4e45\u5316\n\n \u8bbe\u7f6e /home/hhb/redis/conf/redis.conf/redis.conf\n\n docker exec -it a61170b45d0f redis-cli\n</code></pre>"},{"location":"full-stack/cicd/docker/#docker-push","title":"docker push","text":"<pre><code> docker commit -a=\"hhb\" -m=\"update\" a61170b45d0f mycentos:1.1\n docker tag a61170b45d0f registry.cn-hangzhou.aliyuncs.com/hehuabo/mycentos:1.1\n docker push registry.cn-hangzhou.aliyuncs.com/hehuabo/mycentos:1.1\n\n docker pull registry.cn-hangzhou.aliyuncs.com/hehuabo/mycentos:1.1  (\u516c\u7f51\u4e0b\u8f7d\u955c\u50cf)\n</code></pre>"},{"location":"full-stack/cicd/docker/#_1","title":"\u5bb9\u5668\u7f16\u6392","text":"<pre><code>1.\u5b89\u88c5\nsudo curl -L \"https://github.com/docker/compose/releases/download/v2.2.2/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n\n\n2.\u67e5\u770b\u7248\u672c\ndocker-compose -v\n\n\n3.\u7f16\u5199 docker-compose.yml \u6587\u4ef6\nversion: '3.8'\nservices:\n  jenkins:\n    image: jenkins/jenkins:lts\n    ports:\n      - 8000:8080\n    volumes:\n      - /home/hhb/dev/docker_volumns/jenkins:/var/jenkins_home\n\n\n4.\u542f\u52a8\u5bb9\u5668\ndocker-compose up\n\n\n5.\u8bbf\u95eeUI\u754c\u9762\u67e5\u770b\u6548\u679c http://127.0.0.1:8000\n\n\n6.\u8bbe\u7f6eJenkins\u5bc6\u7801\ncat /home/hhb/dev/docker_volumns/jenkins/secrets/initialAdminPassword\n\n\n7.Creating a Dev Container\n\ndocker-compose.yml\nversion: \"3.8\"\nservices:\n    app:\n        build: ./\n        ports:\n            - 3000:3000\n\n=&gt;\n\nversion: \"3.8\"\nservices:\n    app:\n        image: node:lts-alpine\n        command: sh -c \"npm install &amp;&amp; npm run dev\"\n        working_dir: /app\n        volumes:\n            - nodemodules:/app/node_modules\n            - ./:/app\n        ports:\n            - 3000:3000\nvolumes:\n    nodemodules:\n\n\n8.Using Multi-Stage Dockerfile\nDockerfile\n\nFROM node:lts-alpine AS base\nWORKDIR /app\nCOPY package.json yarn.lock ./\nRUN yarn install --production &amp;&amp; yarn cache clean\nCOPY src ./src\nCMD [\"node\", \"/app/src/index.js\"]\n\n=&gt;\n\nFROM node:lts-alpine AS base\nWORKDIR /app\nCOPY package.json yarn.lock ./\n\nFROM base AS dev\nRUN yarn install &amp;&amp; yarn cache clean\nCMD [\"npm\", \"run\", \"dev\"]\n\nFROM base AS prod\nRUN yarn install --production &amp;&amp; yarn cache clean\nCOPY src ./src\nCMD [\"node\", \"/app/src/index.js\"]\n\n=&gt; docker-compose.yml\n\nversion: \"3.8\"\nservices:\n    app:\n        build:\n            context: .\n            target: dev\n        volumes:\n            - nodemodules:/app/node_modules\n            - ./:/app\n        ports:\n            - 3000:3000\nvolumes:\n    nodemodules:\n\n\n9.frontend/backend service\ndocker-compose.yml\n\nversion: \"3.8\"\n\nservices:\n    frontend:\n        build: ./frontend\n        ports:\n            - 3000:3000\n    backend:\n        build: ./backend\n        ports:\n            - 3001:3001\n        environment:\n            DB_URL: mongodb://db/hhb\n    db:\n        image: mongo:4.0-xenial\n        ports:\n            - 27017:27017\n        volumes:\n            - mongo_data:/data/db\n\nvolumes:\n    mongo_data:\n\n\n10.docker network\n    docker network create hello-pdc-net\n    docker run --rm --name app --net hello-pdc-net -d -p 5000:80 hello-pdc\n    docker run --rm --name redis --net hello-pdc-net -d redis:alpine\n</code></pre> <p>\u6700\u4f73\u5b9e\u8df5</p> <ol> <li> <p>\u4e0d\u8981\u4e00\u6709\u53d8\u66f4\u5c31\u53bb\u6784\u5efa\u4f60\u7684\u5bb9\u5668</p> </li> <li> <p>\u5c06\u4f60\u7684\u6e90\u4ee3\u7801\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\uff0c\u4e00\u6709\u4ee3\u7801\u53d8\u66f4\u81ea\u52a8\u751f\u6548\uff0c\u65e0\u987b\u91cd\u590d\u6784\u5efa\u5bb9\u5668</p> </li> </ol> <p></p>"},{"location":"full-stack/cicd/docker/#docker_4","title":"Docker \u53ef\u89c6\u5316\u5de5\u5177","text":"<pre><code>1.\u5b89\u88c5 Portainer (\u5b98\u7f51\u5b89\u88c5\u8bf4\u660e\uff1ahttps://www.portainer.io/installation/)\ndocker pull portainer/portainer\n\n2.\u65b0\u5efa\u5bb9\u5668\u5377\ndocker volume create portainer_data\n\n3.\u8fd0\u884c\u5bb9\u5668\ndocker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data_portainer/portainer\n\n4.\u8bbf\u95eeUI\u754c\u9762 http://localhost:9000\n</code></pre>"},{"location":"full-stack/cicd/docker/#_2","title":"\u62d3\u5c55\u9605\u8bfb","text":"<ul> <li>Best practices for using Docker Hub for CI/CD</li> <li>Configure GitHub Actions For Docker</li> <li>Jenkins Docker</li> <li>How to Install and Run Jenkins With Docker Compose</li> <li>GitLab Docker images</li> <li>Docker - \u4ece\u5165\u95e8\u5230\u5b9e\u8df5</li> <li>Docker&amp;Docker-Compose \u5b9e\u6218!</li> </ul>"},{"location":"full-stack/cicd/git/","title":"git","text":""},{"location":"full-stack/cicd/git/#_1","title":"\u5b89\u88c5","text":"<pre><code>sudo apt-get update\ngit --version\n</code></pre>"},{"location":"full-stack/cicd/git/#_2","title":"\u914d\u7f6e\u7528\u6237\u540d\u548c\u90ae\u7bb1","text":"<pre><code>git config --global user.name \"username\"\ngit config --global user.email \"useremail@test.com\"\n</code></pre>"},{"location":"full-stack/cicd/git/#_3","title":"\u751f\u6210\u5bc6\u94a5","text":"<pre><code>ssh-keygen -t rsa -C \"useremail@test.com\"\ncat ~/.ssh/id_rsa.pub\n</code></pre>"},{"location":"full-stack/cicd/git/#git-hooks","title":"Git Hooks","text":""},{"location":"full-stack/cicd/git/#_4","title":"\u5e38\u7528\u6307\u4ee4","text":"<pre><code>git checkout -b dev\ngit push origin dev\n</code></pre>"},{"location":"full-stack/cicd/github/","title":"github","text":""},{"location":"full-stack/cicd/github/#github-actions","title":"Github Actions","text":""},{"location":"full-stack/cicd/github/#_1","title":"\u76f8\u5173\u62d3\u5c55","text":"<ul> <li>GitHub Actions \u5165\u95e8\u6559\u7a0b</li> </ul>"},{"location":"full-stack/cicd/gitlab/","title":"gitlab","text":""},{"location":"full-stack/cicd/jenkins/","title":"jenkins","text":""},{"location":"full-stack/cicd/jenkins/#_1","title":"\u5b89\u88c5","text":"<p>\u4e0b\u8f7d\u94fe\u63a5\uff1ahttps://www.jenkins.io/download/</p> <p>\u5b89\u88c5\u65b9\u5f0f\uff1awar/exe/docker</p> <p></p>"},{"location":"full-stack/cicd/jenkins/#_2","title":"\u63d2\u4ef6\u6e90","text":"<pre><code>\u8fdb\u5165 Manage Jenkins -&gt; Manage Plugin -&gt; Advanced -&gt; Update Site\n\nhttps://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json\nhttp://mirror.xmission.com/jenkins/updates/update-center.json\n\n\u8be6\u89c1\uff1ahttp://testingpai.com/article/1604671047314\n</code></pre>"},{"location":"full-stack/cicd/jenkins/#_3","title":"\u63a8\u8350\u63d2\u4ef6","text":"<ul> <li>HTML Publisher plugin</li> <li>Allure</li> <li>Git</li> <li>Extended E-mail Notification</li> </ul>"},{"location":"full-stack/cicd/jenkins/#pipeline","title":"pipeline","text":"<pre><code>\u6d41\u6c34\u7ebf\u8bed\u6cd5\uff1ahttp://localhost:8000/job/pipeline/pipeline-syntax/\n</code></pre>"},{"location":"full-stack/cicd/jenkins/#dockerfile","title":"Dockerfile","text":"<pre><code>FROM jenkins/agent:alpine-jdk11\nUSER root\nRUN apk add python3\nRUN apk add py3-pip\nUSER jenkins\n</code></pre>"},{"location":"full-stack/cicd/jenkins/#_4","title":"\u62d3\u5c55\u9605\u8bfb","text":"<ul> <li>Jenkins 101</li> <li>Jenkins Doc</li> <li>Learn Jenkins! Complete Jenkins Course</li> </ul>"},{"location":"full-stack/coding/css/","title":"css","text":""},{"location":"full-stack/coding/go/","title":"go","text":""},{"location":"full-stack/coding/html/","title":"html","text":""},{"location":"full-stack/coding/java/","title":"java","text":""},{"location":"full-stack/coding/javascript/","title":"javascript","text":""},{"location":"full-stack/coding/linux/","title":"linux","text":"<p>Linux \u4e00\u5207\u7686\u6587\u4ef6\uff01\uff01\uff01</p>"},{"location":"full-stack/coding/linux/#_1","title":"\u76ee\u5f55\u7ed3\u6784","text":"\u76ee\u5f55\u5c42\u7ea7 \u76ee\u5f55\u63cf\u8ff0 / \u6839\u76ee\u5f55\uff0c\u6240\u6709\u6587\u4ef6\u90fd\u6302\u8f7d\u5728\u8fd9\u4e2a\u8282\u70b9\u4e0b /bin bin \u662f Binary \u7684\u7f29\u5199\uff0c\u8fd9\u4e2a\u76ee\u5f55\u5b58\u653e\u7740\u6700\u7ecf\u5e38\u4f7f\u7528\u7684\u547d\u4ee4 /boot \u5b58\u653eLinux\u7cfb\u7edf\u542f\u52a8\u6838\u5fc3\u6587\u4ef6\uff0c\u5305\u62ec\u4e00\u4e9b\u8fde\u63a5\u6587\u4ef6\u53ca\u955c\u50cf\u6587\u4ef6 /dev Device(\u8bbe\u5907)\u7684\u7f29\u5199\uff0c\u5b58\u653e\u7684\u662fLinux\u7684\u5916\u90e8\u8bbe\u5907\uff0c\u5728Linux\u4e2d\u8bbf\u95ee\u8bbe\u5907\u7684\u65b9\u5f0f\u548c\u8bbf\u95ee\u6587\u4ef6\u7684\u65b9\u5f0f\u662f\u76f8\u540c\u7684\u7684 /mnt Linux \u4e2d\u7528\u4e8e\u7528\u6237\u4e34\u65f6\u6302\u8f7d\u522b\u7684\u6587\u4ef6\u7cfb\u7edf\uff08\u5982\u5149\u9a71\uff0c\u672c\u5730\u6587\u4ef6\u6302\u8f7d\u7b49\uff09 /etc \u7528\u4e8e\u5b58\u653e\u6240\u6709\u7684\u7cfb\u7edf\u7ba1\u7406\u6240\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u548c\u5b50\u76ee\u5f55 /home \u7528\u6237\u76ee\u5f55\uff0c\u6bcf\u4e2a\u7528\u6237\u90fd\u6709\u4e00\u4e2a\u5c5e\u4e8e\u81ea\u5df1\u7684\u76ee\u5f55\u6587\u4ef6\u5939\uff0c\u4e00\u822c\u76ee\u5f55\u540d\u662f\u4ee5\u7528\u6237\u7684\u8d26\u53f7\u547d\u540d\u7684\uff0c\u7c7b\u4f3c\u4e8eWin\u7cfb\u7edf\u7684 \u7528\u6237 \u76ee\u5f55 /lib \u7528\u4e8e\u5b58\u653e\u7cfb\u7edf\u6700\u57fa\u672c\u7684\u52a8\u6001\u94fe\u63a5\u5e93\uff0c\u5176\u4f5c\u7528\u7c7b\u4f3c\u4e8eWin\u7cfb\u7edf\u4e2d\u7684dll\u6587\u4ef6 /lost+found \u4e00\u822c\u4e3a\u7a7a\uff0c\u5f53\u7cfb\u7edf\u975e\u6cd5\u5173\u673a\u540e\uff0c\u8fd9\u91cc\u5c31\u5b58\u653e\u4e86\u4e00\u4e9b\u6587\u4ef6 /media Linux \u4f1a\u628a\u81ea\u52a8\u5931\u8d25\u7684\u8bbe\u5907\uff08U\u76d8\uff0c\u5149\u9a71\u7b49\u7b49\uff09\u6302\u8f7d\u5230\u8fd9\u4e2a\u76ee\u5f55\u4e0b /opt \u7ed9\u7cfb\u7edf\u989d\u5916\u5b89\u88c5\u7684\u8f6f\u4ef6\u4e00\u822c\u5b58\u653e\u4e8e\u8be5\u76ee\u5f55\uff0c\u5982 oracle/mysql\u7b49 /proc \u7cfb\u7edf\u865a\u62df\u76ee\u5f55\uff0c\u5b83\u662f\u7cfb\u7edf\u5185\u5b58\u7684\u6620\u5c04\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u76f4\u63a5\u8bbf\u95ee\u8fd9\u4e2a\u76ee\u5f55\u6765\u83b7\u53d6\u7cfb\u7edf\u4fe1\u606f /root \u7cfb\u7edf\u7ba1\u7406\u5458\u7528\u6237\u76ee\u5f55 /usr \u666e\u901a\u7528\u6237\u7684\u76ee\u5f55\uff0c\u7528\u6237\u7684\u5f88\u591a\u5e94\u7528\u7a0b\u5e8f\u548c\u6587\u4ef6\u90fd\u653e\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\uff0c\u7c7b\u4f3c\u4e8eWin\u7cfb\u7edf\u4e0b\u7684 program files \u76ee\u5f55 /sbin super bin \u7684\u610f\u601d\uff0c\u8fd9\u91cc\u5b58\u653e\u7684\u662f\u7cfb\u7edf\u7ba1\u7406\u5458\u4f7f\u7528\u7684\u7cfb\u7edf\u7ba1\u7406\u7a0b\u5e8f /srv \u7528\u4e8e\u5b58\u653e\u4e00\u4e9b\u670d\u52a1\u542f\u52a8\u4e4b\u540e\u9700\u8981\u63d0\u53d6\u7684\u6570\u636e /sys /tmp \u4e34\u65f6\u6587\u4ef6\u76ee\u5f55 /usr/bin \u7cfb\u7edf\u7528\u6237\u4f7f\u7528\u7684\u5e94\u7528\u7a0b\u5e8f /usr/sbin \u8d85\u7ea7\u7528\u6237\u4f7f\u7528\u7684\u6bd4\u8f83\u9ad8\u7ea7\u7684\u7ba1\u7406\u7a0b\u5e8f\u548c\u7cfb\u7edf\u5b88\u62a4\u7a0b\u5e8f /usr/src \u5185\u6838\u6e90\u4ee3\u7801\u9ed8\u8ba4\u7684\u653e\u7f6e\u76ee\u5f55 /var \u7528\u4e8e\u5b58\u653e\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e9b\u9891\u7e41\u53d8\u66f4\u7684\u6570\u636e\u6587\u4ef6\uff0c\u5982\u65e5\u5fd7\u6587\u4ef6\u7b49 /run \u4e34\u65f6\u6587\u4ef6\u7cfb\u7edf\uff0c\u5b58\u50a8\u7cfb\u7edf\u542f\u52a8\u4ee5\u6765\u7684\u4fe1\u606f\uff0c\u5f53\u7cfb\u7edf\u91cd\u542f\u65f6\uff0c\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5e94\u8be5\u88ab\u5220\u6389\u6216\u6e05\u9664 /www \u5b58\u653e\u670d\u52a1\u5668\u7f51\u7ad9\u76f8\u5173\u7684\u8d44\u6e90"},{"location":"full-stack/coding/linux/#_2","title":"\u76ee\u5f55\u7ba1\u7406","text":"<pre><code>\u7edd\u5bf9\u8def\u5f84 - \u5b8c\u6574\u771f\u5b9e\u8def\u5f84(\u90fd\u662f\u4ee5 / \u5f00\u5934)\n\u76f8\u5bf9\u8def\u5f84 - \u76f8\u5bf9\u4e8e\u5f53\u524d\u76ee\u5f55\u4e0b\u76f8\u5bf9\u4f4d\u7f6e\u7684\u8def\u5f84(\u4ee5 .. \u5f00\u5934)\n\n\ncd     # \u5207\u6362\u76ee\u5f55(change directory)\ncd ./  # \u5207\u6362\u5230\u5f53\u524d\u76ee\u5f55\ncd ..  # \u5207\u6362\u5230\u4e0a\u4e00\u7ea7\u76ee\u5f55\ncd ~   # \u5207\u6362\u5230\u5f53\u524d\u7528\u6237\u76ee\u5f55\n\n\npwd    # \u6253\u5370\u5f53\u524d\u7528\u6237\u6240\u5728\u76ee\u5f55(print work directory)\n\n\nls     # \u5217\u51fa\u6587\u4ef6(list files)\n\u279c ls     \nlinux  mysql  numpy  pandas  python\n\n\nls -a  # \u67e5\u770b\u5168\u90e8\u6587\u4ef6\uff0c\u5305\u62ec\u9690\u85cf\u6587\u4ef6\n\u279c ls -a                  \n.  ..  .pytest_cache  linux  mysql  numpy  pandas  python\n\n\nls -la  # \u5217\u51fa\u6240\u6709\u7684\u6587\u4ef6\uff0c\u5305\u542b\u6587\u4ef6\u7684\u5c5e\u6027\u548c\u6743\u9650\uff0c\u4e0d\u5305\u542b\u9690\u85cf\u6587\u4ef6\n\u279c ls -la                \ntotal 0\ndrwxrwxrwx 1 hhb hhb 4096 Feb 27 19:59 .\ndrwxrwxrwx 1 hhb hhb 4096 Feb 14 21:35 ..\ndrwxrwxrwx 1 hhb hhb 4096 Dec  7 21:37 .pytest_cache\ndrwxrwxrwx 1 hhb hhb 4096 Feb 27 19:59 linux\ndrwxrwxrwx 1 hhb hhb 4096 Feb 14 22:13 mysql\ndrwxrwxrwx 1 hhb hhb 4096 Dec 12 21:31 numpy\ndrwxrwxrwx 1 hhb hhb 4096 Dec 12 14:53 pandas\ndrwxrwxrwx 1 hhb hhb 4096 Jan 10 23:51 python\n\n\nls -i # \u67e5\u770b\u6587\u4ef6i\u8282\u70b9\u53f7\uff08\u53ef\u4ee5\u8ba4\u4e3a\u662f\u6587\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff09\n\u279c ls -i            \n28147497671235396 linux  28428972647985931 numpy   24769797950744437 python   7318349394703340 test       5629499534442283 testing\n11821949022006849 mysql  23362423067194192 pandas   7318349394703342 target   7881299348124667 test.txt\n\n\n# Linux \u4e2d\u6240\u6709\u6587\u4ef6\u90fd\u6709\u4e00\u4e2ai\u8282\u70b9\uff0c\u786c\u94fe\u63a5\u4e0d\u80fd\u8de8\u5206\u533a\uff0c\u786c\u94fe\u63a5\u7684\u6587\u4ef6\u5bf9\u5e94\u7684i\u8282\u70b9\u662f\u76f8\u540c\u7684\n\nmkdir                             # \u521b\u5efa\u76ee\u5f55(make directory)\nmkdir test                        # \u521b\u5efa\u4e00\u4e2a\u540d\u79f0\u4e3a test \u7684\u6587\u4ef6\u76ee\u5f55\nmkdir -p test1/test1_1/test1_1_1  # \u9012\u5f52\u521b\u5efa\u591a\u4e2a\u5c42\u7ea7\u7684\u6587\u4ef6\u5939\n\n\n\nrmdir                             # \u5220\u9664\u76ee\u5f55(remove directory) - \u4ec5\u80fd\u5220\u9664\u7a7a\u7684\u76ee\u5f55\uff0c\u5982\u679c\u76ee\u5f55\u4e0b\u9762\u5b58\u5728\u6587\u4ef6\uff0c\u9700\u8981\u5148\u5220\u9664\u6587\u4ef6\u5728\u5220\u9664\u76ee\u5f55\nrmdir test                        # \u5220\u9664 test \u6587\u4ef6\u5939\nrmdir -p test1/test1_1/test1_1_1  # \u9012\u5f52\u5220\u9664\u591a\u4e2a\u5c42\u7ea7\u7684\u6587\u4ef6\u5939\n\n\nrm              # \u5220\u9664\u6587\u4ef6\u5939\u6216\u6587\u4ef6(remove)\nrm -f           # \u5f3a\u5236\u5220\u9664\uff0c\u5ffd\u7565\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\uff0c\u4e0d\u4f1a\u51fa\u73b0\u8b66\u544a\nrm -r           # \u9012\u5f52\u5220\u9664\u76ee\u5f55\nrm -i           # \u4ea4\u4e92\u5f0f\u5220\u9664\uff0c\u4f1a\u8be2\u95ee\u662f\u5426\u771f\u7684\u9700\u8981\u5220\u9664\nrm -rf /        # \u5c06\u6839\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u5f3a\u5236\u5220\u9664\uff08\u5220\u5e93\u8dd1\u8def\uff09 - \u5371\u9669\u547d\u4ee4\uff0c\u4e0d\u8981\u4f7f\u7528\nrm -rf ./test   # \u9012\u5f52\u5220\u9664\u6587\u4ef6\u5939 test \u53ca\u5176\u8be5\u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709\u6587\u4ef6\nrm -rf f1 f2 f3 # \u5220\u9664\u591a\u4e2a\u6587\u4ef6(f1,f2,f3)\n\n\ncp                # \u590d\u5236\u6587\u4ef6\u6216\u76ee\u5f55(copy) - \u5982\u679c\u76ee\u6807\u6587\u4ef6\u5df2\u7ecf\u5b58\u5728\uff0c\u5219\u4f1a\u8986\u76d6(y)\u6216\u53d6\u6d88(n)\ncp source target  # \u590d\u5236 source \u6587\u4ef6\u6216\u76ee\u5f55\u5230 target \u76ee\u5f55\n\n\n\nmv                # \u79fb\u52a8\u6587\u4ef6\u6216\u76ee\u5f55(move)\nmv -f             # \u5f3a\u5236\u79fb\u52a8\uff0c\u5ffd\u7565\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\uff0c\u4e0d\u4f1a\u51fa\u73b0\u8b66\u544a\nmv -u             # \u53ea\u66ff\u6362\u5df2\u7ecf\u66f4\u65b0\u8fc7\u7684\u6587\u4ef6\nmv source target  # \u5c06source\u6587\u4ef6\u5939\u79fb\u52a8\u5230target\u6587\u4ef6\u5939\nmv source source2 # \u5c06source\u6587\u4ef6\u5939\u91cd\u547d\u540d\u4e3a source2 - \u5f53\u76ee\u6807\u6587\u4ef6\u5939\u4e0d\u5b58\u5728\u65f6\u4e3a\u91cd\u547d\u540d\u64cd\u4f5c\n</code></pre>"},{"location":"full-stack/coding/linux/#_3","title":"\u6587\u4ef6\u5c5e\u6027","text":"<pre><code>\u3010\u57fa\u672c\u5c5e\u6027\u3011\n\n\u279c ls -ll / \ntotal 1104\nlrwxrwxrwx    1 root root       7 Apr 23  2020 bin -&gt; usr/bin\ndrwxr-xr-x    2 root root    4096 Apr 23  2020 boot\ndrwxr-xr-x    8 root root    2720 Feb 26 14:15 dev\ndrwxr-xr-x  129 root root   12288 Feb 26 14:15 etc\ndrwxr-xr-x    3 root root    4096 Jul  5  2020 home\n-rwxr-xr-x    2 root root 1392928 Jul 27  2021 init\nlrwxrwxrwx    1 root root       7 Apr 23  2020 lib -&gt; usr/lib\nlrwxrwxrwx    1 root root       9 Apr 23  2020 lib32 -&gt; usr/lib32\nlrwxrwxrwx    1 root root       9 Apr 23  2020 lib64 -&gt; usr/lib64\nlrwxrwxrwx    1 root root      10 Apr 23  2020 libx32 -&gt; usr/libx32\ndrwx------    2 root root   16384 Apr 11  2019 lost+found\ndrwxr-xr-x    2 root root    4096 Apr 23  2020 media\ndrwxr-xr-x    5 root root    4096 Dec 12  2020 mnt\ndrwxr-xr-x    2 root root    4096 Apr 23  2020 opt\ndr-xr-xr-x  138 root root       0 Feb 26 14:15 proc\ndrwx------    8 root root    4096 Feb 27 19:58 root\ndrwxr-xr-x    8 root root     160 Feb 26 14:20 run\nlrwxrwxrwx    1 root root       8 Apr 23  2020 sbin -&gt; usr/sbin\ndrwxr-xr-x    2 root root    4096 Apr 10  2020 snap\ndrwxr-xr-x    2 root root    4096 Apr 23  2020 srv\ndr-xr-xr-x   11 root root       0 Feb 26 14:15 sys\ndrwxrwxrwt 4906 root root  335872 Feb 27 20:26 tmp\ndrwxr-xr-x   14 root root    4096 Apr 23  2020 usr\ndrwxr-xr-x   13 root root    4096 Apr 23  2020 var\n\n\n[l] # \u94fe\u63a5\u6587\u6863(link file)\n[d] # \u76ee\u5f55\n[-] # \u6587\u4ef6\n[b] # \u5757\u8bbe\u5907\u6587\u4ef6\n[c] # \u5b57\u7b26\u8bbe\u5907\u6587\u4ef6\n[s] # \u5957\u63a5\u5b57\u6587\u4ef6\n[p] # \u7ba1\u7406\u6587\u4ef6\n\n\nr # \u8bfb\u6743\u9650(read)\nw # \u5199\u6743\u9650(write)\nx # \u6267\u884c\u6743\u9650(execute)\n\n\n\ndrwxr-xr-x\n\n0            123         456         789\n[\u6587\u4ef6\u7c7b\u578b]   [\u5c5e\u4e3b\u6743\u9650]   [\u5c5e\u7ec4\u6743\u9650]   [\u5176\u4ed6\u7528\u6237\u6743\u9650]\n\n\n\u5176\u4e2d\uff1a\n    \u7b2c 1\uff0c4\uff0c7 \u4f4d\u8868\u793a \u8bfb\u6743\u9650\uff0c\u5982\u679c\u7528 r \u8868\u793a\uff0c\u5219\u6709\u8bfb\u6743\u9650\uff0c\u5982\u679c\u7528 - \u8868\u793a\uff0c\u5219\u6ca1\u6709\u8bfb\u6743\u9650\n    \u7b2c 2\uff0c5\uff0c8 \u4f4d\u8868\u793a \u5199\u6743\u9650\uff0c\u5982\u679c\u7528 w \u8868\u793a\uff0c\u5219\u6709\u5199\u6743\u9650\uff0c\u5982\u679c\u7528 - \u8868\u793a\uff0c\u5219\u6ca1\u6709\u5199\u6743\u9650\n    \u7b2c 3\uff0c6\uff0c9 \u4f4d\u8868\u793a \u6267\u884c\u6743\u9650\uff0c\u5982\u679c\u7528 x \u8868\u793a\uff0c\u5219\u6709\u6267\u884c\u6743\u9650\uff0c\u5982\u679c\u7528 - \u8868\u793a\uff0c\u5219\u6ca1\u6709\u6267\u884c\u6743\u9650\n\n\n\n\nNOTE: \u6ce8\u610f\u5c5e\u6027\u4e2d\u7684\u5c5e\u4e3b\u548c\u5c5e\u7ec4\u4fe1\u606f\u5982\u4e0b\uff1a\n                [\u5c5e\u4e3b] [\u5c5e\u7ec4]\ndrwxr-xr-x    2 root   root    4096 Apr 23  2020 boot\n\n\nNOTE: -R \u8868\u793a\u9012\u5f52\u4f5c\u7528\u4e8e\u6240\u6709\u5b50\u76ee\u5f55\n</code></pre>"},{"location":"full-stack/coding/linux/#_4","title":"\u6587\u4ef6\u6743\u9650","text":"<pre><code>chgrp   # \u66f4\u6539\u6587\u4ef6\u5c5e\u7ec4(change group) - \u8bed\u6cd5\uff1achgrp [-R] \u5c5e\u7ec4\u540d \u6587\u4ef6\u540d\nchown   # \u66f4\u6539\u6587\u4ef6\u5c5e\u4e3b(change owner) - \u8bed\u6cd5\uff1achown [-R] \u5c5e\u4e3b\u540d \u6587\u4ef6\u540d\n\n\nchmod   # \u66f4\u6539\u6587\u4ef6\u6743\u9650(change mode) - \u8bed\u6cd5\uff1achmod [-R] \u6743\u9650 \u6587\u4ef6\u540d\n\nr: 4\nw: 2\nx: 1\n-: 0\n\nrw- =&gt; 4 + 2 = 6     - \u53ef\u8bfb\u53ef\u5199\u4e0d\u53ef\u6267\u884c\nrwx =&gt; 4 + 2 + 1 = 7 - \u53ef\u8bfb\u53ef\u5199\u53ef\u6267\u884c\n--- =&gt; 0 + 0 + 0 = 0 - \u4e0d\u53ef\u8bfb\u4e0d\u53ef\u5199\u4e0d\u53ef\u6267\u884c\n\n\n\n\u66f4\u6539\u6587\u4ef6\u6743\u9650\u7684\u4e24\u79cd\u65b9\u5f0f\uff1a\n    1. \u4f7f\u7528 chmod \u547d\u4ee4\n    2. \u4f7f\u7528 chmod \u547d\u4ee4\u7684\u7b80\u5199\u5f62\u5f0f\uff08\u6570\u5b57\u65b9\u5f0f\uff09\n\n\n# \u65b9\u5f0f\u4e00\uff1a\n    u: user\n    g: group\n    o: others\n    a: all(\u6240\u6709\u7684\uff0c\u7b49\u4ef7\u4e8e ugo)\n\n    +: \u6dfb\u52a0\u6743\u9650\n    -: \u5220\u9664\u6743\u9650\n    =: \u8bbe\u7f6e\u6743\u9650\n\n\n    chmod ugo+r test.txt                 # \u5c06\u6587\u4ef6 test.txt \u8bbe\u7f6e\u4e3a\u6240\u6709\u4eba\u53ef\u8bfb\n    chmod a+r test.txt                   # \u5c06\u6587\u4ef6 test.txt \u8bbe\u7f6e\u4e3a\u6240\u6709\u4eba\u53ef\u8bfb\n    chmod ug+w,o-w file1.txt file2.txt   # \u5c06\u6587\u4ef6 file1.txt \u548c file2.txt \u8bbe\u7f6e\u4e3a\u7528\u6237\u548c\u7ec4\u53ef\u8bfb\u5199\uff0c\u5176\u4ed6\u7528\u6237\u53ea\u8bfb\n\n\n# \u65b9\u5f0f\u4e8c\uff1a\n    chmod 777 test # \u8d4b\u4e88\u6240\u6709\u7528\u6237\u5bf9\u6587\u4ef6\u5939 test \u6240\u6709\u6743\u9650(\u53ef\u8bfb\u53ef\u5199\u53ef\u6267\u884c)\n\n\nNOTE: \u6548\u7684\u539f\u56e0\u662f:chmod\u6539\u53d8\u6587\u4ef6\u6743\u9650\u662f\u6709\u9650\u5236\u7684,\u5b83\u53ea\u80fd\u5728linux\u5206\u533a\u4e0b\u751f\u6548,\u5426\u5219\u6743\u9650\u6539\u4e0d\u4e86\u3002(\u56e0\u4e3aFAT\u6216NTFS\u6587\u4ef6\u7cfb\u7edf\u4e2d\u6839\u672c\u6ca1\u6709Linux\u7cfb\u7edf\u4e2d\u7684\u90a3\u4e9b\u6743\u9650\u7684\u6982\u5ff5)\n# WSL \u6743\u9650\u95ee\u9898\uff1ahttps://my.oschina.net/xiaopei/blog/3213340\n</code></pre>"},{"location":"full-stack/coding/linux/#_5","title":"\u6587\u4ef6\u94fe\u63a5","text":"<pre><code>\u786c\u94fe\u63a5 - A --- B, \u5047\u8bbeB\u662fA\u7684\u94fe\u63a5\uff0c\u90a3\u4e48\u4ed6\u4eec\u6307\u5411\u4e86\u540c\u4e00\u4e2a\u6587\u4ef6\uff0c\u5141\u8bb8\u4e00\u4e2a\u6587\u4ef6\u62e5\u6709\u591a\u4e2a\u8def\u5f84\uff0c\u5220\u9664\u4e86\u5176\u4e2d\u4e00\u4e2a\u65f6\uff0c\u53e6\u4e00\u4e2a\u4ecd\u7136\u53ef\u4ee5\u6b63\u5e38\u8bbf\u95ee\uff08\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u673a\u5236\u5efa\u7acb\u786c\u94fe\u63a5\u5230\u4e00\u4e9b\u91cd\u8981\u6587\u4ef6\u4e0a\uff0c\u9632\u6b62\u8bef\u5220\u64cd\u4f5c\uff09\n\u8f6f\u8fde\u63a5 - \u7c7b\u4f3cWin\u7cfb\u7edf\u4e2d\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u5220\u9664\u4e86\u6e90\u6587\u4ef6\u540e\uff0c\u5feb\u6377\u65b9\u5f0f\u4e5f\u4e0d\u53ef\u7528\u4e86\n\nln file1 file2     # \u5c06\u6587\u4ef6file1\u786c\u94fe\u63a5\u5230file2\nln -s file1 file2  # \u5c06\u6587\u4ef6file1\u8f6f\u94fe\u63a5\u5230file2\n\n\n\u279c mkdir f      \n\u279c cd f                                                         \n\u279c  f touch f1\n\u279c  f ln f1 f2\n\u279c  f ln -s f1 f3\n\u279c  f ls -ll     \ntotal 0\n-rwxrwxrwx 2 hhb hhb 0 Feb 28 22:02 f1\n-rwxrwxrwx 2 hhb hhb 0 Feb 28 22:02 f2\nlrwxrwxrwx 1 hhb hhb 2 Feb 28 22:02 f3 -&gt; f1\n\n\n# NOTE: \u4ee5\u4e0a\u6b65\u9aa4\u4e2d\uff0cf2 \u548c f3 \u90fd\u94fe\u63a5\u5230\u4e86 f1\uff0c\u6240\u4ee5\u5f53 f1 \u6587\u4ef6\u5185\u5bb9\u6539\u53d8\u65f6\uff0cf2 \u548c f3\u7684\u5185\u5bb9\u4e5f\u540c\u6b65\u53d8\u66f4\u4e86\n\n\u279c  f echo \"i love linux\" &gt; f1  \n\u279c  f cat f1              \ni love linux\n\u279c  f cat f2                  \ni love linux\n\u279c  f cat f3\ni love linux\n\n# NOTE: \u5220\u9664\u6e90\u6587\u4ef6(f1)\u540e\uff0c\u786c\u94fe\u63a5\u4e0d\u53d7\u5f71\u54cd\uff0c\u8f6f\u8fde\u63a5\u5931\u6548\n\n\u279c  f rm f1\n\u279c  f cat f3 \ncat: f3: No such file or directory\n\u279c  f cat f2\ni love linux\n</code></pre>"},{"location":"full-stack/coding/linux/#_6","title":"\u67e5\u770b\u6587\u4ef6\u5185\u5bb9","text":"<pre><code>\u3010\u6587\u4ef6\u5185\u5bb9\u3011\n\n\u279c  test echo \"teststart\" &gt; test.txt\n\u279c  test echo \"testend\" &gt;&gt; test.txt\n\n\ncat         # \u7531\u7b2c\u4e00\u884c\u5f00\u59cb\u663e\u793a\u6587\u4ef6\u5185\u5bb9(concatenate)\ntac         # \u4e0ecat\u76f8\u53cd\u7684\u8fc7\u7a0b\uff0c\u7531\u6700\u540e\u4e00\u884c\u5f00\u59cb\u663e\u793a\u6587\u4ef6\u5185\u5bb9\nnl          # \u67e5\u770b\u6587\u4ef6\u5185\u5bb9\u7684\u65f6\u5019\u663e\u793a\u884c\u53f7\nhead        # \u67e5\u770b\u5934\u51e0\u884c\u5185\u5bb9\nhead -n 20  # \u67e5\u770b\u524d20\u884c\u5185\u5bb9\ntail        # \u67e5\u770b\u672b\u51e0\u884c\u5185\u5bb9\ntail -n 20  # \u67e5\u770b\u540e20\u884c\u5185\u5bb9\n\nmore        # \u6309\u9875\u663e\u793a\u5185\u5bb9\uff0c\u4ec5\u652f\u6301\u5f80\u540e\u7ffb\u9875\uff08\u5185\u5bb9\u591a\u4e8e\u4e00\u9875\u65f6\uff09                  - \u7a7a\u683c\u7ffb\u9875\uff0c\u56de\u8f66\u770b\u4e0b\u4e00\u884c\nless        # \u6309\u9875\u663e\u793a\u5185\u5bb9\uff0c\u6bd4more\u66f4\u52a0\u7075\u6d3b\uff0c\u53ef\u5f80\u524d\u6216\u5f80\u540e\u7ffb\u9875\uff08\u5185\u5bb9\u591a\u4e8e\u4e00\u9875\u65f6\uff09 \n\n\u5728\u4f7f\u7528 less \u67e5\u770b\u5185\u5bb9\u65f6\uff1a\n    - PgUp\u5411\u4e0a\u7ffb\u9875\uff0cPgDn\u5411\u4e0b\u7ffb\u9875\uff0c\u6309 q \u9000\u51fa\n    - / + \u5b57\u7b26\uff0c\u8868\u793a\u5411\u4e0b\u641c\u7d22\u5b57\u7b26\u4e32\uff0cn \u8868\u793a\u7ee7\u7eed\u641c\u7d22\u4e0b\u4e00\u4e2a\uff0cN \u8868\u793a\u53cd\u5411\u4e0b\u4e00\u4e2a\n    - ? + \u5b57\u7b26\uff0c\u8868\u793a\u5411\u4e0a\u641c\u7d22\u5b57\u7b26\u4e32\uff0cn \u8868\u793a\u7ee7\u7eed\u641c\u7d22\u4e0b\u4e00\u4e2a\uff0cN \u8868\u793a\u53cd\u5411\u4e0b\u4e00\u4e2a\n\n\u279c cat test.txt\nteststart\ntestend\n\n\n\u279c tac test.txt                                             \ntestend\nteststart\n\n\n\u279cnl test.txt        \n     1  teststart\n     2  testend\n\n\n\u279c more test.txt\n\u279c less test.txt\n\ntouch                            # \u521b\u5efa\u6587\u4ef6\necho                             # \u8f93\u51fa\u5185\u5bb9\necho \"i love linux\" &gt; test.txt   # \u5c06\u5185\u5bb9\u5199\u5165 test.txt\necho \"i love linux\" &gt;&gt; test.txt  # \u5c06\u5185\u5bb9\u8ffd\u52a0\u5230 test.txt\n</code></pre>"},{"location":"full-stack/coding/linux/#vim","title":"vim \u7f16\u8f91\u5668","text":"<pre><code>vim test.txt       # test.txt \u5b58\u5728\u65f6\u7f16\u8f91\u6587\u4ef6\uff0c\u4e0d\u5b58\u5728\u65f6\u521b\u5efa\u6587\u4ef6\n\n\u547d\u4ee4\u6a21\u5f0f -&gt; \u7f16\u8f91\u6a21\u5f0f\uff1a\u6309 i\n\u7f16\u8f91\u6a21\u5f0f -&gt; \u547d\u4ee4\u6a21\u5f0f\uff1a\u5148\u6309ESC\u9000\u51fa\u7f16\u8f91\u6a21\u5f0f\n\u547d\u4ee4\u6a21\u5f0f -&gt; \u5e95\u7ebf\u547d\u4ee4\u6a21\u5f0f\uff1a\u8f93\u5165\u5192\u53f7\n\n\n\u5e95\u7ebf\u547d\u4ee4\u6a21\u5f0f\uff1a\nq - \u9000\u51fa\nw - \u4fdd\u6301\n\n:qw - \u4fdd\u5b58\u5e76\u9000\u51fa\n</code></pre>"},{"location":"full-stack/coding/linux/#_7","title":"\u7528\u6237\u7ba1\u7406","text":"<pre><code>useradd                           # \u65b0\u5efa\u7528\u6237\nuseradd -m tester                 # \u65b0\u5efa\u7528\u6237 tester \u5e76\u5728 /home \u76ee\u5f55\u4e0b\u81ea\u52a8\u521b\u5efa tester \u7528\u6237\u6587\u4ef6\u5939\nuseradd -G usergroup -m tester    # \u65b0\u5efa\u7528\u6237 tester \u5e76\u5728 /home \u76ee\u5f55\u4e0b\u81ea\u52a8\u521b\u5efa tester \u7528\u6237\u6587\u4ef6\u5939\u4e14\u5c06\u8be5\u7528\u6237\u5206\u914d\u5230 usergroup \u7528\u6237\u7ec4\nuserdel -r tester                 # \u5220\u9664\u7528\u6237 tester \u5e76\u5220\u9664/home \u76ee\u5f55\u4e0btester \u7528\u6237\u6587\u4ef6\u5939\nusermod                           # \u4fee\u6539\u7528\u6237\u5c5e\u6027(\u4fee\u6539\u540e /etc/passwd \u914d\u7f6e\u6587\u4ef6\u4f1a\u540c\u6b65\u4fee\u6539)\nusermod -d /home/testernew tester # \u66f4\u65b0\u7528\u6237 tester \u7684\u9ed8\u8ba4\u6587\u4ef6\u5939\u8def\u5f84\npasswd tester                     # \u4fee\u6539\u6216\u8bbe\u7f6e\u7528\u6237 tester \u5bc6\u7801(\u56de\u8f66\u540e\u8f93\u5165\u5bc6\u7801\uff0c\u5b89\u5168\u8d77\u89c1\uff0c\u5bc6\u7801\u8f93\u5165\u4e0d\u53ef\u89c1)\npasswd -l tester                  # \u9501\u5b9a\u7528\u6237 tester (\u7528\u6237\u88ab\u9501\u5b9a\u540e\uff0c\u4e0d\u80fd\u767b\u5f55\uff0c-l \u8868\u793a lock)\npasswd -d tester                  # \u7f6e\u7a7a\u7528\u6237 tester \u7684\u5bc6\u7801(\u6ca1\u6709\u5bc6\u7801\u4e5f\u4e0d\u80fd\u767b\u5f55\uff0c-d \u8868\u793a delete)\nsu tester                         # \u5207\u6362\u7528\u6237\u4e3a tester(\u5207\u6362\u7528\u6237\u540e\u6267\u884c exit \u53ef\u9000\u5230\u5207\u6362\u524d\u7684\u7528\u6237)\n\n\n\u279c ls -ll /home\ntotal 4\ndrwxr-xr-x 28 hhb hhb 4096 Feb 28 22:46 hhb\nuseradd: cannot lock /etc/passwd; try again later.\n\u279c sudo useradd -m tester\n[sudo] password for hhb: \n\u279c ls -ll /home\ntotal 8\ndrwxr-xr-x 28 hhb    hhb    4096 Feb 28 22:46 hhb\ndrwxr-xr-x  2 tester tester 4096 Feb 28 22:46 tester\n\n# \u7406\u89e3\u4e00\u4e0b\u672c\u8d28\uff1aLinux\u4e2d\u4e00\u5207\u7686\u6587\u4ef6\uff0c\u8fd9\u91cc\u7684\u6dfb\u52a0\u7528\u6237\u8bf4\u767d\u4e86\u5c31\u662f\u5f80\u67d0\u4e00\u4e2a\u6587\u4ef6\u4e2d\u5199\u5165\u4e86\u7528\u6237\u4fe1\u606f (/etc/passwd)\n\n\n\n\u279c sudo userdel -r tester \n[sudo] password for hhb: \nuserdel: tester mail spool (/var/mail/tester) not found\n\u279c ls -ll /home\ntotal 4\ndrwxr-xr-x 28 hhb hhb 4096 Feb 28 23:06 hhb\n\n\n\u279c sudo useradd -m tester   \n\u279c sudo usermod -d /home/testernew tester\n\u279c cat /etc/passwd\ntester:x:1001:1002::/home/testernew:/bin/sh\n\n\n[root@huabo home]#\n\nroot  -&gt; \u5f53\u524d\u7528\u6237\u540d\nhuabo -&gt; \u4e3b\u673a\u540d\nhome  -&gt; \u7528\u6237\u5f53\u524d\u76ee\u5f55\n#     -&gt; \u8d85\u7ea7\u7528\u6237\u6807\u8bc6\n$     -&gt; \u666e\u901a\u7528\u6237\u6807\u8bc6\n\n\n\u279c sudo passwd tester\nNew password: \nRetype new password: \npasswd: password updated successfully\n\n\n\u279c su tester         \nPassword: \n\n\n\u279c sudo passwd -l tester                                                          \npasswd: password expiry information changed.\n\u279c su tester            \nPassword: \nsu: Authentication failure\n\n\n\nhostname          # \u67e5\u770b\u4e3b\u673a\u540d\nhostname newname  # \u4fee\u6539\u4e3b\u673a\u540d(\u4fee\u6539\u540e\u91cd\u65b0\u8fde\u63a5\u5373\u53ef\u751f\u6548)\n\n\n\u3010\u7528\u6237\u7ec4\u7ba1\u7406\u3011\n\ngroupadd                                        # \u521b\u5efa\u4e00\u4e2a\u7528\u6237\u7ec4\ngroupadd usergroup                              # \u521b\u5efa\u4e00\u4e2a\u7528\u6237\u7ec4 usergroup\ngroupadd -g 520 usergroup                       # \u521b\u5efa\u4e00\u4e2a\u7528\u6237\u7ec4 usergroup \u5e76\u8bbe\u7f6e\u7528\u6237\u7ec4 ID \u4e3a 520 (\u5982\u679c\u4e0d\u6307\u5b9aID\u5219\u4f1a\u81ea\u589e)\n\ngroupdel usergroup                              # \u5220\u9664\u7528\u6237\u7ec4 usergroup\n\ngroupmod -g 123 usergroup                       # \u4fee\u6539\u7528\u6237\u7ec4 usergroup \u7684ID\ngroupmod -n newgroup usergroup                  # \u4fee\u6539\u7528\u6237\u7ec4 usergroup \u7684\u540d\u79f0\ngroupmod -g 123 usergroup -n newgroup usergroup # \u540c\u65f6\u4fee\u6539\u7528\u6237\u7ec4\u7684ID\u548c\u540d\u79f0\n\n\u279c sudo groupdel usergroup\n\n\n\u279c sudo groupadd usergroup          \n[sudo] password for hhb: \n\u279c ls -ll /etc/group\n-rw-r--r-- 1 root root 1018 Mar  1 21:50 /etc/group\n\u279c cat /etc/group \nusergroup:x:1003:\n\n\n\u279c sudo groupmod -n newusergroup  usergroup\n\n\u279c sudo groupmod -g 520 usergroup\n\n\n\n\u66f4\u65b0\u67d0\u7528\u6237\u6240\u5c5e\u7684\u7528\u6237\u7ec4\uff1a\n\n\u65b9\u5f0f\u4e00\uff1a\u5207\u6362\u5230\u9700\u8981\u66f4\u65b0\u7684\u7528\u6237\uff0c\u7136\u540e\u6267\u884c newgrp [\u65b0\u7528\u6237\u7ec4\u540d]\n# su tester\n$ newgrp usergroup  # \u5c06\u5f53\u524d\u7528\u6237\u5c5e\u7ec4\u66f4\u65b0\u4e3a usergroup\n\n\n\u65b9\u5f0f\u4e8c\uff1a\u65b0\u5efa\u7528\u6237\u7684\u540c\u65f6\u5c31\u6307\u5b9a\u7528\u6237\u7ec4\nuseradd -G usergroup -m tester\n\n\u279c cat /etc/passwd\ntester:x:1001:1002::/home/tester:/bin/sh\n\n\u5b57\u6bb5\u683c\u5f0f\u8bf4\u660e\uff1a\n[\u7528\u6237\u540d]:\u53e3\u4ee4(\u767b\u5f55\u5bc6\u7801\uff0c\u4e0d\u53ef\u89c1\uff0c\u4f7f\u7528x\u4ee3\u66ff):\u7528\u6237\u6807\u8bc6\u53f7:\u7528\u6237\u7ec4\u6807\u8bc6\u53f7:\u6ce8\u91ca\u6027\u63cf\u8ff0:\u4e3b\u76ee\u5f55:\u767b\u5f55shell\n\n\n\u767b\u5f55\u53e3\u4ee4: \u628a\u771f\u6b63\u7684\u52a0\u5bc6\u540e\u7684\u54e6\u90a3\u4e2a\u548c\u53e3\u4ee4\u653e\u5230 /etc/shadow \u6587\u4ef6\u4e2d(\u5bc6\u7801\u5df2\u4f5c\u52a0\u5bc6\u5904\u7406)\uff0c\u4fdd\u8bc1\u6211\u4eec\u5bc6\u7801\u7684\u5b89\u5168\u6027\n\n\n/etc/passwd #\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e00\u884c\u90fd\u4ee3\u8868\u7740\u4e00\u4e2a\u7528\u6237\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u8fd9\u91cc\u770b\u51fa\u8fd9\u4e2a\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u5728\u54ea\u91cc\uff0c\u53ef\u4ee5\u770b\u5230\u8be5\u7528\u6237\u6240\u5c5e\u7684\u7528\u6237\u7ec4\n/etc/group  #\u7528\u6237\u7ec4\u4fe1\u606f\n/etc/shadow #\u7528\u6237\u5bc6\u7801\u4fe1\u606f  \n</code></pre>"},{"location":"full-stack/coding/linux/#_8","title":"\u8fdb\u7a0b\u7ba1\u7406","text":"<pre><code>1. \u5728Linux\u7cfb\u7edf\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u7a0b\u5e8f\u90fd\u6709\u81ea\u5df1\u7684\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u90fd\u6709\u4e00\u4e2aID\n2. \u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u90fd\u4f1a\u6709\u4e00\u4e2a\u7236\u8fdb\u7a0b\n3. \u8fdb\u7a0b\u53ef\u4ee5\u6709\u4e24\u79cd\u5b58\u5728\u65b9\u5f0f\uff1a\u524d\u53f0\u8fd0\u884c \u548c \u540e\u53f0\u8fd0\u884c\n4. \u4e00\u822c\u7684\u8bdd\u670d\u52a1\u90fd\u662f\u540e\u53f0\u8fd0\u884c\u7684\uff0c\u57fa\u672c\u7684\u7a0b\u5e8f\u90fd\u662f\u524d\u53f0\u8fd0\u884c\u7684\n\n\nps        # \u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u4e2d\u6b63\u5728\u6267\u884c\u7684\u5404\u79cd\u8fdb\u7a0b\u4fe1\u606f\uff08process status\uff09\nps -a     # \u663e\u793a\u5f53\u524d\u7ec8\u7aef\u8fd0\u884c\u7684\u6240\u6709\u8fdb\u7a0b\u4fe1\u606f\nps -u     # \u4ee5\u7528\u6237\u7684\u4fe1\u606f\u663e\u793a\u8fdb\u7a0b\nps -x     # \u663e\u793a\u540e\u53f0\u8fd0\u884c\u8fdb\u7a0b\u7684\u53c2\u6570\nps -ef    # \u53ef\u4ee5\u67e5\u770b\u5230\u7236\u8fdb\u7a0b\u4fe1\u606f\n\nps -aux | grep mysql # \u67e5\u770bmysql\u76f8\u5173\u7684\u8fdb\u7a0b\u4fe1\u606f\n\npstree     # \u5c06\u6240\u6709\u8fdb\u7a0b\u4ee5\u6811\u72b6\u56fe\u663e\u793a(display a tree of processes)\npstree -p  # \u663e\u793a\u7236\u8fdb\u7a0bID\npstree -u  # \u663e\u793a\u7528\u6237\u7ec4\npstree -pu # \u663e\u793a\u7528\u6237\u7ec4\u548c\u7236\u8fdb\u7a0bID\n\n\nkill -9 [pid]  # \u5f3a\u5236\u7ec8\u6b62\u8fdb\u7a0b(9\u662f\u56fa\u5b9a\u53c2\u6570)\n\n\n\n|    # \u7ba1\u9053\u7b26\uff0c\u5c06\u4e0a\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u7684\u7ed3\u679c\u4f5c\u4e3a\u4e0b\u4e00\u6761\u547d\u4ee4\u7684\u8f93\u5165\ngrep # \u67e5\u627e\u6587\u4ef6\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u5b57\u7b26\u4e32\n\n\n\u279c ps -a               \n  PID TTY          TIME CMD\n 6416 pts/5    00:00:22 du\n11659 pts/1    00:00:00 git\n11660 pts/1    00:00:00 ssh\n12786 pts/5    00:00:00 ps\n18488 pts/1    00:00:00 sh\n18493 pts/1    00:00:00 sh\n18496 pts/1    00:01:20 node\n18516 pts/1    00:00:48 node\n18560 pts/1    00:00:07 node\n18587 pts/1    00:19:20 node\n18783 pts/1    00:00:04 node\n18939 pts/1    00:02:35 node\n20967 pts/1    00:00:02 node\n\n\n\n\u279c ps -aux | grep mysql\nmysql     2995  0.0  0.0   2608  1704 ?        S    Feb28   0:00 /bin/sh /usr/bin/mysqld_safe\nmysql     3146  0.4 10.5 2521124 426772 ?      Sl   Feb28   6:22 /usr/sbin/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib/mysql/plugin --log-error=/var/log/mysql/error.log --pid-file=Huabo.pid\nhhb      12637  0.0  0.0   8028   736 pts/5    R+   23:22   0:00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn --exclude-dir=.idea --exclude-dir=.tox mysql\n\n\nNOTE: ps \u4e00\u822c\u4e0e grep \u642d\u914d\u4f7f\u7528\uff0c\u53ea\u9700\u8981\u5173\u6ce8\u7279\u5b9a\u7684\u8fdb\u7a0b\u5c31\u53ef\u4ee5\u4e86\uff0c\u8fc7\u6ee4\u6389\u4e0d\u9700\u8981\u7684\u4fe1\u606f\n\n\n\u279c pstree\ninit\u2500\u252c\u2500init\u2500\u2500\u2500mysqld_safe\u2500\u2500\u2500mysqld\u2500\u2500\u250039*[{mysqld}]\n     \u251c\u25002*[init\u2500\u2500\u2500init\u2500\u2500\u2500node\u2500\u2500\u25006*[{node}]]\n     \u251c\u2500init\u2500\u2500\u2500init\u2500\u2500\u2500sh\u2500\u2500\u2500sh\u2500\u2500\u2500sh\u2500\u2500\u2500node\u2500\u252c\u2500node\u2500\u252c\u2500zsh\u2500\u252c\u2500du\n     \u2502                                   \u2502      \u2502     \u2514\u2500pstree\n     \u2502                                   \u2502      \u251c\u2500zsh\n     \u2502                                   \u2502      \u2514\u250012*[{node}]\n     \u2502                                   \u251c\u2500node\u2500\u2500\u250012*[{node}]\n     \u2502                                   \u251c\u2500node\u2500\u252c\u2500git\u2500\u2500\u2500ssh\n     \u2502                                   \u2502      \u251c\u2500git\n     \u2502                                   \u2502      \u251c\u2500node\u2500\u2500\u250010*[{node}]\n     \u2502                                   \u2502      \u251c\u2500node\u2500\u2500\u250021*[{node}]\n     \u2502                                   \u2502      \u251c\u2500node\u2500\u2500\u25006*[{node}]\n     \u2502                                   \u2502      \u2514\u250012*[{node}]\n     \u2502                                   \u2514\u250010*[{node}]\n     \u2514\u25002*[{init}]\n\n\nnohub /root/test.sh &amp;\nnohub /root/test.sh &gt; log.log 2&gt;&amp;1 &amp;\n</code></pre>"},{"location":"full-stack/coding/linux/#_9","title":"\u89e3\u538b\u7f29","text":"<pre><code>gz: \n\u538b\u7f29\uff1atar -zcvf test.tar.gz *.txt\n\u89e3\u538b\uff1atar -zxvf test.tar.gz -C abc\n\n\nbz:\n\u538b\u7f29\uff1atar -jcvg test.bz2 *.txt\n\u89e3\u538b\uff1atar -zxvf test.bz2 -C abc\n\ntar\nfind\nlocate\n\nNOTE: Linux \u7cfb\u7edf\u4e2d\u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199\n\n\ntar -zxvf test.tar.gz             # \u89e3\u538b\u6587\u4ef6\n</code></pre>"},{"location":"full-stack/coding/linux/#_10","title":"\u78c1\u76d8\u7ba1\u7406","text":"<pre><code>\u3010\u78c1\u76d8\u7ba1\u7406\u3011\ndf          # \u5217\u51fa\u6587\u4ef6\u7cfb\u7edf\u6574\u4f53\u7684\u78c1\u76d8\u4f7f\u7528\u91cf(disk free)\ndf -h       # \u4ee5\u4eba\u7c7b\u53ef\u8bfb\u7684\u65b9\u5f0f\u663e\u793a\u78c1\u76d8\u4f7f\u7528\u91cf\n\ndu          # \u67e5\u770b\u6587\u4ef6\u7a7a\u95f4\u4f7f\u7528\u91cf(disk usage) \ndu -a       # \u67e5\u770b\u6240\u6709\u6587\u4ef6\u7a7a\u95f4\u5360\u7528\u91cf\uff0c\u5305\u62ec\u9690\u85cf\u6587\u4ef6\ndu -h       # \u4ee5\u4eba\u7c7b\u53ef\u8bfb\u7684\u65b9\u5f0f\u663e\u793a\u67e5\u770b\u6587\u4ef6\u7a7a\u95f4\u4f7f\u7528\u91cf\ndu -sm /*   # \u68c0\u67e5\u6839\u76ee\u5f55\u4e0b\u6bcf\u4e2a\u76ee\u5f55\u6240\u5360\u7528\u7684\u5bb9\u91cf\n\n\nNOTE: du \u4f1a\u663e\u793a\u6240\u6709\u5b50\u6587\u4ef6\uff0c\u6309\u9700\u4f7f\u7528\uff0c\u4e0d\u7136\u4f1a\u8fd4\u56de\u5927\u91cf\u5185\u5bb9\n\n\n\u279c df \nFilesystem     1K-blocks      Used Available Use% Mounted on\n/dev/sda       263174212  11142428 238593628   5% /\nnone             2013672         4   2013668   1% /mnt/wsl\ntools          123767236 115735204   8032032  94% /init\nnone             2011384         0   2011384   0% /dev\nnone             2013672        12   2013660   1% /run\nnone             2013672         0   2013672   0% /run/lock\nnone             2013672         0   2013672   0% /run/shm\nnone             2013672         0   2013672   0% /run/user\ntmpfs            2013672         0   2013672   0% /sys/fs/cgroup\ndrivers        123767236 115735204   8032032  94% /usr/lib/wsl/drivers\nlib            123767236 115735204   8032032  94% /usr/lib/wsl/lib\ndrvfs          123767236 115735204   8032032  94% /mnt/c\ndrvfs          123208700 105413632  17795068  86% /mnt/d\n\n\n\u279c df -h\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/sda        251G   11G  228G   5% /\nnone            2.0G  4.0K  2.0G   1% /mnt/wsl\ntools           119G  111G  7.7G  94% /init\nnone            2.0G     0  2.0G   0% /dev\nnone            2.0G   12K  2.0G   1% /run\nnone            2.0G     0  2.0G   0% /run/lock\nnone            2.0G     0  2.0G   0% /run/shm\nnone            2.0G     0  2.0G   0% /run/user\ntmpfs           2.0G     0  2.0G   0% /sys/fs/cgroup\ndrivers         119G  111G  7.7G  94% /usr/lib/wsl/drivers\nlib             119G  111G  7.7G  94% /usr/lib/wsl/lib\ndrvfs           119G  111G  7.7G  94% /mnt/c\ndrvfs           118G  101G   17G  86% /mnt/d\n\n\nSize      : \u5f53\u524d\u6587\u4ef6\u5927\u5c0f\nUsed      : \u5df2\u4f7f\u7528\u7684\u7a7a\u95f4\nAvail     : \u53ef\u7528\u7a7a\u95f4\nUse%      : \u5df2\u4f7f\u7528\u7a7a\u95f4\u5360\u6bd4\nMounted on: \u6302\u8f7d\u76ee\u5f55\n\n\n\u279c du -h\n0       ./.pytest_cache/v/cache\n0       ./.pytest_cache/v\n0       ./.pytest_cache\n20K     ./linux\n64K     ./mysql\n8.0K    ./numpy\n16K     ./pandas/splits\n100K    ./pandas\n8.0K    ./python\n0       ./target/source\n0       ./target\n0       ./test\n200K    .\n\n\nman    # \u5e2e\u52a9\u547d\u4ee4\nman df # \u5217\u51fadf\u547d\u4ee4\u7684\u5e2e\u52a9\u6587\u6863\n\nclear  # \u6e05\u5c4f\n\n\n\n\u6302\u8f7d&amp;\u5378\u8f7d\nmount /dev/hhb /mnt/hhb     # \u5c06\u5916\u90e8\u8bbe\u5907hhb\u6302\u8f7d\u5230 mnt \u76ee\u5f55\u4e0b\u6765\u5b9e\u73b0\u8bbf\u95ee\numount -f /mnt/hhb          # \u5f3a\u5236\u5378\u8f7d\n</code></pre>"},{"location":"full-stack/coding/linux/#find","title":"find","text":"<pre><code>find /test -name test.txt         # \u5728/test\u76ee\u5f55\u4e0b\u67e5\u627etest.txt\u6587\u4ef6\nfind /test -name \"*test*\"           # \u5728/test\u76ee\u5f55\u4e0b\u67e5\u627e\u540d\u5b57\u4e2d\u542b\u6709test\u7684\u6587\u4ef6 - \u6a21\u7cca\u5339\u914d\u641c\u7d22(*\u5339\u914d\u4efb\u610f\u5b57\u7b26)\nfind /test -name \"test?\"          # \u5728/test\u76ee\u5f55\u4e0b\u67e5\u627e\u540d\u5b57\u4e2d\u4ee5test\u5f00\u5934\u4e14test\u540e\u6709\u4e09\u4e2a\u5b57\u7b26\u7684\u6587\u4ef6 - (?\u5339\u914d\u5355\u5b57\u7b26)\nfind /test -iname test            # -iname \u8868\u793a\u4e0d\u533a\u5206\u5927\u5c0f\u5199\n\n\n1\u6570\u636e\u5757 = 512\u5b57\u8282 = 0.5k\n\n100MB = 102400kb = 204800\u6570\u636e\u5757\n\nfind / -size +204800              # \u67e5\u627e\u6839\u76ee\u5f55\u4e0b\u6587\u4ef6\u5927\u5c0f\u5927\u4e8e100M\u7684\u6587\u4ef6 (+\u8868\u793a\u5927\u4e8e, - \u8868\u793a\u5c0f\u4e8e, \u4e0d\u5e26\u7b26\u53f7\u8868\u793a\u7b49\u4e8e)\nfind / -size +100M\n\nfind /home -user hhb              # \u67e5\u627e/home\u76ee\u5f55\u4e0b\u6240\u5c5e\u7528\u6237\u4e3a hhb \u7684\u6240\u6709\u6587\u4ef6\n\n\nfind /etc -cmin -5                # \u5728 /etc \u76ee\u5f55\u4e0b\u67e5\u627e5\u5206\u949f\u5185\u88ab\u4fee\u6539\u8fc7\u5c5e\u6027\u7684\u6587\u4ef6\u548c\u76ee\u5f55(+\u8868\u793a\u5927\u4e8e, - \u8868\u793a\u5c0f\u4e8e, \u4e0d\u5e26\u7b26\u53f7\u8868\u793a\u7b49\u4e8e)\n-amin # \u8bbf\u95ee\u65f6\u95f4 access\n-cmin # \u6587\u4ef6\u5c5e\u6027 change\n-mmin # \u6587\u4ef6\u5185\u5bb9 modify\n\n\nfind /etc -size +163840 -a -size -204800  # \u5728/etc\u76ee\u5f55\u4e0b\u67e5\u627e\u6587\u4ef6\u5927\u5c0f\u5927\u4e8e80M\u5c0f\u4e8e100M\u7684\u6587\u4ef6\n-a \u4e24\u4e2a\u6761\u4ef6\u540c\u65f6\u6ee1\u8db3(and)\n-o \u4e24\u4e2a\u6761\u4ef6\u4ec5\u6ee1\u8db3\u4e00\u4e2a\u5373\u53ef(or)\n\n\nfind /etc -type f           # \u6839\u636e\u6587\u4ef6\u7c7b\u578b\u67e5\u627e\nf - \u6587\u4ef6\nd - \u76ee\u5f55\nl - \u94fe\u63a5\n\n\nfind /test -type f | xargs grep \"keyword\"\n\nfind . -name test.txt -exec ls -l {} \\;    # \u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u67e5\u627etest.txt\u6587\u4ef6\u5e76\u663e\u793a\u5176\u8be6\u7ec6\u4fe1\u606f({} \u8868\u793a\u67e5\u8be2\u7ed3\u679c\uff0c\\\u8868\u793a\u8f6c\u4e49\u7b26\uff0c; \u8868\u793a\u547d\u4ee4\u7ed3\u675f\u7b26\u53f7)\n\n\u279c find . -name test.txt -exec ls -l {} \\;\n-rwxrwxrwx 1 hhb hhb 18 Feb 28 21:23 ./test/test.txt\n-rwxrwxrwx 1 hhb hhb 10 Feb 28 22:29 ./test.txt\n\n\n-exec/-ok \u547d\u4ee4 {} \\;  # \u5bf9\u641c\u7d22\u7ed3\u679c\u6267\u884c\u64cd\u4f5c (-ok \u8868\u793a\u8be2\u95ee\u547d\u4ee4\u662f\u5426\u9700\u8981\u6267\u884c\uff0c\u5728\u4e00\u4e9b\u5220\u9664\u573a\u666f\u4e2d\u53ef\u4ee5\u4e8c\u6b21\u786e\u8ba4\uff0c\u907f\u514d\u8bef\u5220)\n\n\n\u279c find . -name test.txt    \n./test/test.txt\n./test.txt\n\n\nfind . -inum 7881299348124667                # \u67e5\u627ei\u8282\u70b9ID\u4e3a7881299348124667\u7684\u6587\u4ef6\nfind . -inum 7881299348124667 -exec rm {} \\; # \u67e5\u627ei\u8282\u70b9ID\u4e3a7881299348124667\u7684\u6587\u4ef6(\u6709\u65f6\u5019\u6587\u4ef6\u540d\u5305\u542b\u7279\u6b8a\u5b57\u7b26\u65e0\u6cd5\u5220\u9664\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u6765\u5220\u9664)\n\n\n\u279c find / -size +204800\n/home/hhb/hhbdata/go1.16.7.linux-amd64.tar.gz\n/home/hhb/.local/share/kite/kite-v2.20210128.0/lib/libtensorflow.so.1.15.0\n/home/hhb/.local/share/kite/kite-v2.20210128.0/kited\n/home/hhb/.local/share/kite/kite-v2.20210128.0/linux-unpacked/kite\n\n\nlocate # \u5728\u6587\u4ef6\u8d44\u6599\u5e93\u4e2d\u641c\u7d22\u6587\u4ef6\uff0c\u6587\u4ef6\u8d44\u6599\u5e93\u5b9a\u671f\u66f4\u65b0\uff0c\u67e5\u627e\u901f\u5ea6\u5f88\u5feb\uff08/tmp \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u4e0d\u5728 locate \u67e5\u627e\u8303\u56f4\u5185\uff0c\u6240\u6709\u65e0\u6cd5\u901a\u8fc7 locate \u67e5\u627e\u5230\uff09\nupdatedb # \u66f4\u65b0\u6587\u4ef6\u8d44\u6599\u5e93\uff08\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u540e\uff0c\u9700\u8981\u6267\u884c\u8be5\u547d\u4ee4\u6765\u66f4\u65b0\u6587\u4ef6\u8d44\u6599\u5e93\uff0c\u624d\u80fd\u901a\u8fc7 locate \u67e5\u627e\u5230\uff09\n\n\nlocate test.txt    # \u67e5\u627etest.txt\u6587\u4ef6\nlocate -i test.txt # \u5ffd\u7565\u5927\u5c0f\u5199\u67e5\u627e\n\nwhich   # \u641c\u7d22\u547d\u4ee4\u6240\u5728\u76ee\u5f55\u53ca\u522b\u540d\u4fe1\u606f\nwhereis # \u641c\u7d22\u547d\u4ee4\u6240\u5728\u76ee\u5f55\u53ca\u5e2e\u52a9\u6587\u6863\u8def\u5f84\n</code></pre>"},{"location":"full-stack/coding/linux/#cp","title":"cp","text":"<pre><code>\u279c which cp\n/usr/bin/cp\n\n\u279c whereis cp   \ncp: /usr/bin/cp /mnt/d/Software/Dev/Git/usr/bin/cp.exe /usr/share/man/man1/cp.1.gz\n</code></pre>"},{"location":"full-stack/coding/linux/#grep","title":"grep","text":"<pre><code>grep -iv [\u6307\u5b9a\u5b57\u7b26\u4e32] [\u6587\u4ef6\u8def\u5f84] # \u5728\u6587\u4ef6\u4e2d\u641c\u7d22\u5b57\u7b26\u4e32\u5339\u914d\u7684\u884c\u5e76\u8f93\u51fa\ngrep -i                        # \u4e0d\u533a\u5206\u5927\u5c0f\u5199\ngrep -v                        # \u6392\u9664\u6307\u5b9a\u5b57\u7b26\u4e32\n\n\u279c grep hello test.txt\nhello vim\n</code></pre>"},{"location":"full-stack/coding/linux/#ping","title":"ping","text":"<pre><code>\u279c ping www.baidu.com    \nPING www.a.shifen.com (180.101.49.11) 56(84) bytes of data.\n64 bytes from 180.101.49.11 (180.101.49.11): icmp_seq=1 ttl=50 time=32.0 ms\n64 bytes from 180.101.49.11 (180.101.49.11): icmp_seq=2 ttl=50 time=34.1 ms\n64 bytes from 180.101.49.11 (180.101.49.11): icmp_seq=3 ttl=50 time=37.1 ms\n64 bytes from 180.101.49.11 (180.101.49.11): icmp_seq=4 ttl=50 time=28.7 ms\n\n\nping -c 3 www.baidu.com    # \u6307\u5b9aping\u6b21\u6570\n\n\u279c  learning ping -c 3 www.baidu.com\nPING www.a.shifen.com (180.101.49.11) 56(84) bytes of data.\n64 bytes from 180.101.49.11 (180.101.49.11): icmp_seq=1 ttl=50 time=12.9 ms\n64 bytes from 180.101.49.11 (180.101.49.11): icmp_seq=2 ttl=50 time=24.8 ms\n64 bytes from 180.101.49.11 (180.101.49.11): icmp_seq=3 ttl=50 time=14.9 ms\n\n--- www.a.shifen.com ping statistics ---\n3 packets transmitted, 3 received, 0% packet loss, time 2064ms\nrtt min/avg/max/mdev = 12.932/17.535/24.783/5.186 ms\n</code></pre> <p>NOTE:</p> <p>\u4e22\u5305\u7387\uff080% packet loss\uff09\uff0c\u4e22\u5305\u7387\u8d8a\u9ad8\uff0c\u8868\u793a\u7f51\u7edc\u73af\u5883\u8d8a\u5dee</p> <p></p>"},{"location":"full-stack/coding/linux/#ifconfig","title":"ifconfig","text":"<pre><code>\u279c ifconfig\n\neth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500\n        inet 172.17.174.199  netmask 255.255.240.0  broadcast 172.17.175.255\n        inet6 fe80::215:5dff:fe7e:6a0  prefixlen 64  scopeid 0x20&lt;link&gt;\n        ether 00:15:5d:7e:06:a0  txqueuelen 1000  (Ethernet)\n        RX packets 23229  bytes 6617537 (6.6 MB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 17111  bytes 6637700 (6.6 MB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nlo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;\n        loop  txqueuelen 1000  (Local Loopback)\n        RX packets 81431  bytes 91608162 (91.6 MB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 81431  bytes 91608162 (91.6 MB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\n\n\nlast           # \u5217\u51fa\u76ee\u524d\u4e0e\u8fc7\u53bb\u767b\u5165\u7cfb\u7edf\u7684\u7528\u6237\u767b\u5f55\u65f6\u95f4\u4fe1\u606f\nlastlog        # \u5217\u51fa\u6700\u540e\u767b\u5f55\u7528\u6237\u4fe1\u606f\nlastlog -u 123 # \u5217\u51fa\u6307\u5b9a\u7528\u6237uid\u7684\u6700\u540e\u767b\u5f55\u4fe1\u606f\n\n\ntraceroute www.baidu.com # \u663e\u793a\u6570\u636e\u5305\u5230\u4e3b\u673a\u95f4\u7684\u8def\u5f84\uff0c\u7528\u4e8e\u8ddf\u8e2a\u8def\u7531\u4fe1\u606f\n\n\nnetstat                   # \u663e\u793a\u7f51\u7edc\u76f8\u5173\u4fe1\u606f\nnetstat -tlunp | grep 80  # \u67e5\u770b\u672c\u673a\u76d1\u542c\u7684\u7aef\u53e3\nnetstat -an               # \u67e5\u770b\u672c\u673a\u7684\u6240\u6709\u7f51\u7edc\u8fde\u63a5\nnetstat -rn               # \u67e5\u770b\u672c\u673a\u8def\u7531\u8868\n</code></pre>"},{"location":"full-stack/coding/linux/#crontab","title":"crontab","text":"<pre><code>*   *\u3000 *\u3000 *\u3000 *\u3000\u3000command\n\u5206\u3000\u65f6\u3000\u65e5\u3000\u6708\u3000\u5468\u3000 \u547d\u4ee4\n\n\u7b2c1\u5217\u8868\u793a\u5206\u949f1\uff5e59 \u6bcf\u5206\u949f\u7528*\u6216\u8005 */1\u8868\u793a\n\u7b2c2\u5217\u8868\u793a\u5c0f\u65f61\uff5e23\uff080\u8868\u793a0\u70b9\uff09\n\u7b2c3\u5217\u8868\u793a\u65e5\u671f1\uff5e31\n\u7b2c4\u5217\u8868\u793a\u6708\u4efd1\uff5e12\n\u7b2c5\u5217\u6807\u8bc6\u53f7\u661f\u671f0\uff5e6\uff080\u8868\u793a\u661f\u671f\u5929\uff09\n\u7b2c6\u5217\u8981\u8fd0\u884c\u7684\u547d\u4ee4\n\n\n\nDEMO:\n30 21 * * * /usr/local/etc/rc.d/lighttpd restart           # \u6bcf\u665a\u768421:30\u91cd\u542fapache\u3002\n45 4 1,10,22 * * /usr/local/etc/rc.d/lighttpd restart      # \u6bcf\u67081\u300110\u300122\u65e5\u76844 : 45\u91cd\u542fapache\u3002\n10 1 * * 6,0 /usr/local/etc/rc.d/lighttpd restart          # \u6bcf\u5468\u516d\u3001\u5468\u65e5\u76841 : 10\u91cd\u542fapache\n0,30 18-23 * * * /usr/local/etc/rc.d/lighttpd restart      # \u6bcf\u592918 : 00\u81f323 : 00\u4e4b\u95f4\u6bcf\u969430\u5206\u949f\u91cd\u542fapache\u3002\n0 23 * * 6 /usr/local/etc/rc.d/lighttpd restart            # \u6bcf\u661f\u671f\u516d\u768411 : 00 pm\u91cd\u542fapache\u3002\n* */1 * * * /usr/local/etc/rc.d/lighttpd restart           # \u6bcf\u4e00\u5c0f\u65f6\u91cd\u542fapache\n* 23-7/1 * * * /usr/local/etc/rc.d/lighttpd restart        # \u665a\u4e0a11\u70b9\u5230\u65e9\u4e0a7\u70b9\u4e4b\u95f4\uff0c\u6bcf\u9694\u4e00\u5c0f\u65f6\u91cd\u542fapache\n0 11 4 * mon-wed /usr/local/etc/rc.d/lighttpd restart      # \u6bcf\u6708\u76844\u53f7\u4e0e\u6bcf\u5468\u4e00\u5230\u5468\u4e09\u768411\u70b9\u91cd\u542fapache\n0 4 1 jan * /usr/local/etc/rc.d/lighttpd restart           # \u4e00\u6708\u4e00\u53f7\u76844\u70b9\u91cd\u542fapache\n*/30 * * * * /usr/sbin/ntpdate 210.72.145.44               # \u6bcf\u534a\u5c0f\u65f6\u540c\u6b65\u4e00\u4e0b\u65f6\u95f4\n</code></pre>"},{"location":"full-stack/coding/linux/#_11","title":"\u538b\u6d4b\u5e38\u7528\u547d\u4ee4","text":"\u547d\u4ee4 \u4f7f\u7528\u573a\u666f top \u67e5\u770b\u670d\u52a1\u5668\u8d44\u6e90\u5360\u7528 cat /proc/meminfo \u67e5\u770b\u5185\u5b58\u4fe1\u606f cat /proc/cpuinfo | grep \"physical id\" | sort | uniq | wc -l \u67e5\u770bCPU\u4e2a\u6570 cat /proc/cpuinfo | grep \"cpu cores\" | uniq \u67e5\u770b\u5355\u4e2acpu\u7684\u7269\u7406\u6838\u6570 cat /proc/cpuinfo | grep \"processor\" | wc -l \u67e5\u770b\u603b\u903b\u8f91\u6838\u6570"},{"location":"full-stack/coding/linux/#_12","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code>halt               # \u5173\u95ed\u7cfb\u7edf\uff0c\u7b49\u540c\u4e8e shutdown -h now \u548c poweroff\nshutdown           # \u5173\u673a\nshutdown -h 10     # 10\u5206\u949f\u540e\u5173\u673a\nshutdown -h now    # \u73b0\u5728\u5173\u673a\nshutdown -h 20:25  # \u7cfb\u7edf\u4f1a\u5728 20:25 \u5173\u673a\nshutdown -h +10    # 10\u5206\u949f\u540e\u5173\u673a\n\nreboot             # \u91cd\u542f\nshutdown -r now    # \u7acb\u9a6c\u91cd\u542f\nshutdown -r +10    # 10\u5206\u949f\u540e\u91cd\u542f\n\nps -aux | grep redis\n\nkill -9 {pid}\n\nnetstat -tunlp | grep 80\n\nfind . -name test.txt -exec ls -l {} \\;\n\nps -aux | grep firefox | awk '{print $2}' | xargs kill -9\n\nkillall firefox\n\n# \u5168\u5c40\u66ff\u6362\u6587\u4ef6\u5185\u7684\u5b57\u7b26\u4e32\nsed -i \"/s/{search_string}/{replace_string}/g\" test.txt\n</code></pre>"},{"location":"full-stack/coding/linux/#_13","title":"\u62d3\u5c55\u9605\u8bfb","text":"<ul> <li>crontab \u8be6\u89e3</li> </ul>"},{"location":"full-stack/coding/mysql/","title":"mysql","text":""},{"location":"full-stack/coding/mysql/#_1","title":"\u5b89\u88c5","text":"<pre><code>sudo apt-get install mysql-server\n\nsudo service mysql start\n</code></pre> <p>NOTE:</p> <p>ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2) https://blog.csdn.net/weixin_39345384/article/details/80855359</p> <p></p>"},{"location":"full-stack/coding/mysql/#_2","title":"\u767b\u5f55 &amp; \u9000\u51fa","text":"<pre><code>-- \u767b\u5f55\nmysql -uroot -p123456\n\n-- \u9000\u51fa\u6570\u636e\u5e93\u670d\u52a1\u5668\nmysql&gt; exit;\nBye\n</code></pre>"},{"location":"full-stack/coding/mysql/#_3","title":"\u6570\u636e\u5e93\u64cd\u4f5c","text":"<pre><code>-- \u67e5\u8be2\u6570\u636e\u5e93\u670d\u52a1\u5668\u4e2d\u6240\u6709\u7684\u6570\u636e\u5e93\nmysql&gt; show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n\n\n-- \u521b\u5efa\u6570\u636e\u5e93 hhbdb\nmysql&gt; create database hhbdb;\nQuery OK, 1 row affected (0.03 sec)\n\n\n-- \u4f7f\u7528\u67d0\u4e2a\u6570\u636e\u5e93\nmysql&gt; use hhbdb;\nDatabase changed\n</code></pre>"},{"location":"full-stack/coding/mysql/#_4","title":"\u6570\u636e\u7c7b\u578b","text":"<pre><code>\u6570\u503c\uff1a\n    tinyint     - 1\u4e2a\u5b57\u8282\n    smallint    - 2\u4e2a\u5b57\u8282\n    mediumint   - 3\u4e2a\u5b57\u8282\n    int/integer - 4\u4e2a\u5b57\u8282\n    bigint      - 8\u4e2a\u5b57\u8282\n    float       - 4\u4e2a\u5b57\u8282\n    double      - 8\u4e2a\u5b57\u8282\n    decimal     - \n\n\u65f6\u95f4\uff1a\n    date\n    time\n    year\n    datetime\n    timestamp\n\n\u5b57\u7b26\u4e32\uff1a\n    \u7c7b\u578b      \u5927\u5c0f                   \u7528\u9014\n    CHAR        0-255 bytes             \u5b9a\u957f\u5b57\u7b26\u4e32\n    VARCHAR     0-65535 bytes           \u53d8\u957f\u5b57\u7b26\u4e32\n    TINYBLOB    0-255 bytes             \u4e0d\u8d85\u8fc7 255 \u4e2a\u5b57\u7b26\u7684\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\n    TINYTEXT    0-255 bytes             \u77ed\u6587\u672c\u5b57\u7b26\u4e32\n    BLOB        0-65 535 bytes          \u4e8c\u8fdb\u5236\u5f62\u5f0f\u7684\u957f\u6587\u672c\u6570\u636e\n    TEXT        0-65 535 bytes          \u957f\u6587\u672c\u6570\u636e\n    MEDIUMBLOB  0-16 777 215 bytes      \u4e8c\u8fdb\u5236\u5f62\u5f0f\u7684\u4e2d\u7b49\u957f\u5ea6\u6587\u672c\u6570\u636e\n    MEDIUMTEXT  0-16 777 215 bytes      \u4e2d\u7b49\u957f\u5ea6\u6587\u672c\u6570\u636e\n    LONGBLOB    0-4 294 967 295 bytes   \u4e8c\u8fdb\u5236\u5f62\u5f0f\u7684\u6781\u5927\u6587\u672c\u6570\u636e\n    LONGTEXT    0-4 294 967 295 bytes   \u6781\u5927\u6587\u672c\u6570\u636e\n</code></pre>"},{"location":"full-stack/coding/mysql/#_5","title":"\u6570\u636e\u8868\u64cd\u4f5c","text":"<pre><code>-- \u521b\u5efa\u6570\u636e\u8868\nmysql&gt; create table pet (name varchar(20), owner varchar(20), species varchar(20), sex char(1), birth date, death date);\nQuery OK, 0 rows affected (0.19 sec)\n\n\n-- \u67e5\u770b\u67d0\u4e2a\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u8868\nmysql&gt; show tables;\n+-----------------+\n| Tables_in_hhbdb |\n+-----------------+\n| pet             |\n+-----------------+\n\n\n-- \u67e5\u770b\u6570\u636e\u8868\u7684\u8868\u7ed3\u6784\n\n-- \u65b9\u5f0f\u4e00(describe \u548c desc \u7b49\u6548)\n\nmysql&gt; describe pet;\n+---------+-------------+------+-----+---------+-------+\n| Field   | Type        | Null | Key | Default | Extra |\n+---------+-------------+------+-----+---------+-------+\n| name    | varchar(20) | YES  |     | NULL    |       |\n| owner   | varchar(20) | YES  |     | NULL    |       |\n| species | varchar(20) | YES  |     | NULL    |       |\n| sex     | char(1)     | YES  |     | NULL    |       |\n| birth   | date        | YES  |     | NULL    |       |\n| death   | date        | YES  |     | NULL    |       |\n+---------+-------------+------+-----+---------+-------+\n\n\n-- \u65b9\u5f0f\u4e8c\nmysql&gt; show columns from pet;\n+---------+-------------+------+-----+---------+-------+\n| Field   | Type        | Null | Key | Default | Extra |\n+---------+-------------+------+-----+---------+-------+\n| name    | varchar(20) | YES  |     | NULL    |       |\n| owner   | varchar(20) | YES  |     | NULL    |       |\n| species | varchar(20) | YES  |     | NULL    |       |\n| sex     | char(1)     | YES  |     | NULL    |       |\n| birth   | date        | YES  |     | NULL    |       |\n| death   | date        | YES  |     | NULL    |       |\n+---------+-------------+------+-----+---------+-------+\n\n\n\n-- \u5f80\u6570\u636e\u8868\u4e2d\u63d2\u5165\u5355\u884c\u6570\u636e\u8bb0\u5f55\nmysql&gt; insert into pet values (\"Puffball\", \"Diane\", \"hamster\",\"f\",\"2022-02-14\", NULL);\nQuery OK, 1 row affected (0.06 sec)\n\n-- \u5f80\u6570\u636e\u8868\u4e2d\u63d2\u5165\u591a\u884c\u6570\u636e\u8bb0\u5f55\nmysql&gt; insert into pet values (\"\u65fa\u8d22\", \"\u5468\u661f\u9a70\", \"\u72d7\", \"\u516c\", \"2022-02-15\", NULL), (\"\u54ee\u5929\u72ac\", \"\u4e8c\u90ce\u795e\", \"\u72d7\", \"\u516c\", \"2022-02-15\", NULL);\nQuery OK, 2 rows affected (0.02 sec)\nRecords: 2  Duplicates: 0  Warnings: 0\n\n-- \u6307\u5b9a\u5b57\u6bb5\u987a\u5e8f\u63d2\u5165\nmysql&gt; insert into pet (name, owner, species, sex, birth, death) values (\"\u65fa\u8d22\", \"\u5468\u661f\u9a70\", \"\u72d7\", \"\u516c\", \"2022-02-15\", NULL), (\"\u54ee\u5929\u72ac\", \"\u4e8c\u90ce\u795e\", \"\u72d7\", \"\u516c\", \"2022-02-15\", NULL);\n\n\n-- \u67e5\u770b\u67d0\u4e2a\u8868\u4e2d\u7684\u6240\u6709\u6570\u636e\u8bb0\u5f55\nmysql&gt; select * from pet;\n+-----------+-----------+---------+------+------------+-------+\n| name      | owner     | species | sex  | birth      | death |\n+-----------+-----------+---------+------+------------+-------+\n| Puffball  | Diane     | hamster | f    | 2022-02-14 | NULL  |\n| \u65fa\u8d22      | \u5468\u661f\u9a70    | \u72d7      | \u516c   | 2022-02-15 | NULL  |\n| \u54ee\u5929\u72ac    | \u4e8c\u90ce\u795e    | \u72d7      | \u516c   | 2022-02-15 | NULL  |\n+-----------+-----------+---------+------+------------+-------+\n\n\n\n-- \u6761\u4ef6\u67e5\u8be2\nmysql&gt; select * from pet where owner = \"Diane\";\n+----------+-------+---------+------+------------+-------+\n| name     | owner | species | sex  | birth      | death |\n+----------+-------+---------+------+------------+-------+\n| Puffball | Diane | hamster | f    | 2022-02-14 | NULL  |\n+----------+-------+---------+------+------------+-------+\n\n\n-- \u5220\u9664\u6570\u636e\nmysql&gt; delete from pet where owner = \"Diane\";\nQuery OK, 1 row affected (0.02 sec)\n\n\n-- \u6e05\u7a7a\u8868\u6570\u636e\ntruncate table pet;\n\n\u6ce8\u610f\uff1a\n    - \u4e0d\u80fd\u4e0ewhere\u4e00\u8d77\u4f7f\u7528\u3002\n    - truncate\u5220\u9664\u6570\u636e\u540e\u662f\u4e0d\u53ef\u4ee5rollback\u7684\u3002\n    - truncate\u5220\u9664\u6570\u636e\u540e\u4f1a\u91cd\u7f6eIdentity\uff08\u6807\u8bc6\u5217\u3001\u81ea\u589e\u5b57\u6bb5\uff09\uff0c\u76f8\u5f53\u4e8e\u81ea\u589e\u5217\u4f1a\u88ab\u7f6e\u4e3a\u521d\u59cb\u503c\uff0c\u53c8\u91cd\u65b0\u4ece1\u5f00\u59cb\u8bb0\u5f55\uff0c\u800c\u4e0d\u662f\u63a5\u7740\u539f\u6765\u7684ID\u6570\n    - truncate\u5220\u9664\u6570\u636e\u540e\u4e0d\u5199\u670d\u52a1\u5668log\uff0c\u6574\u4f53\u5220\u9664\u901f\u5ea6\u5feb\n    - truncate\u5220\u9664\u6570\u636e\u540e\u4e0d\u6fc0\u6d3btrigger(\u89e6\u53d1\u5668)\n\n\n-- \u5220\u9664\u8868\nmysql&gt; drop table myorder1;\nQuery OK, 0 rows affected (0.03 sec)\n\n\n-- \u66f4\u65b0\u6570\u636e\nmysql&gt; update pet set name = \"\u65fa\u8d22update\" where name = \"\u65fa\u8d22\";\nQuery OK, 1 row affected (0.02 sec)\n</code></pre>"},{"location":"full-stack/coding/mysql/#mysql_1","title":"mysql \u7ea6\u675f","text":"<pre><code>-- \u4e3b\u952e\u7ea6\u675f(primary key): \u552f\u4e00\u786e\u5b9a\u4e00\u5f20\u8868\u4e2d\u7684\u4e00\u6761\u8bb0\u5f55\uff0c\u4e3b\u952e\u7ea6\u675f\u5b57\u6bb5\u4e0d\u91cd\u590d\u4e14\u4e0d\u4e3a\u7a7a\n\nmysql&gt; create table user(id int primary key, name varchar(20));\nQuery OK, 0 rows affected (0.09 sec)\n\nmysql&gt; describe user;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | NO   | PRI | NULL    |       |\n| name  | varchar(20) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n\n\nmysql&gt; insert into user (id, name) values (1, \"\u5f20\u4e09\"), (2, \"\u674e\u56db\"), (3, \"\u738b\u4e94\");\nQuery OK, 3 rows affected (0.01 sec)\n\n-- \u4e3b\u952e\u4e0d\u5141\u8bb8\u91cd\u590d\nmysql&gt; insert into user (id, name) values (1, \"\u5f20\u4e09\");\nERROR 1062 (23000): Duplicate entry '1' for key 'user.PRIMARY'\n\n\n-- \u4e3b\u952e\u4e0d\u5141\u8bb8\u4e3a\u7a7a\nmysql&gt; insert into user (id, name) values (NULL, \"\u5f20\u4e09\");\nERROR 1048 (23000): Column 'id' cannot be null\n\n\n-- \u8054\u5408\u4e3b\u952e\uff1a\u591a\u4e2a\u4e3b\u952e\u7ec4\u5408\u8d77\u6765\u4e0d\u91cd\u590d\u5373\u53ef\u63d2\u5165\u6210\u529f\nmysql&gt; create table student (id int, name varchar(20), primary key(id, name));\nQuery OK, 0 rows affected (0.09 sec)\n\nmysql&gt; describe student;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | NO   | PRI | NULL    |       |\n| name  | varchar(20) | NO   | PRI | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n\nmysql&gt; insert into student values (1, \"\u5f20\u4e09\");\nQuery OK, 1 row affected (0.02 sec)\n\nmysql&gt; insert into student values (1, \"\u5f20\u4e09\");\nERROR 1062 (23000): Duplicate entry '1-\u5f20\u4e09' for key 'student.PRIMARY'\nmysql&gt; insert into student values (2, \"\u5f20\u4e09\");\nQuery OK, 1 row affected (0.02 sec)\n\n\n-- \u4fee\u6539\u8868\u540d\nmysql&gt; alter table student rename user2;\nQuery OK, 0 rows affected (0.07 sec)\n\n\n-- \u81ea\u589e\u7ea6\u675f(auto_increment)\n\nmysql&gt; create table user3 (id int primary key auto_increment, name varchar(20));\nQuery OK, 0 rows affected (0.09 sec)\n\nmysql&gt; insert into user3 (name) values (\"\u5f20\u4e09\");\nQuery OK, 1 row affected (0.03 sec)\n\nmysql&gt; select * from user3;\n+----+--------+\n| id | name   |\n+----+--------+\n|  1 | \u5f20\u4e09   |\n+----+--------+\n1 row in set (0.00 sec)\n\n\n-- \u7ed9\u67d0\u4e2a\u5b57\u6bb5\u6dfb\u52a0\u4e3b\u952e\u7ea6\u675f\n\nmysql&gt; create table user4 (id int, name varchar(20));\nQuery OK, 0 rows affected (0.07 sec)\n\nmysql&gt; describe user4;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n2 rows in set (0.01 sec)\n\nmysql&gt; alter table user4 add primary key(id);\nQuery OK, 0 rows affected (0.15 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; describe user4;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | NO   | PRI | NULL    |       |\n| name  | varchar(20) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n2 rows in set (0.01 sec)\n\n\n-- \u5220\u9664\u4e3b\u952e\u7ea6\u675f(drop primary key)\n\nmysql&gt; alter table user4 drop primary key;\nQuery OK, 0 rows affected (0.14 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; describe user4;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | NO   |     | NULL    |       |\n| name  | varchar(20) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n\n\n-- \u4fee\u6539\u5b57\u6bb5\u5c5e\u6027(modify)\n\nmysql&gt; alter table user4 modify id int primary key;\nQuery OK, 0 rows affected (0.11 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; describe user4;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | NO   | PRI | NULL    |       |\n| name  | varchar(20) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n2 rows in set (0.00 sec)\n\n\n-- \u552f\u4e00\u7ea6\u675f(unique)\uff1a\u7ea6\u675f\u4fee\u9970\u7684\u5b57\u6bb5\u4e0d\u5141\u8bb8\u91cd\u590d\n\n-- \u65b9\u5f0f\u4e00\uff1a\nmysql&gt; create table user5 (id int, name varchar(20));\nQuery OK, 0 rows affected (0.07 sec)\n\nmysql&gt; alter table user5 add unique(name);\nQuery OK, 0 rows affected (0.07 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\n\nmysql&gt; describe user5;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | YES  | UNI | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n2 rows in set (0.00 sec)\n\nmysql&gt; insert into user5 values (1, \"\u5f20\u4e09\");\nQuery OK, 1 row affected (0.01 sec)\n\nmysql&gt; insert into user5 values (2, \"\u5f20\u4e09\");\nERROR 1062 (23000): Duplicate entry '\u5f20\u4e09' for key 'user5.name'\n\n-- \u65b9\u5f0f\u4e8c\uff1a\nmysql&gt; create table user6 (id int, name varchar(20), unique(name));\nQuery OK, 0 rows affected (0.08 sec)\n\nmysql&gt; describe user6;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | YES  | UNI | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n2 rows in set (0.01 sec)\n\n-- \u65b9\u5f0f\u4e09\uff1a\nmysql&gt; create table user7 (id int, name varchar(20) unique);\nQuery OK, 0 rows affected (0.08 sec)\n\nmysql&gt; desc user7;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | YES  | UNI | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n\n\n-- \u8054\u5408\u552f\u4e00\u7ea6\u675f\uff1a\u591a\u4e2a\u88ab\u4fee\u9970\u7684\u5b57\u6bb5\u7ec4\u5408\u8d77\u6765\u4e0d\u91cd\u590d\u5373\u53ef\u63d2\u5165\u6210\u529f\nmysql&gt; create table user8 (id int, name varchar(20), unique(id, name));\nQuery OK, 0 rows affected (0.07 sec)\n\nmysql&gt; insert into user8 values (1, \"\u5f20\u4e09\");\nQuery OK, 1 row affected (0.01 sec)\n\nmysql&gt; insert into user8 values (1, \"\u5f20\u4e09\");\nERROR 1062 (23000): Duplicate entry '1-\u5f20\u4e09' for key 'user8.id'\nmysql&gt; insert into user8 values (2, \"\u5f20\u4e09\");\nQuery OK, 1 row affected (0.02 sec)\n\nmysql&gt; select * from user8;\n+------+--------+\n| id   | name   |\n+------+--------+\n|    1 | \u5f20\u4e09   |\n|    2 | \u5f20\u4e09   |\n+------+--------+\n\n\n-- \u5220\u9664\u552f\u4e00\u7ea6\u675f\n\nmysql&gt; desc user7;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | YES  | UNI | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n2 rows in set (0.00 sec)\n\nmysql&gt; alter table user7 drop index name;\nQuery OK, 0 rows affected (0.06 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; desc user7;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n\n\n\n-- \u4fee\u6539\u5b57\u6bb5\u7684\u552f\u4e00\u5c5e\u6027\n\nmysql&gt; alter table user7 modify name varchar(20) unique;\nQuery OK, 0 rows affected (0.05 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; desc user7;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | YES  | UNI | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n\n\n-- \u975e\u7a7a\u7ea6\u675f(not null)\n\nmysql&gt; create table user9 (id int, name varchar(20) not null);\nQuery OK, 0 rows affected (0.08 sec)\n\nmysql&gt; desc user9;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | NO   |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n\nmysql&gt; insert into user9 values (1);\n\n\n-- \u4fee\u6539\u5b57\u6bb5\u5c5e\u6027 - \u79fb\u9664\u975e\u7a7a\u7ea6\u675f\n\nmysql&gt; alter table user9 modify name varchar(20);\nQuery OK, 0 rows affected (0.13 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; desc user9;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n\n\n-- \u4fee\u6539\u5b57\u6bb5\u5c5e\u6027 - \u65b0\u589e\u975e\u7a7a\u7ea6\u675f\nmysql&gt; alter table user9 modify name varchar(20) not null;\nQuery OK, 0 rows affected (0.10 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; desc user9;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | NO   |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n\n\n-- \u9ed8\u8ba4\u7ea6\u675f(default)\uff1a\u63d2\u5165\u6570\u636e\u65f6\u6ca1\u4f20\u503c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c\n\nmysql&gt; create table user10 (id int, name varchar(20), age int default 18);\nQuery OK, 0 rows affected (0.07 sec)\n\nmysql&gt; desc user10;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int         | YES  |     | NULL    |       |\n| name  | varchar(20) | YES  |     | NULL    |       |\n| age   | int         | YES  |     | 18      |       |\n+-------+-------------+------+-----+---------+-------+\n\n\nmysql&gt; insert into user10 (id,name) values (1, \"\u5f20\u4e09\");\nQuery OK, 1 row affected (0.02 sec)\n\nmysql&gt; select * from user10;\n+------+--------+------+\n| id   | name   | age  |\n+------+--------+------+\n|    1 | \u5f20\u4e09   |   18 |\n+------+--------+------+\n\n\n-- \u5916\u952e\u7ea6\u675f(foreign key)\uff1a\u6d89\u53ca\u591a\u4e2a\u8868(\u7236\u8868-\u5b50\u8868\uff0c\u4e3b\u8868-\u526f\u8868)\n\n-- \u73ed\u7ea7\u8868\nmysql&gt; create table class(id int primary key, name varchar(20));\nQuery OK, 0 rows affected (0.07 sec)\n\ninsert into class values (1, \"\u4e09\u5e74\u7ea7\u4e00\u73ed\"), (2, \"\u4e09\u5e74\u7ea7\u4e8c\u73ed\"), (3, \"\u4e09\u5e74\u7ea7\u4e09\u73ed\");\n\nmysql&gt; select * from class;\n+----+-----------------+\n| id | name            |\n+----+-----------------+\n|  1 | \u4e09\u5e74\u7ea7\u4e00\u73ed      |\n|  2 | \u4e09\u5e74\u7ea7\u4e8c\u73ed      |\n|  3 | \u4e09\u5e74\u7ea7\u4e09\u73ed      |\n+----+-----------------+\n\n-- \u5b66\u751f\u8868\nmysql&gt; create table student(id int primary key, name varchar(20), class_id int, foreign key(class_id) references class(id));\nQuery OK, 0 rows affected (0.11 sec)\n\n\nmysql&gt; insert into student values (1, \"\u5f20\u4e09\", 1);\nQuery OK, 1 row affected (0.01 sec)\n\n\n-- \u4e3b\u8868\u4e2d\u6ca1\u6709\u7684\u6570\u636e\uff0c\u5728\u526f\u8868\u4e2d\u4e0d\u53ef\u7528\u4f7f\u7528\nmysql&gt; insert into student values (1, \"\u5f20\u4e09\", 9);\nERROR 1062 (23000): Duplicate entry '1' for key 'student.PRIMARY'\n\n\n-- \u4e3b\u8868\u4e2d\u7684\u8bb0\u5f55\u88ab\u526f\u8868\u5f15\u7528\uff0c\u4e0d\u53ef\u7528\u88ab\u5220\u9664\nmysql&gt; delete from class where id = 1;\nERROR 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`hhbdb`.`student`, CONSTRAINT `student_ibfk_1` FOREIGN KEY (`class_id`) REFERENCES `class` (`id`))\n</code></pre>"},{"location":"full-stack/coding/mysql/#_6","title":"\u6570\u636e\u5e93\u8303\u5f0f","text":"<pre><code>-- \u7b2c\u4e00\u8303\u5f0f\uff1a\u6570\u636e\u8868\u4e2d\u7684\u6240\u6709\u5b57\u6bb5\u90fd\u662f\u4e0d\u53ef\u5206\u5272\u7684\u539f\u5b50\u503c\n\nmysql&gt; create table student2 (id int primary key, name varchar(20), address varchar(30));\nQuery OK, 0 rows affected (0.08 sec)\n\nmysql&gt; insert into student2 values (1, \"\u5f20\u4e09\", \"\u4e2d\u56fd\u4e0a\u6d77\u5e02\u95f5\u884c\u533a\u6d66\u6c5f\u9547\u4e09\u8fbe\u8def112\u53f7\"),(2, \"\u674e\u56db\", \"\u4e2d\u56fd\u4e0a\u6d77\u5e02\u95f5\u884c\u533a\u6d66\u6c5f\u9547\u4e09\u8fbe\u8def113\u53f7\"), (3, \"\u738b\u4e94\", \"\u4e2d\u56fd\u4e0a\u6d77\u5e02\u95f5\u884c\u533a\u6d66\u6c5f\u9547\u4e09\u8fbe\u8def114\u53f7\");\nQuery OK, 3 rows affected (0.01 sec)\nRecords: 3  Duplicates: 0  Warnings: 0\n\nmysql&gt; select * from student2;\n+----+--------+--------------------------------------------------+\n| id | name   | address                                          |\n+----+--------+--------------------------------------------------+\n|  1 | \u5f20\u4e09   | \u4e2d\u56fd\u4e0a\u6d77\u5e02\u95f5\u884c\u533a\u6d66\u6c5f\u9547\u4e09\u8fbe\u8def112\u53f7                |\n|  2 | \u674e\u56db   | \u4e2d\u56fd\u4e0a\u6d77\u5e02\u95f5\u884c\u533a\u6d66\u6c5f\u9547\u4e09\u8fbe\u8def113\u53f7                |\n|  3 | \u738b\u4e94   | \u4e2d\u56fd\u4e0a\u6d77\u5e02\u95f5\u884c\u533a\u6d66\u6c5f\u9547\u4e09\u8fbe\u8def114\u53f7                |\n+----+--------+--------------------------------------------------+\n\n\n\u4ee5\u4e0a\u8868\u8bbe\u8ba1\u4e2d\uff0caddress \u5b57\u6bb5\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u62c6\u5206\uff0c\u5c31\u4e0d\u6ee1\u8db3\u7b2c\u4e00\u8303\u5f0f\n\n\u6539\u8fdb\u5982\u4e0b\uff1aaddress =&gt; country, province, city, details\n\n\n\nmysql&gt; create table student3 (id int primary key, name varchar(20), country varchar(20), province varchar(20), city varchar(20), details varchar(30));\n\ninsert into student3 values (1, \"\u5f20\u4e09\", \"\u4e2d\u56fd\", \"\u4e0a\u6d77\u5e02\", \"\u4e0a\u6d77\u5e02\", \"\u95f5\u884c\u533a\u6d66\u6c5f\u9547\u4e09\u8fbe\u8def112\u53f7\");\n\n\nmysql&gt; insert into student3 values (1, \"\u5f20\u4e09\", \"\u4e2d\u56fd\", \"\u4e0a\u6d77\u5e02\", \"\u4e0a\u6d77\u5e02\", \"\u95f5\u884c\u533a\u6d66\u6c5f\u9547\u4e09\u8fbe\u8def112\u53f7\");\nQuery OK, 1 row affected (0.01 sec)\n\nmysql&gt; select * from student3;\n+----+--------+---------+-----------+-----------+-----------------------------------+\n| id | name   | country | province  | city      | details                           |\n+----+--------+---------+-----------+-----------+-----------------------------------+\n|  1 | \u5f20\u4e09   | \u4e2d\u56fd    | \u4e0a\u6d77\u5e02    | \u4e0a\u6d77\u5e02    | \u95f5\u884c\u533a\u6d66\u6c5f\u9547\u4e09\u8fbe\u8def112\u53f7           |\n+----+--------+---------+-----------+-----------+-----------------------------------+\n\n\n-- NOTE\uff1a\u8303\u5f0f\uff0c\u8bbe\u8ba1\u7684\u8d8a\u8be6\u7ec6\uff0c\u5bf9\u4e8e\u6570\u636e\u5206\u6790\u7ef4\u5ea6\u53ef\u80fd\u66f4\u597d\uff0c\u4f46\u8fc7\u4e8e\u8bbe\u8ba1\u4f1a\u5bfc\u81f4\u6570\u636e\u5e93\u8bbe\u8ba1\u7684\u590d\u6742\u5ea6\u589e\u52a0\uff0c\u6709\u53ef\u80fd\u8bbe\u8ba1\u7684\u5b57\u6bb5\u5e76\u4e0d\u4f1a\u4ea7\u751f\u5b9e\u9645\u7528\u9014\uff0c\u9700\u8981\u7ed3\u5408\u5b9e\u9645\u573a\u666f\u6765\u8bbe\u8ba1\uff0c\u907f\u514d\u8fc7\u5ea6\u8bbe\u8ba1\n\n\n-- \u7b2c\u4e8c\u8303\u5f0f\uff1a\u5728\u6ee1\u8db3\u7b2c\u4e00\u8303\u5f0f\u7684\u524d\u63d0\u4e0b\uff0c\u7b2c\u4e8c\u8303\u5f0f\u8981\u6c42\uff0c\u9664\u4e3b\u952e\u5916\u7684\u6bcf\u4e00\u5217\u90fd\u5fc5\u987b\u5b8c\u5168\u4f9d\u8d56\u4e8e\u4e3b\u952e\uff0c\u5982\u679c\u51fa\u73b0\u4e0d\u5b8c\u5168\u4f9d\u8d56\uff0c\u53ea\u53ef\u80fd\u53d1\u751f\u5728\u8054\u5408\u4e3b\u952e\u7684\u60c5\u51b5\u4e0b\n\n-- \u8ba2\u5355\u8868\n\ncreate table myorder1 (product_id int, customer_id int, product_name varchar(20), customer_name varchar(20), primary key(product_id, customer_id));\n\n\n-- \u95ee\u9898\uff1a\u4ee5\u4e0a\u8868\u8bbe\u8ba1\uff0cproduct_name \u53ea\u4e0e product_id \u6709\u5173, customer_name \u53ea\u4e0e customer_id \u6709\u5173\uff0c\u5e76\u4e0d\u6ee1\u8db3\u9664\u4e3b\u952e\u5916\u7684\u6240\u6709\u5217\u90fd\u4f9d\u8d56\u4e8e\u4e3b\u952e\u7684\u7b2c\u4e8c\u8303\u5f0f\u8981\u6c42\n\n-- \u6539\u8fdb\u5982\u4e0b\uff1a\n\n\ncreate table product (id int primary key, name varchar(20));\ncreate table customer (id int primary key, name varchar(20));\ncreate table myorder2 (id int primary key, product_id int, customer_id int);\n\n\n-- \u62c6\u62103\u4e2a\u8868\u540e\uff0c\u5c31\u6ee1\u8db3\u4e86\u7b2c\u4e8c\u8303\u5f0f\n\n\n-- \u7b2c\u4e09\u8303\u5f0f\uff1a\u5728\u6ee1\u8db3\u7b2c\u4e8c\u8303\u5f0f\u524d\u63d0\u4e0b\uff0c\u9664\u5f00\u4e3b\u952e\u5217\u5916\u7684\u5176\u4ed6\u5217\u4e4b\u95f4\u4e0d\u80fd\u6709\u4f20\u9012\u4f9d\u8d56\u5173\u7cfb\n\n-- \u8ba2\u5355\u8868\n\ncreate table myorder3 (id int primary key, product_id int, customer_id int, customer_phone varchar(15));\n\n\n-- \u95ee\u9898\uff1a\u4ee5\u4e0a\u8868\u8bbe\u8ba1\u4e2d\uff0ccustomer_phone \u4f9d\u8d56\u4e8e customer_id \u5b57\u6bb5\uff0ccustomer_id \u5b57\u6bb5\u53c8\u4f9d\u8d56\u4e8e id, \u5b57\u6bb5\u4e4b\u95f4\u5b58\u5728\u5197\u4f59\u5173\u7cfb\uff0c\u4e0d\u6ee1\u8db3\u7b2c\u4e09\u8303\u5f0f\n\n-- \u6539\u8fdb\uff1a\u628a customer_phone \u653e\u5230 customer \u8868\u4e2d\n\ncreate table myorder3 (id int primary key, product_id int, customer_id int);\ncreate table customer (id int primary key, name varchar(20), customer_phone varchar(15));\n</code></pre>"},{"location":"full-stack/coding/mysql/#mysql_2","title":"mysql \u67e5\u8be2","text":"<pre><code>-- \u5b66\u751f\u8868\ncreate table student4 (sno varchar(20) primary key, sname varchar(20) not null, ssex varchar(10) not null, sbirthday datetime, class varchar(20));\ninsert into student4 values (\"001\", \"\u5f20\u4e09\", \"\u7537\", \"1990-01-01\", \"\u4e00\u73ed\"), (\"002\", \"\u674e\u56db\", \"\u5973\", \"1990-02-02\", \"\u4e8c\u73ed\"), (\"003\", \"\u738b\u4e94\", \"\u7537\", \"1990-03-03\", \"\u4e09\u73ed\"), (\"004\", \"\u8d75\u516d\", \"\u5973\", \"1990-04-04\", \"\u56db\u73ed\");\n\n\n-- \u6559\u5e08\u8868\ncreate table teacher (tno varchar(20) primary key, tname varchar(20) not null, tsex varchar(10) not null, tbirthday datetime, prof varchar(20), depart varchar(20));\ninsert into teacher values (\"001\", \"\u5f20\u8001\u5e08\", \"\u7537\", \"1990-01-01\", \"\u6570\u636e\u5e93\", \"\u8ba1\u7b97\u673a\u5b66\u9662\"), (\"002\", \"\u674e\u8001\u5e08\", \"\u5973\", \"1990-02-02\", \"\u6570\u636e\u5e93\", \"\u8ba1\u7b97\u673a\u5b66\u9662\"), (\"003\", \"\u738b\u8001\u5e08\", \"\u7537\", \"1990-03-03\", \"\u6570\u636e\u5e93\", \"\u8ba1\u7b97\u673a\u5b66\u9662\"), (\"004\", \"\u8d75\u8001\u5e08\", \"\u5973\", \"1990-04-04\", \"\u6570\u636e\u5e93\", \"\u8ba1\u7b97\u673a\u5b66\u9662\");\n\n\n-- \u8bfe\u7a0b\u8868\ncreate table course(cno varchar(20) primary key, cname varchar(20) not null, tno varchar(20), foreign key(tno) references teacher(tno));\ninsert into course values (\"001\", \"\u6570\u636e\u5e93\u539f\u7406\", \"001\"), (\"002\", \"\u6570\u636e\u5e93\u8bbe\u8ba1\", \"002\"), (\"003\", \"\u6570\u636e\u5e93\u7cfb\u7edf\", \"003\"), (\"004\", \"\u6570\u636e\u5e93\u7cfb\u7edf\u5b9e\u8df5\", \"004\");\n\n\n-- \u6210\u7ee9\u8868\ncreate table score (sno varchar(20), cno varchar(20) not null, degree decimal, foreign key (sno) references student4(sno), foreign key (cno) references course(cno));\ninsert into score (sno, cno, degree) values (\"001\", \"001\", 95), (\"002\", \"002\", 90), (\"003\", \"003\", 85), (\"004\", \"004\", 80), (\"001\", \"004\", 70);\n\n\n-- \u7b49\u7ea7\u8868\ncreate table grade(low int(3), upper int(3), grade char(1));\ninsert into grade values (0, 59, 'D'), (60, 79, 'C'), (80, 89, 'B'), (90, 100, 'A');\n\n-- \u5220\u9664\u5916\u952e\u7ea6\u675f\nmysql&gt; show create table score;\n+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Table | Create Table                                                                                                                                                                                                                            |\n+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| score | CREATE TABLE `score` (\n  `sno` varchar(20) NOT NULL,\n  `cno` varchar(20) NOT NULL,\n  `degree` decimal(10,0) DEFAULT NULL,\n  PRIMARY KEY (`sno`),\n  KEY `cno` (`cno`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |\n+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n1 row in set (0.00 sec)\n\n\nmysql&gt; alter table score drop foreign key score_ibfk_1;\nQuery OK, 0 rows affected (0.05 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; alter table score drop foreign key score_ibfk_2;\nQuery OK, 0 rows affected (0.04 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\n\n-- \u67e5\u8be2 \u5b66\u751f\u8868 \u6240\u6709\u8bb0\u5f55\nmysql&gt; select * from student4;\n+-----+--------+------+---------------------+--------+\n| sno | sname  | ssex | sbirthday           | class  |\n+-----+--------+------+---------------------+--------+\n| 001 | \u5f20\u4e09   | \u7537   | 1990-01-01 00:00:00 | \u4e00\u73ed   |\n| 002 | \u674e\u56db   | \u5973   | 1990-02-02 00:00:00 | \u4e8c\u73ed   |\n| 003 | \u738b\u4e94   | \u7537   | 1990-03-03 00:00:00 | \u4e09\u73ed   |\n| 004 | \u8d75\u516d   | \u5973   | 1990-04-04 00:00:00 | \u56db\u73ed   |\n+-----+--------+------+---------------------+--------+\n\n\n-- \u67e5\u8be2 \u5b66\u751f\u8868 \u7684 sname, ssex, class \u5217\nmysql&gt; select sname,ssex,class from student4;\n+--------+------+--------+\n| sname  | ssex | class  |\n+--------+------+--------+\n| \u5f20\u4e09   | \u7537   | \u4e00\u73ed   |\n| \u674e\u56db   | \u5973   | \u4e8c\u73ed   |\n| \u738b\u4e94   | \u7537   | \u4e09\u73ed   |\n| \u8d75\u516d   | \u5973   | \u56db\u73ed   |\n+--------+------+--------+\n\n\n-- \u67e5\u8be2 \u5b66\u751f\u8868 \u4e2d class (\u53bb\u91cd)\nmysql&gt; select distinct class from student4;\n+--------+\n| class  |\n+--------+\n| \u4e00\u73ed   |\n| \u4e8c\u73ed   |\n| \u4e09\u73ed   |\n| \u56db\u73ed   |\n+--------+\n\n\n-- \u67e5\u8be2 score \u8868\u4e2d\u6210\u7ee9\u5728 80 - 90\u7684\u8bb0\u5f55\nmysql&gt; select degree from score where degree between 80 and 90;\n+--------+\n| degree |\n+--------+\n|     90 |\n|     85 |\n|     80 |\n+--------+\n\n-- \u65b9\u6cd5\u4e8c\uff1a\u8fd0\u7b97\u7b26\u6bd4\u8f83\nmysql&gt; select degree from score where degree &gt;= 80 and degree &lt;= 90;\n+--------+\n| degree |\n+--------+\n|     90 |\n|     85 |\n|     80 |\n+--------+\n\n\n\n-- \u67e5\u8be2 score \u8868\u4e2d\u6210\u7ee9\u4e3a 90 \u548c 95 \u7684\u6570\u636e\u8bb0\u5f55\nmysql&gt; select degree from score where degree in (90, 95);\n+--------+\n| degree |\n+--------+\n|     95 |\n|     90 |\n+--------+\n\n\n\n-- \u67e5\u8be2 \u5b66\u751f\u8868 \u4e2d\u6027\u522b\u4e3a \u7537 \u6216 \u73ed\u7ea7\u4e3a \u4e8c\u73ed \u7684\u6570\u636e\u8bb0\u5f55\nmysql&gt; select * from student4 where ssex=\"\u7537\" or class=\"\u4e8c\u73ed\";\n+-----+--------+------+---------------------+--------+\n| sno | sname  | ssex | sbirthday           | class  |\n+-----+--------+------+---------------------+--------+\n| 001 | \u5f20\u4e09   | \u7537   | 1990-01-01 00:00:00 | \u4e00\u73ed   |\n| 002 | \u674e\u56db   | \u5973   | 1990-02-02 00:00:00 | \u4e8c\u73ed   |\n| 003 | \u738b\u4e94   | \u7537   | 1990-03-03 00:00:00 | \u4e09\u73ed   |\n+-----+--------+------+---------------------+--------+\n\n\n-- \u67e5\u8be2 \u6210\u7ee9\u8868 \u6309\u5206\u6570\u5347\u5e8f\u6392\u5e8f\uff08\u9ed8\u8ba4\u5347\u5e8f\uff0c\u53ef\u7701\u7565 asc\uff09\nmysql&gt; select * from score order by degree asc;\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 004 | 004 |     80 |\n| 003 | 003 |     85 |\n| 002 | 002 |     90 |\n| 001 | 001 |     95 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2 \u6210\u7ee9\u8868 \u6309\u5206\u6570\u964d\u5e8f\u6392\u5e8f\n\nmysql&gt; select * from score order by degree desc;\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 001 | 001 |     95 |\n| 002 | 002 |     90 |\n| 003 | 003 |     85 |\n| 004 | 004 |     80 |\n+-----+-----+--------+\n\n\n-- \u4ee5 sno \u5347\u5e8f \u4e14 degree \u964d\u5e8f \u67e5\u8be2 \u6210\u7ee9\u8868\nmysql&gt; select * from score order by sno asc, degree desc;\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 001 | 001 |     95 |\n| 002 | 002 |     90 |\n| 003 | 003 |     85 |\n| 004 | 004 |     80 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2 \u4e00\u73ed \u7684\u5b66\u751f\u4eba\u6570\nmysql&gt; select count(*) from student4 where class=\"\u4e00\u73ed\";\n+----------+\n| count(1) |\n+----------+\n|        1 |\n+----------+\n\n-- \u6709\u4e3b\u952e\u6216\u8054\u5408\u4e3b\u952e\u7684\u60c5\u51b5\u4e0b\uff0ccount(*)\u7565\u6bd4count(1)\u5feb\u4e00\u4e9b\u3002 \u6ca1\u6709\u4e3b\u952e\u7684\u60c5\u51b5\u4e0bcount(1)\u6bd4count(*)\u5feb\u4e00\u4e9b\u3002 \n\n\n\n-- \u67e5\u8be2 \u5b66\u751f\u8868 \u4e2d\u5206\u6570\u6700\u9ad8\u7684\u5b66\u751f\u5b66\u53f7\u548c\u8bfe\u7a0b\u53f7 =&gt; \u5b50\u67e5\u8be2\u6216\u6392\u5e8f\n\n-- \u5b50\u67e5\u8be2\nmysql&gt; select sno, cno from score where degree = (select max(degree) from score);\n+-----+-----+\n| sno | cno |\n+-----+-----+\n| 001 | 001 |\n+-----+-----+\n\n-- \u6392\u5e8f(\u6709bug: \u5982\u679c\u6700\u9ad8\u5206\u6709\u591a\u4e2a\u4f1a\u6709\u95ee\u9898\uff0climit \u672a\u77e5)\nmysql&gt; select sno, cno from score order by degree desc limit 1;\n+-----+-----+\n| sno | cno |\n+-----+-----+\n| 001 | 001 |\n+-----+-----+\n\n\n-- \u9650\u5236\u8f93\u51fa\u884c\u6570 limit\n\nLIMIT\u540e\u9762\uff0c\u53ef\u4ee5\u8ddf\u4e24\u4e2a\u53c2\u6570\n\n\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0cOFFSET\uff0c\u53ef\u9009\u53c2\u6570\uff0c\u8868\u793a\u504f\u79fb\u91cf\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u9ed8\u8ba4\u503c\u4e3a0, \u5982\u679c\uff0c\u504f\u79fb\u91cf\u4e3a0\uff0c\u5219\u4ece\u67e5\u8be2\u7ed3\u679c\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\u5f00\u59cb\uff0c\u504f\u79fb\u91cf\u4e3a1\uff0c\u5219\u4ece\u67e5\u8be2\u7ed3\u679c\u4e2d\u7684\u7b2c\u4e8c\u6761\u8bb0\u5f55\u5f00\u59cb\uff0c\u4ee5\u6b64\u7c7b\u63a8(\u7b49\u540c\u4e8e\u7f16\u7a0b\u8bed\u8a00\u91cc\u9762\u7684\u7d22\u5f15\uff0c\u4ece0\u5f00\u59cb)\n\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8bb0\u5f55\u6570\uff0c\u8868\u793a\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\u7684\u6761\u6570\n\n-- \u8f93\u51fa1\u884c\nmysql&gt; select sno, cno from score order by degree desc limit 1;\n+-----+-----+\n| sno | cno |\n+-----+-----+\n| 001 | 001 |\n+-----+-----+\n\n-- \u8f93\u51fa\u7b2c1-3\u884c\nmysql&gt; select sno, cno from score order by degree desc limit 1,3;\n+-----+-----+\n| sno | cno |\n+-----+-----+\n| 002 | 002 |\n| 003 | 003 |\n| 004 | 004 |\n+-----+-----+\n\n\n-- \u67e5\u8be2\u6bcf\u95e8\u8bfe\u7a0b\u7684\u5e73\u5747\u6210\u7ee9\nmysql&gt; select cno,avg(degree) from score group by cno;\n+-----+-------------+\n| cno | avg(degree) |\n+-----+-------------+\n| 001 |     95.0000 |\n| 002 |     90.0000 |\n| 003 |     85.0000 |\n| 004 |     80.0000 |\n+-----+-------------+\n\n\n\n-- \u4fdd\u7559\u6307\u5b9a\u4f4d\u6570\u7684\u5c0f\u6570\n\n-- \u56db\u820d\u4e94\u5165\nmysql&gt; select round(12.34567, 2);\n+--------------------+\n| round(12.34567, 2) |\n+--------------------+\n|              12.35 |\n+--------------------+\n1 row in set (0.01 sec)\n\n-- \u56db\u820d\u4e94\u5165\u5e76\u8fd4\u56de\u5b57\u7b26\u4e32\nmysql&gt; select format(12.34567, 2);\n+---------------------+\n| format(12.34567, 2) |\n+---------------------+\n| 12.35               |\n+---------------------+\n1 row in set (0.01 sec)\n\n-- \u975e\u56db\u820d\u4e94\u5165\u5f3a\u5236\u622a\u53d6\nmysql&gt; select truncate(12.34567, 2);\n+-----------------------+\n| truncate(12.34567, 2) |\n+-----------------------+\n|                 12.34 |\n+-----------------------+\n\n\n-- \u67e5\u8be2 \u6210\u7ee9\u8868 \u4e2d \u81f3\u5c11\u67092\u540d\u5b66\u751f\u9009\u4fee\u5e76\u4ee53\u5f00\u5934\u989d\u8bfe\u7a0b\u7684\u5e73\u5747\u5206\u6570\nmysql&gt; select cno,avg(degree),count(*) from score group by cno having count(cno) &gt;=2 and cno like \"3%\";\n+-----+-------------+----------+\n| cno | avg(degree) | count(*) |\n+-----+-------------+----------+\n| 004 |     75.0000 |        2 |\n+-----+-------------+----------+\n1 row in set (0.05 sec)\n\n\n-- NOTE: \u9047\u5230\u590d\u6742\u67e5\u8be2\u64cd\u4f5c\u65f6\uff0c\u9700\u8981\u5206\u6b65\u5206\u6790\n\n\n-- \u67e5\u8be2\u5206\u6570\u5927\u4e8e70\u4e14\u5c0f\u4e8e90\u7684sno\u5217\nmysql&gt; select distinct(sno) from score where degree &gt; 70 and degree &lt; 90;\n+-----+\n| sno |\n+-----+\n| 001 |\n| 002 |\n| 003 |\n| 004 |\n+-----+\n4 rows in set (0.01 sec)\n\n\n-- NOTE: where degree &gt; 70 and degree &lt; 90 \u548c where degree between 70 and 90 \u662f\u4e0d\u540c\u7684\u67e5\u8be2\uff0cbetween ... and \u662f\u95ed\u533a\u95f4\uff0c\u800c &gt; and &lt; \u662f\u5f00\u533a\u95f4\n\n\n-- \u67e5\u8be2\u6240\u6709\u5b66\u751f\u7684 sname, cno, degree \uff08\u591a\u8868\u67e5\u8be2\uff09\n\n-- \u65b9\u6cd51\uff1a\nmysql&gt; select sname,cno,degree from score inner join student4 on score.sno = student4.sno;\n+--------+-----+--------+\n| sname  | cno | degree |\n+--------+-----+--------+\n| \u5f20\u4e09   | 001 |     95 |\n| \u5f20\u4e09   | 004 |     70 |\n| \u674e\u56db   | 002 |     90 |\n| \u738b\u4e94   | 003 |     85 |\n| \u8d75\u516d   | 004 |     80 |\n+--------+-----+--------+\n\n-- \u65b9\u6cd52\uff1a\nmysql&gt; select sname,cno,degree from score,student4 where score.sno = student4.sno;\n+--------+-----+--------+\n| sname  | cno | degree |\n+--------+-----+--------+\n| \u5f20\u4e09   | 001 |     95 |\n| \u5f20\u4e09   | 004 |     70 |\n| \u674e\u56db   | 002 |     90 |\n| \u738b\u4e94   | 003 |     85 |\n| \u8d75\u516d   | 004 |     80 |\n+--------+-----+--------+\n\n\n-- \u67e5\u8be2\u6240\u6709\u5b66\u751f\u7684 sname, cname, degree\n\nmysql&gt; select sname,cname,degree from score inner join student4 inner join course on score.sno=student4.sno and score.cno=course.cno;\n+--------+-----------------------+--------+\n| sname  | cname                 | degree |\n+--------+-----------------------+--------+\n| \u5f20\u4e09   | \u6570\u636e\u5e93\u539f\u7406            |     95 |\n| \u5f20\u4e09   | \u6570\u636e\u5e93\u7cfb\u7edf\u5b9e\u8df5        |     70 |\n| \u674e\u56db   | \u6570\u636e\u5e93\u8bbe\u8ba1            |     90 |\n| \u738b\u4e94   | \u6570\u636e\u5e93\u7cfb\u7edf            |     85 |\n| \u8d75\u516d   | \u6570\u636e\u5e93\u7cfb\u7edf\u5b9e\u8df5        |     80 |\n+--------+-----------------------+--------+\n\n\n-- \u67e5\u8be2 \u4e00\u73ed \u5b66\u751f\u6bcf\u95e8\u8bfe\u7684\u5e73\u5747\u5206\nmysql&gt; select avg(degree),cname,class from score inner join student4 inner join course on score.sno=student4.sno and score.cno=course.cno where class=\"\u4e00\u73ed\" group by cname;\n+-------------+-----------------------+--------+\n| avg(degree) | cname                 | class  |\n+-------------+-----------------------+--------+\n|     95.0000 | \u6570\u636e\u5e93\u539f\u7406            | \u4e00\u73ed   |\n|     70.0000 | \u6570\u636e\u5e93\u7cfb\u7edf\u5b9e\u8df5        | \u4e00\u73ed   |\n+-------------+-----------------------+--------+\n\n\n-- \u67e5\u8be2\u9009\u4fee 004 \u8bfe\u7a0b\u7684\u6210\u7ee9\u9ad8\u4e8e 001\u53f7 \u540c\u5b66 004 \u8bfe\u7a0b\u6210\u7ee9\u7684\u6240\u6709\u8bb0\u5f55\nmysql&gt; select * from score where degree &gt; (select degree from score where sno=\"001\" and cno=\"004\") and cno=\"004\";\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 004 | 004 |     80 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2\u6210\u7ee9\u9ad8\u4e8e\u5b66\u53f7\u4e3a 001 \u53f7\uff0c\u8bfe\u7a0b\u53f7\u4e3a 004 \u7684\u5b66\u751f\u7684\u6210\u7ee9\u7684\u6240\u6709\u8bb0\u5f55\nmysql&gt; select * from score where degree &gt; (select degree from score where sno=\"001\" and cno=\"004\");\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 001 | 001 |     95 |\n| 002 | 002 |     90 |\n| 003 | 003 |     85 |\n| 004 | 004 |     80 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2\u548c\u5b66\u53f7\u4e3a 001\uff0c002 \u53f7\u7684\u540c\u5b66\u540c\u5e74\u51fa\u751f\u7684\u6240\u6709\u5b66\u751f\u7684 sno,sname,sbirthday \u5217\nmysql&gt; select sno,sname,sbirthday from student4 where year(sbirthday) in (select year(sbirthday) from student4 where sno in (\"001\", \"002\"));\n+-----+--------+---------------------+\n| sno | sname  | sbirthday           |\n+-----+--------+---------------------+\n| 001 | \u5f20\u4e09   | 1990-01-01 00:00:00 |\n| 002 | \u674e\u56db   | 1990-02-02 00:00:00 |\n+-----+--------+---------------------+\n\n-- NOTE: \u83b7\u53d6\u65e5\u671f\u4e2d\u7684\u5e74\u4efd\u4f7f\u7528\u51fd\u6570 year()\n\n\n-- \u67e5\u8be2 \u5f20\u8001\u5e08 \u4efb\u8bfe\u7684\u5b66\u751f\u6210\u7ee9\nmysql&gt; select sno,score.cno,degree from score inner join course inner join teacher on score.cno=course.cno and course.tno=teacher.tno where tname=\"\u5f20\u8001\u5e08\";\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 001 | 001 |     95 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2\u67d0\u9009\u4fee\u8bfe\u7684\u540c\u5b66\u4eba\u6570\u591a\u4e8e1\u4eba\u7684\u6559\u5e08\u59d3\u540d\nmysql&gt; select tname from teacher inner join course inner join (select cno from score group by cno having count(sno) &gt; 1) as  c on teacher.tno=course.tno and course.cno=c.cno;\n+-----------+\n| tname     |\n+-----------+\n| \u8d75\u8001\u5e08    |\n+-----------+\n\n-- NOTE\uff1a\u5148 gourp by \u518d\u4f7f\u7528 haing; \u53ef\u4ee5\u4f7f\u7528\u4e2d\u95f4\u8868\u8fdb\u884c\u8fde\u63a5\u67e5\u8be2\n\n\n-- \u67e5\u8be2\u5b58\u5728\u670985\u5206\u4ee5\u4e0a\u6210\u7ee9\u7684\u8bfe\u7a0bcno\nmysql&gt; select cno,degree from score where degree &gt; 85;\n+-----+--------+\n| cno | degree |\n+-----+--------+\n| 001 |     95 |\n| 002 |     90 |\n+-----+--------+\n\n\n-- \u67e5\u8be2 \u8ba1\u7b97\u673a\u5b66\u9662 \u6559\u5e08\u6240\u6559\u8bfe\u7a0b\u7684\u6210\u7ee9\u8868\nmysql&gt; select sno,course.cno,degree from score inner join course inner join teacher on score.cno=course.cno and course.tno=teacher.tno where depart=\"\u8ba1\u7b97\u673a\u5b66\u9662\";\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 001 | 001 |     95 |\n| 002 | 002 |     90 |\n| 003 | 003 |     85 |\n| 004 | 004 |     80 |\n| 001 | 004 |     70 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2 \u8ba1\u7b97\u673a\u5b66\u9662 \u4e0e \u827a\u672f\u7cfb\u4e0d\u540c\u804c\u79f0\u6559\u5e08\u7684 tname, prof\n\n-- \u601d\u8def1\uff1a\u5148\u627e\u5230\u76f8\u540c\u7684\uff0c\u7136\u540e\u53d6\u53cd\nmysql&gt; select tname,prof from teacher where prof not in (select prof from teacher where depart in (\"\u8ba1\u7b97\u673a\u5b66\u9662\", \"\u827a\u672f\u7cfb\") group by prof having count(prof) &gt;1);\n+-----------+-----------+\n| tname     | prof      |\n+-----------+-----------+\n| \u5f20\u8001\u5e08    | \u526f\u6559\u6388    |\n| \u8d75\u8001\u5e08    | \u8bb2\u5e08      |\n+-----------+-----------+\n\n\n-- \u601d\u8def2\uff1a\u5148\u627e\u5230\u5728\u8ba1\u7b97\u673a\u5b66\u9662\u6709\u7684\uff0c\u7136\u540e\u6392\u9664\u5728\u827a\u672f\u7cfb\u4e2d\u4e5f\u6709\u7684\uff1b\u7136\u540e\u91c7\u7528\u540c\u6837\u7684\u65b9\u5f0f\u627e\u5230\u5728\u827a\u672f\u7cfb\u6709\u7684\uff0c\u7136\u540e\u6392\u9664\u5728\u8ba1\u7b97\u673a\u5b66\u9662\u4e5f\u6709\u7684\uff1b\u5c06\u6700\u7ec8\u7ed3\u679c\u5408\u5e76\u5230\u4e00\u8d77\u5c31\u662f\u6700\u7ec8\u7ed3\u679c\nmysql&gt; select tname,prof from teacher where depart=\"\u8ba1\u7b97\u673a\u5b66\u9662\" and prof not in (select prof from teacher where depart=\"\u827a\u672f\u7cfb\") union select tname,prof from teacher where depart=\"\u827a\u672f\u7cfb\" and prof not in (select prof from teacher where depart=\"\u8ba1\u7b97\u673a\u5b66\u9662\");\n+-----------+-----------+\n| tname     | prof      |\n+-----------+-----------+\n| \u5f20\u8001\u5e08    | \u526f\u6559\u6388    |\n| \u8d75\u8001\u5e08    | \u8bb2\u5e08      |\n+-----------+-----------+\n\n\n-- \u542f\u53d1: \u540c\u4e00\u4e2a\u9700\u6c42\uff0c\u4e0d\u540c\u7684\u601d\u8def\u5e26\u6765\u4e0d\u540c\u7684\u89e3\u6cd5\n\n-- \u65b0\u77e5\u8bc6\u70b9\uff1a union \u8054\u5408\u67e5\u8be2 - \u53d6\u5e76\u96c6\n\n\n-- \u67e5\u8be2\u7f16\u53f7\u4e3a001 \u8bfe\u7a0b\u4e14\u6210\u7ee9\u81f3\u5c11\u9ad8\u4e8e\u9009\u4fee\u7f16\u53f7\u4e3a004\u7684\u540c\u5b66\u7684 cno,sno,degree,\u5e76\u6309 degree\u4ece\u9ad8\u5230\u4f4e\u6392\u5e8f\n\n-- \u81f3\u5c11\uff1f =&gt; \u5927\u4e8e\u5176\u4e2d\u81f3\u5c11\u4e00\u4e2a, any =&gt; \u9700\u8981\u533a\u5206\u9ad8\u4e8e\uff08\u4f7f\u7528max\uff09\u548c\u81f3\u5c11\u9ad8\u4e8e\uff08\u4f7f\u7528any\uff09\u8fd9\u4e24\u79cd\u573a\u666f\n\nmysql&gt; select * from score where cno=\"001\" and degree &gt; any(select degree from score where cno=\"004\") order by degree desc;\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 001 | 001 |     95 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2\u8bfe\u7a0b001\u6210\u7ee9\u9ad8\u4e8e\u8bfe\u7a0b004\u6210\u7ee9\u7684\u5b66\u751f\u7684 sno,degree\nmysql&gt; select a.sno,degree_001,degree_004 from (select sno,degree as degree_001 from score where cno=\"001\") as a inner join (select sno, degree as degree_004 from score where cno=\"004\") as b on a.sno=b.sno where degree_001 &gt; degree_004;\n+-----+------------+------------+\n| sno | degree_001 | degree_004 |\n+-----+------------+------------+\n| 001 |         95 |         70 |\n+-----+------------+------------+\n\n\n\n-- \u67e5\u8be2\u9009\u4fee\u7f16\u53f7\u4e3a 001 \u4e14 \u6210\u7ee9\u9ad8\u4e8e\u9009\u4fee\u7f16\u53f7\u4e3a 004 \u8bfe\u7a0b\u7684\u540c\u5b66\u7684 cno, sno , degree\nmysql&gt; select * from score where cno=\"001\" and degree &gt; all(select degree from score where cno=\"004\");\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 001 | 001 |     95 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2\u6240\u6709\u6559\u5e08\u548c\u540c\u5b66\u7684name,sex,birthday\n\n-- \u77e5\u8bc6\u70b9\uff1a\u8bbe\u7f6e\u522b\u540d\nmysql&gt; select sname name,ssex sex,sbirthday birthday from student4 union (select tname,tsex,tbirthday from teacher);\n+-----------+-----+---------------------+\n| name      | sex | birthday            |\n+-----------+-----+---------------------+\n| \u5f20\u4e09      | \u7537  | 1990-01-01 00:00:00 |\n| \u674e\u56db      | \u5973  | 1990-02-02 00:00:00 |\n| \u738b\u4e94      | \u7537  | 1990-03-03 00:00:00 |\n| \u8d75\u516d      | \u5973  | 1990-04-04 00:00:00 |\n| \u5f20\u8001\u5e08    | \u7537  | 1990-01-01 00:00:00 |\n| \u674e\u8001\u5e08    | \u5973  | 1990-02-02 00:00:00 |\n| \u738b\u8001\u5e08    | \u7537  | 1990-03-03 00:00:00 |\n| \u8d75\u8001\u5e08    | \u5973  | 1990-04-04 00:00:00 |\n+-----------+-----+---------------------+\n\n-- NOTE: union \u5173\u952e\u8bcd\u540e\u9762\u7684\u5217\u540d\u4e0d\u9700\u8981\u4f7f\u7528\u522b\u540d\uff0c\u9ed8\u8ba4\u4f1a\u4f7f\u7528union\u524d\u4e00\u90e8\u5206\u7684\u5217\u540d\n\n\n-- \u67e5\u8be2\u6210\u7ee9\u88ab\u8be5\u8bfe\u7a0b\u5e73\u5747\u6210\u7ee9\u7684\u540c\u5b66\u7684\u6210\u7ee9\u8868\n\n-- \u65b9\u6cd5\u4e00\uff1a\nmysql&gt; select score.sno,score.cno,score.degree,avg_degree from score inner join (select cno,avg(degree) as avg_degree from score group by cno) a on score.cno=a.cno where degree &lt; avg_degree;\n+-----+-----+--------+------------+\n| sno | cno | degree | avg_degree |\n+-----+-----+--------+------------+\n| 001 | 004 |     70 |    75.0000 |\n+-----+-----+--------+------------+\n\n-- \u65b9\u6cd5\u4e8c\uff1a\nmysql&gt; select * from score a where a.degree &lt; (select avg(degree) from score b where b.cno=a.cno);\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 001 | 004 |     70 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2\u6240\u6709\u4efb\u8bfe\u8001\u5e08\u7684 tname, depart\n-- \u9690\u542b\u6761\u4ef6\uff1a\u5728\u8bfe\u7a0b\u8868\u4e2d\u5b89\u6392\u4e86\u8bfe\u7a0b\u7684\u8001\u5e08\nmysql&gt; select tname,depart from teacher where tno in (select distinct(tno) from course);\n+-----------+-----------------+\n| tname     | depart          |\n+-----------+-----------------+\n| \u5f20\u8001\u5e08    | \u8ba1\u7b97\u673a\u5b66\u9662      |\n| \u674e\u8001\u5e08    | \u8ba1\u7b97\u673a\u5b66\u9662      |\n| \u738b\u8001\u5e08    | \u827a\u672f\u7cfb          |\n| \u8d75\u8001\u5e08    | \u827a\u672f\u7cfb          |\n+-----------+-----------------+\n\n\n-- \u67e5\u8be2\u81f3\u5c11\u67092\u540d\u7537\u751f\u7684\u73ed\u53f7\nmysql&gt; select class from student4 where ssex=\"\u7537\" group by class having count(*) &gt;= 2;\n\n\n\n-- \u67e5\u8be2student4\u8868\u4e2d\u4e0d\u59d3\u738b\u7684\u540c\u5b66\u8bb0\u5f55\uff1a not like\nmysql&gt; select * from student4 where sname not like \"\u738b%\";\n+-----+--------+------+---------------------+--------+\n| sno | sname  | ssex | sbirthday           | class  |\n+-----+--------+------+---------------------+--------+\n| 001 | \u5f20\u4e09   | \u7537   | 1990-01-01 00:00:00 | \u4e00\u73ed   |\n| 002 | \u674e\u56db   | \u5973   | 1990-02-02 00:00:00 | \u4e8c\u73ed   |\n| 004 | \u8d75\u516d   | \u5973   | 1990-04-04 00:00:00 | \u56db\u73ed   |\n+-----+--------+------+---------------------+--------+\n\n\n-- \u67e5\u8be2student4\u8868\u4e2d\u6bcf\u4e2a\u540c\u5b66\u7684\u59d3\u540d\u548c\u5e74\u9f84\uff1a\u65e5\u671f\u76f8\u51cf\u51fd\u6570\nmysql&gt; select sname,(year(now()) - year(sbirthday)) age from student4;\n+--------+------+\n| sname  | age  |\n+--------+------+\n| \u5f20\u4e09   |   32 |\n| \u674e\u56db   |   32 |\n| \u738b\u4e94   |   32 |\n| \u8d75\u516d   |   32 |\n+--------+------+\n\n\n-- \u67e5\u8be2student4\u8868\u4e2d\u6700\u5927\u548c\u6700\u5c0f\u7684 sbirthday \u503c\nmysql&gt; select max(sbirthday),min(sbirthday) from student4;\n+---------------------+---------------------+\n| max(sbirthday)      | min(sbirthday)      |\n+---------------------+---------------------+\n| 1990-04-04 00:00:00 | 1990-01-01 00:00:00 |\n+---------------------+---------------------+\n\n\n-- \u4ee5\u73ed\u53f7\u548c\u5e74\u9f84\u4ece\u5927\u5230\u5c0f\u7684\u987a\u5e8f\u67e5\u8be2 student4 \u8868\u4e2d\u7684\u5168\u90e8\u8bb0\u5f55\nmysql&gt; select * from student4 order by class desc, sbirthday;\n+-----+--------+------+---------------------+--------+\n| sno | sname  | ssex | sbirthday           | class  |\n+-----+--------+------+---------------------+--------+\n| 004 | \u8d75\u516d   | \u5973   | 1990-04-04 00:00:00 | \u56db\u73ed   |\n| 002 | \u674e\u56db   | \u5973   | 1990-02-02 00:00:00 | \u4e8c\u73ed   |\n| 003 | \u738b\u4e94   | \u7537   | 1990-03-03 00:00:00 | \u4e09\u73ed   |\n| 001 | \u5f20\u4e09   | \u7537   | 1990-01-01 00:00:00 | \u4e00\u73ed   |\n+-----+--------+------+---------------------+--------+\n\n-- NOTE\uff1a\u65e5\u671f\u8d8a\u65e9\uff0c\u5e74\u7eaa\u8d8a\u5927\n\n\n\n-- \u67e5\u8be2\u7537\u6559\u5e08\u53ca\u5176\u6240\u4e0a\u7684\u8bfe\u7a0b\nmysql&gt; select * from course where tno in (select tno from teacher where tsex=\"\u7537\");\n+-----+-----------------+------+\n| cno | cname           | tno  |\n+-----+-----------------+------+\n| 001 | \u6570\u636e\u5e93\u539f\u7406      | 001  |\n| 003 | \u6570\u636e\u5e93\u7cfb\u7edf      | 003  |\n+-----+-----------------+------+\n\n\n-- \u67e5\u8be2\u6700\u9ad8\u5206\u540c\u5b66\u7684 sno, cno , degree\nmysql&gt; select * from score  where degree = (select max(degree) from score);\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 001 | 001 |     95 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2\u548c\u201c\u5f20\u4e09\u201d\u540c\u6027\u522b\u7684\u6240\u6709\u540c\u5b66\u7684sname\nmysql&gt; select sname from student4 where ssex=(select ssex from student4 where sname=\"\u5f20\u4e09\");\n+--------+\n| sname  |\n+--------+\n| \u5f20\u4e09   |\n| \u738b\u4e94   |\n+--------+\n\n\n-- \u67e5\u8be2\u548c\u201c\u5f20\u4e09\u201d\u540c\u6027\u522b\u5e76\u540c\u73ed\u7684\u540c\u5b66 sname\n\n-- \u65b9\u6cd5\u4e00\uff1a\nmysql&gt; select sname from student4 where ssex= (select ssex from student4 where sname=\"\u5f20\u4e09\") and class=(select class from student4 where sname=\"\u5f20\u4e09\");\n+--------+\n| sname  |\n+--------+\n| \u5f20\u4e09   |\n+--------+\n\n\n-- \u65b9\u6cd5\u4e8c\uff1a\u65b0\u6280\u5de7 - \u5728 where \u4e2d\u4f7f\u7528\u591a\u4e2a\u5217\uff0c\u7528\u62ec\u53f7\u62ec\u8d77\u6765\nmysql&gt; select sname from student4 where (ssex,class) = (select ssex,class from student4 where sname=\"\u5f20\u4e09\");\n+--------+\n| sname  |\n+--------+\n| \u5f20\u4e09   |\n+--------+\n\n\n-- \u67e5\u8be2\u6240\u6709\u9009\u4fee\u201c\u6570\u636e\u5e93\u7cfb\u7edf\u5b9e\u8df5\u201d\u8bfe\u7a0b\u7684\u201c\u7537\u201d\u540c\u5b66\u7684\u6210\u7ee9\u8868\n\nmysql&gt; select a.sno,a.cno,degree from score a inner join course b inner join student4 c on a.cno=b.cno and a.sno=c.sno where cname=\"\u6570\u636e\u5e93\u7cfb\u7edf\u5b9e\u8df5\" and ssex=\"\u7537\";\n+-----+-----+--------+\n| sno | cno | degree |\n+-----+-----+--------+\n| 001 | 004 |     70 |\n+-----+-----+--------+\n\n\n-- \u67e5\u8be2\u6240\u6709\u540c\u5b66\u7684 sno, cno, grade \u5217\nmysql&gt; select sno,cno,grade from score,grade where degree between low and upper;\n+-----+-----+-------+\n| sno | cno | grade |\n+-----+-----+-------+\n| 001 | 001 | A     |\n| 002 | 002 | A     |\n| 003 | 003 | B     |\n| 004 | 004 | B     |\n| 001 | 004 | C     |\n+-----+-----+-------+\n\n-- NOTE: \u7279\u522b\u9700\u8981\u6ce8\u610f\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u4e4b\u524d\u60f3\u590d\u6742\u4e86\uff0c\u539f\u6765\u4e24\u4e2a\u6ca1\u6709\u4efb\u4f55\u5b57\u6bb5\u53ef\u8fdb\u884c\u8fde\u63a5\u7684\u8868\u8fd8\u80fd\u8fd9\u6837\u67e5\u8be2\uff0c\u957f\u77e5\u8bc6\u4e86\n\n\n\n-- SQL \u76844\u79cd\u8fde\u63a5\u67e5\u8be2\n\n    -- \u5185\u8fde\u63a5\uff1a inner join \u6216\u8005 join\n\n    -- \u5916\u8fde\u63a5\uff1a\n        -- \u5de6\u8fde\u63a5\uff1aleft join \u6216\u8005 left outer join\n        -- \u53f3\u8fde\u63a5\uff1aright join \u6216\u8005 right outer join\n        -- \u5168\u8fde\u63a5\uff1afull join \u6216\u8005 full outer join\n\n\n-- person \u8868 \ncreate table person(id int primary key, name varchar(20), cardId int);\ninsert into person values(1, '\u5f20\u4e09', 1), (2, '\u674e\u56db', 3), (3, '\u738b\u4e94', 6);\n\n-- card \u8868\ncreate table card(id int primary key, name varchar(20));\ninsert into card values(1, '\u996d\u5361'), (2, '\u6cb9\u5361'), (3, '\u94f6\u884c\u5361'), (4, '\u4f1a\u5458\u5361');\n\n\n-- NOTE\uff1a\u4ee5\u4e0a\u4e24\u5f20\u8868\u65e0\u5916\u952e\u7ea6\u675f \uff08cardId=6 \u5728card \u8868\u4e2d\u4e0d\u5b58\u5728\uff09\n\n-- inner join \u67e5\u8be2  =&gt; \u8fd4\u56de\u4e24\u5f20\u8868\u4e2d\u540c\u65f6\u6ee1\u8db3\u6307\u5b9a\u6761\u4ef6\u7684\u6240\u6709\u884c\nmysql&gt; select * from person inner join card on person.cardId=card.id;\n+----+--------+--------+----+-----------+\n| id | name   | cardId | id | name      |\n+----+--------+--------+----+-----------+\n|  1 | \u5f20\u4e09   |      1 |  1 | \u996d\u5361      |\n|  2 | \u674e\u56db   |      3 |  3 | \u94f6\u884c\u5361    |\n+----+--------+--------+----+-----------+\n\n\n-- left join \u67e5\u8be2 =&gt; \u5de6\u8fb9\u8868\u8fd4\u56de\u5168\u91cf\u6570\u636e\uff0c\u53f3\u8fb9\u8868\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u636e\uff0c\u53f3\u8fb9\u8868\u6ca1\u6709\u7684\u6570\u636e\u7528NULL\u586b\u5145\nmysql&gt; select * from person left join card on person.cardId=card.id;\n+----+--------+--------+------+-----------+\n| id | name   | cardId | id   | name      |\n+----+--------+--------+------+-----------+\n|  1 | \u5f20\u4e09   |      1 |    1 | \u996d\u5361      |\n|  2 | \u674e\u56db   |      3 |    3 | \u94f6\u884c\u5361    |\n|  3 | \u738b\u4e94   |      6 | NULL | NULL      |\n+----+--------+--------+------+-----------+\n\n\n-- right join \u67e5\u8be2 =&gt; \u53f3\u8fb9\u8868\u8fd4\u56de\u5168\u91cf\u6570\u636e\uff0c\u5de6\u8fb9\u8868\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u636e\uff0c\u5de6\u8fb9\u8868\u6ca1\u6709\u7684\u6570\u636e\u7528NULL\u586b\u5145\nmysql&gt; select * from person right join card on person.cardId=card.id;\n+------+--------+--------+----+-----------+\n| id   | name   | cardId | id | name      |\n+------+--------+--------+----+-----------+\n|    1 | \u5f20\u4e09   |      1 |  1 | \u996d\u5361      |\n| NULL | NULL   |   NULL |  2 | \u6cb9\u5361      |\n|    2 | \u674e\u56db   |      3 |  3 | \u94f6\u884c\u5361    |\n| NULL | NULL   |   NULL |  4 | \u4f1a\u5458\u5361    |\n+------+--------+--------+----+-----------+\n\n\n-- full join \u67e5\u8be2\nmysql&gt; select * from person full join card on person.cardId=card.id;\nERROR 1054 (42S22): Unknown column 'person.cardId' in 'on clause'\n\n-- \u539f\u56e0\uff1aOracle\u6570\u636e\u5e93\u652f\u6301full join\uff0cmysql\u662f\u4e0d\u652f\u6301full join\u7684\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u540c\u8fc7\u5de6\u5916\u8fde\u63a5+ union+\u53f3\u5916\u8fde\u63a5\u5b9e\u73b0\n\n-- \u66ff\u4ee3\u65b9\u6848\uff1a\nmysql&gt; select * from person left join card on person.cardId=card.id union select * from person right join card on person.cardId=card.id;\n+------+--------+--------+------+-----------+\n| id   | name   | cardId | id   | name      |\n+------+--------+--------+------+-----------+\n|    1 | \u5f20\u4e09   |      1 |    1 | \u996d\u5361      |\n|    2 | \u674e\u56db   |      3 |    3 | \u94f6\u884c\u5361    |\n|    3 | \u738b\u4e94   |      6 | NULL | NULL      |\n| NULL | NULL   |   NULL |    2 | \u6cb9\u5361      |\n| NULL | NULL   |   NULL |    4 | \u4f1a\u5458\u5361    |\n+------+--------+--------+------+-----------+\n\n\n-- union \u548c union all \u7684\u533a\u522b =&gt; \u4f7f\u7528 union \u4f1a\u8fdb\u884c\u8bb0\u5f55\u53bb\u91cd\uff0c\u4f7f\u7528 union all \u4e0d\u4f1a\u8fdb\u884c\u8bb0\u5f55\u53bb\u91cd\n\nmysql&gt; select * from person where id in (1,2) union select * from person where id in (2,3);\n+----+--------+--------+\n| id | name   | cardId |\n+----+--------+--------+\n|  1 | \u5f20\u4e09   |      1 |\n|  2 | \u674e\u56db   |      3 |\n|  3 | \u738b\u4e94   |      6 |\n+----+--------+--------+\n\nmysql&gt; select * from person where id in (1,2) union all select * from person where id in (2,3);\n+----+--------+--------+\n| id | name   | cardId |\n+----+--------+--------+\n|  1 | \u5f20\u4e09   |      1 |\n|  2 | \u674e\u56db   |      3 |\n|  2 | \u674e\u56db   |      3 |\n|  3 | \u738b\u4e94   |      6 |\n+----+--------+--------+\n</code></pre>"},{"location":"full-stack/coding/mysql/#mysql_3","title":"mysql \u4e8b\u52a1","text":"<pre><code>-- mysql \u4e2d\uff0c\u4e8b\u52a1\u5176\u5b9e\u662f\u4e00\u4e2a\u6700\u5c0f\u7684\u4e0d\u53ef\u5206\u5272\u7684\u5de5\u4f5c\u5355\u5143\u3002\u4e8b\u52a1\u80fd\u4fdd\u8bc1\u4e1a\u52a1\u7684\u5b8c\u6574\u6027\n\n-- \u6bd4\u5982\u94f6\u884c\u8f6c\u8d26\uff1a\n-- A -&gt; -100   =&gt; update account set balance = balance - 100 where id = 1\n-- B -&gt; +100   =&gt; update account set balance = balance + 100 where id = 2\n\n-- \u5b9e\u9645\u7a0b\u5e8f\u4e2d\uff0c\u5982\u679c\u53ea\u6709\u4e00\u6761SQL\u6267\u884c\u6210\u529f\uff0c\u800c\u53e6\u4e00\u4e2a\u6ca1\u6709\u6267\u884c\u6210\u529f\uff0c\u5c31\u4f1a\u51fa\u73b0\u6570\u636e\u524d\u540e\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\n-- \u591a\u6761SQL\u8bed\u53e5\uff0c\u53ef\u80fd\u4f1a\u6709\u540c\u65f6\u6267\u884c\u6210\u529f\u7684\u60c5\u51b5\uff0c\u8981\u4e48\u5c31\u5168\u90e8\u6267\u884c\u5931\u8d25\uff0c\u4e0d\u5e0c\u671b\u6709\u90e8\u5206\u6267\u884c\u6210\u529f\u90e8\u5206\u4e0d\u6210\u529f\u7684\u60c5\u51b5\u51fa\u73b0\uff0c\u6b64\u65f6\u9700\u8981\u4f7f\u7528\u4e8b\u52a1\n\n\n-- mysql \u4e2d\u5982\u4f55\u63a7\u5236\u4e8b\u52a1\uff1f\n\n-- mysql \u9ed8\u8ba4\u662f\u5f00\u542f\u4e8b\u52a1\u7684\uff08\u81ea\u52a8\u63d0\u4ea4\uff09\nmysql&gt; select @@autocommit;\n+--------------+\n| @@autocommit |\n+--------------+\n|            1 |\n+--------------+\n\n\n-- \u9ed8\u8ba4\u4e8b\u52a1\u5f00\u542f\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f\n-- \u5f53\u6211\u4eec\u53bb\u6267\u884c\u4e00\u4e2asql\u8bed\u53e5\u7684\u65f6\u5019\uff0c\u6548\u679c\u5c31\u4f1a\u7acb\u5373\u4f53\u73b0\u51fa\u6765\uff0c\u4e14\u4e0d\u80fd\u56de\u6eda\n-- \u4e8b\u52a1\u56de\u6eda\uff1a\u64a4\u9500SQL\u8bed\u53e5\u6267\u884c\u6548\u679c - rollback\n\n\ncreate database bank;\n\ncreate table user(id int primary key, name varchar(20), money int);\ninsert into user values (1, '\u5f20\u4e09', 1000), (2, '\u674e\u56db', 2000), (3, '\u738b\u4e94', 3000);\n\n\nmysql&gt; create table user(id int primary key, name varchar(20), money int);\nQuery OK, 0 rows affected (0.10 sec)\n\nmysql&gt; insert into user values (1, '\u5f20\u4e09', 1000), (2, '\u674e\u56db', 2000), (3, '\u738b\u4e94', 3000);\nQuery OK, 3 rows affected (0.02 sec)\nRecords: 3  Duplicates: 0  Warnings: 0\n\nmysql&gt; rollback;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |  1000 |\n|  2 | \u674e\u56db   |  2000 |\n|  3 | \u738b\u4e94   |  3000 |\n+----+--------+-------+\n\n-- NOTE: \u7531\u4e8emysql\u9ed8\u8ba4\u5f00\u542f\u4e86\u4e8b\u52a1\uff0c\u6240\u4ee5\u63d2\u5165\u6570\u636e\u540e\uff0c\u6267\u884c\u56de\u6eda(rollback;) \u547d\u4ee4\u4e0d\u751f\u6548\n\n\n-- \u8bbe\u7f6e mysql \u81ea\u52a8\u63d0\u4ea4\u4e3a false\nmysql&gt; set autocommit=0;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; select @@autocommit;\n+--------------+\n| @@autocommit |\n+--------------+\n|            0 |\n+--------------+\n\n\n-- \u66f4\u65b0\u81ea\u52a8\u63d0\u4ea4\u65b9\u5f0f\u540e\uff0c\u4e0b\u9762\u7684\u56de\u6eda\u64cd\u4f5c\u53ef\u6267\u884c\u6210\u529f\n\nmysql&gt; insert into user values (4, '\u8d75\u516d', 1000);\nQuery OK, 1 row affected (0.01 sec)\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |  1000 |\n|  2 | \u674e\u56db   |  2000 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n4 rows in set (0.00 sec)\n\nmysql&gt; rollback;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |  1000 |\n|  2 | \u674e\u56db   |  2000 |\n|  3 | \u738b\u4e94   |  3000 |\n+----+--------+-------+\n\n\n-- NOTE\uff1a\u5c06\u81ea\u52a8\u63d0\u4ea4\u5173\u95ed\u540e\uff0c\u6267\u884cSQL\u547d\u4ee4\u7684\u65f6\u5019\uff0c\u4ec5\u5728\u62bd\u8c61\u7684\u865a\u62df\u8868\u4e2d\u751f\u6548\uff0c\u6570\u636e\u5e93\u771f\u5b9e\u8868\u5e76\u672a\u751f\u6548\uff0c\u9700\u8981\u624b\u52a8\u663e\u5f0f\u63d0\u4ea4\u624d\u80fd\u751f\u6548 (\u663e\u5f0f\u624b\u52a8\u63d0\u4ea4\u540e\uff0crollback\u5c31\u4e0d\u53ef\u80fd\u518d\u64a4\u9500\u4e86\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4f53\u73b0\u4e86\u4e8b\u52a1\u7684\u6301\u4e45\u6027)\n\nmysql&gt; insert into user values (4, '\u8d75\u516d', 1000);\nQuery OK, 1 row affected (0.00 sec)\n\nmysql&gt; commit;\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql&gt; rollback;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |  1000 |\n|  2 | \u674e\u56db   |  2000 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n\n\n-- \u6a21\u62df\u8f6c\u8d26\u573a\u666f\nmysql&gt; update user set money=money-100 where name=\"\u5f20\u4e09\";\nQuery OK, 1 row affected (0.03 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\nmysql&gt; update user set money=money+100 where name=\"\u674e\u56db\";\nQuery OK, 1 row affected (0.02 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n\n-- \u5f53\u6267\u884c\u5931\u8d25\u65f6\uff0c\u6267\u884c rollback; \u53ef\u6062\u590d\u5230\u539f\u6765\u7684\u72b6\u6001\n\n\n\n-- \u5c06\u81ea\u52a8\u63d0\u4ea4\u65b9\u5f0f\u6062\u590d\u6210\u9ed8\u8ba4\u503c\n\nmysql&gt; set autocommit=1;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; select @@autocommit;\n+--------------+\n| @@autocommit |\n+--------------+\n|            1 |\n+--------------+\n\n\n\n-- \u9664 \u8bbe\u7f6e autocommit \u5916\uff0c\u6267\u884c begin; \u6216 start transaction; \u90fd\u53ef\u4ee5\u5e2e\u6211\u4eec\u5728\u4e0d\u5173\u95ed\u81ea\u52a8\u63d0\u4ea4\u65f6\u4e34\u65f6\u5f00\u542f\u4e00\u4e2a\u4e8b\u52a1\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n4 rows in set (0.00 sec)\n\nmysql&gt; begin;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; update user set money=money-100 where name=\"\u5f20\u4e09\";\nQuery OK, 1 row affected (0.00 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\nmysql&gt; update user set money=money+100 where name=\"\u674e\u56db\";\nQuery OK, 1 row affected (0.00 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   800 |\n|  2 | \u674e\u56db   |  2200 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n4 rows in set (0.00 sec)\n\nmysql&gt; rollback;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n4 rows in set (0.00 sec)\n\n\n-- \u4e8b\u52a1\u5f00\u542f\u4e4b\u540e\uff0c\u4e00\u65e6 commit \u63d0\u4ea4\uff0c\u5c31\u4e0d\u53ef\u4ee5\u56de\u6eda\uff08\u4e5f\u5c31\u662f\u5f53\u524d\u7684\u8fd9\u4e2a\u4e8b\u52a1\u5728\u63d0\u4ea4\u7684\u65f6\u5019\u5c31\u7ed3\u675f\u4e86\uff09\n\n\n-- \u4e8b\u52a1\u9694\u79bb\u6027\uff1a\n    -- 1. read uncommitted;   \u8bfb\u672a\u63d0\u4ea4\u7684\n    -- 2. read committed;     \u8bfb\u63d0\u4ea4\u7684\n    -- 3. repeatable read;    \u53ef\u4ee5\u91cd\u590d\u8bfb \uff08mysql \u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b\uff09\n    -- 4. serializable;       \u4e32\u884c\u5316\n\n\n-- \u67e5\u770b\u6570\u636e\u5e93\u7684\u9694\u79bb\u7ea7\u522b\n\n-- mysql 8.0\nmysql&gt; select @@global.transaction_isolation;\n+--------------------------------+\n| @@global.transaction_isolation |\n+--------------------------------+\n| REPEATABLE-READ                |\n+--------------------------------+\n\nmysql&gt; select @@transaction_isolation;\n+-------------------------+\n| @@transaction_isolation |\n+-------------------------+\n| REPEATABLE-READ         |\n+-------------------------+\n\n\n-- mysql 5.x\nselect @@global.tx_isolation;\nselect @@tx_isolation;\n\n-- NOTE: \u5e26 global \u524d\u7f00\u8868\u793a \u7cfb\u7edf\u7ea7\u522b\uff0c\u4e0d\u5e26 global \u524d\u7f00\u8868\u793a \u4f1a\u8bdd\u7ea7\u522b\n\n\n\n\n-- \u4fee\u6539\u9694\u79bb\u7ea7\u522b\n\nmysql&gt; set global transaction isolation level read uncommitted;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; select @@global.transaction_isolation;\n+--------------------------------+\n| @@global.transaction_isolation |\n+--------------------------------+\n| READ-UNCOMMITTED               |\n+--------------------------------+\n\n\n-- \u7b2c\u4e00\u79cd\u9694\u79bb\u7ea7\u522b\uff1aread uncommitted; - \u5982\u679c\u6709\u4e8b\u52a11\u548c\u4e8b\u52a12\uff0c\u4e8b\u52a11\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u64cd\u4f5c\uff0c\u5728\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\uff0c\u4e8b\u52a1\u6ca1\u6709\u88ab\u63d0\u4ea4\uff0c\u4f46\u662f\u4e8b\u52a12\u53ef\u4ee5\u770b\u5230\u4e8b\u52a11\u64cd\u4f5c\u7684\u7ed3\u679c\n\n\n-- \u573a\u666f\uff1a\u674e\u56db \u7ed9\u5f20\u4e09 \u8f6c\u8d26 100 \u5143\uff1b\u674e\u56db \u5728\u4e0a\u6d77\u7684ATM\u4e0a\u8f6c\u8d26\uff0c\u5f20\u4e09 \u5728\u6210\u90fd\u7684 ATM\u4e0a\u67e5\u8be2\u8d26\u6237\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n\n-- 1.\u5f20\u4e09\u8f6c\u8d26 100 \u5143\u7ed9\u674e\u56db\nstart transaction;\nupdate user set money=money-100 where name=\"\u674e\u56db\";\nupdate user set money=money+100 where name=\"\u5f20\u4e09\";\n\n-- 2.\u674e\u56db\u67e5\u8be2\u8d26\u6237\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |  1000 |\n|  2 | \u674e\u56db   |  2000 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n\n-- \u674e\u56db\u53d1\u73b0\u8d26\u6237\u91d1\u989d\u663e\u793a\u8f6c\u8d26\u6210\u529f\uff08\u5373\u81ea\u5df1\u7684\u8d26\u6237\u591a\u4e86100\u5143\uff09\n-- \u6b64\u65f6\u5982\u679c\u624b\u52a8\u6267\u884c\u4e86 rollback; \u547d\u4ee4\uff0c\u4e0a\u9762\u7684\u8f6c\u8d26\u8fc7\u7a0b\u5c06\u88ab\u6062\u590d\u81f3\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u5373\u8f6c\u8d26\u4e0d\u6210\u529f\n\n-- \u4ee5\u4e0a\u573a\u666f\u4e2d\uff0c\u5982\u679c\u4e24\u4e2a\u4e0d\u540c\u7684\u5730\u65b9\uff0c\u90fd\u5728\u8fdb\u884c\u64cd\u4f5c\uff0c\u5982\u679c\u4e8b\u52a11 \u5f00\u542f\u4e4b\u540e\uff0c\u4ed6\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u5176\u4ed6\u4e8b\u52a1\u8bfb\u53d6\u5230\uff0c\u8fd9\u6837\u5c31\u4f1a\u51fa\u73b0 \u810f\u8bfb\n\n-- \u810f\u8bfb\uff1a\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u5230\u4e86\u53e6\u4e00\u4e2a\u4e8b\u52a1\u6ca1\u6709\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u5c31\u53eb\u810f\u8bfb\uff08\u5b9e\u9645\u5f00\u53d1\u8fc7\u7a0b\u4e0d\u5141\u8bb8\u810f\u8bfb\u7684\u60c5\u51b5\u51fa\u73b0\uff09\n\n\n\n-- \u7b2c\u4e8c\u79cd\u9694\u79bb\u7ea7\u522b\uff1aread committed; \n\nmysql&gt; set global transaction isolation level read committed;\nQuery OK, 0 rows affected (0.04 sec)\n\nmysql&gt; select @@global.transaction_isolation;\n+--------------------------------+\n| @@global.transaction_isolation |\n+--------------------------------+\n| READ-COMMITTED                 |\n+--------------------------------+\n\n\n-- \u573a\u666f\uff1a\n-- \u5c0f\u5f20\u4e3a\u94f6\u884c\u4f1a\u8ba1\uff0c\u6b63\u5728\u8fdb\u884c\u6570\u636e\u7edf\u8ba1\u64cd\u4f5c\uff0c\u5982\u4e0b\nmysql&gt; begin;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n\n-- \u5c0f\u5f20\u6267\u884c\u5230\u5b8c\u6210\u540e\u8fd8\u672a\u63d0\u4ea4\u5c31\u53bb\u5fd9\u522b\u7684\u4e8b\u4e86\n\n\n-- \u53e6\u4e00\u5458\u5de5\u5c0f\u674e\u6b64\u65f6\u5e2e\u5fd9\u67d0\u7528\u6237\u65b0\u5f00\u4e86\u4e00\u4e2a\u8d26\u6237\uff0c\u5982\u4e0b\nmysql&gt; insert into user values(5,\"\u5b59\u4e03\", 1000);\nQuery OK, 1 row affected (0.02 sec)\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n|  5 | \u5b59\u4e03   |  1000 |\n+----+--------+-------+\n\n-- \u4e4b\u540e\u5c0f\u5f20\u56de\u6765\u7ee7\u7eed\u64cd\u4f5c\uff0c\u6c42\u91d1\u989d\u5e73\u5747\u503c\nmysql&gt; select avg(money) from user;\n+------------+\n| avg(money) |\n+------------+\n|  1600.0000 |\n+------------+\n\n\n-- \u53d1\u73b0\u4e0e\u4e4b\u524d\u9884\u671f\u7684 1750 \u4e0d\u4e00\u81f4\uff08\u56e0\u4e3a\u540e\u9762\u65b0\u63d2\u5165\u4e86\u4e00\u6761\u8bb0\u5f55\u5bfc\u81f4\u6570\u636e\u8868\u53d8\u66f4\uff0c\u4f46\u5c0f\u5f20\u5bf9\u6b64\u64cd\u4f5c\u4e0d\u53ef\u77e5\uff09\n-- \u6b64\u65f6\u867d\u7136\u6211\u53ea\u80fd\u8bfb\u5230\u53e6\u5916\u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u4f46\u8fd8\u662f\u4f1a\u51fa\u73b0\u95ee\u9898\uff0c\u5c31\u662f\u8bfb\u53d6\u540c\u4e00\u4e2a\u8868\u7684\u6570\u636e\uff0c\u53d1\u73b0\u524d\u540e\u4e0d\u4e00\u81f4\uff0c\u6b64\u8fc7\u7a0b\u53eb \u4e0d\u53ef\u91cd\u590d\u8bfb \u73b0\u8c61\n\n\n-- \u7b2c\u4e09\u79cd\u9694\u79bb\u7ea7\u522b\uff1arepeatable read;\n\nmysql&gt; set global transaction isolation level repeatable read;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; select @@global.transaction_isolation;\n+--------------------------------+\n| @@global.transaction_isolation |\n+--------------------------------+\n| REPEATABLE-READ                |\n+--------------------------------+\n\n\n-- \u573a\u666f\uff1a\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n\n-- \u5c0f\u5f20 - \u6210\u90fd - \u7ec8\u7aef1\nstart transaction;\n\n-- \u5c0f\u674e - \u4e0a\u6d77 - \u7ec8\u7aef2\nstart transaction;\n\n-- \u5c0f\u5f20 - \u6210\u90fd - \u7ec8\u7aef1\nmysql&gt; insert into user values (6,\"d\",900);\nQuery OK, 1 row affected (0.04 sec)\n\n-- \u5c0f\u674e - \u4e0a\u6d77 - \u7ec8\u7aef2\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n\n-- \u5c0f\u5f20 - \u6210\u90fd - \u7ec8\u7aef1\nmysql&gt; commit;\nQuery OK, 0 rows affected (0.02 sec)\n\n-- \u5c0f\u674e - \u4e0a\u6d77 - \u7ec8\u7aef2\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n\nmysql&gt; insert into user values (6,\"d\",900);\nERROR 1062 (23000): Duplicate entry '6' for key 'user.PRIMARY'\n\n\n-- NOTE: \u4ee5\u4e0a\u6b65\u9aa4\u79cd\uff0c\u867d\u7136\u5c0f\u674e\u67e5\u8be2\u8868\u65f6\u770b\u4e0d\u5230\u6570\u636e\uff0c\u4f46\u548c\u5c0f\u5f20\u6267\u884c\u76f8\u540c\u7684sql\u8bed\u53e5\u65f6\u4f1a\u63d0\u793a\u6570\u636e\u5df2\u5b58\u5728\uff0c\u8fd9\u79cd\u73b0\u8c61\u53eb \u5e7b\u8bfb\n\n-- \u5e7b\u8bfb\uff1a\u4e8b\u52a11\u548c\u4e8b\u52a12 \u540c\u65f6\u64cd\u4f5c\u540c\u4e00\u5f20\u8868\uff0c\u4e8b\u52a11\u63d0\u4ea4\u7684\u6570\u636e\u4e0d\u80fd\u88ab\u6570\u636e2\u8bfb\u5230\uff0c\u5c31\u53ef\u4ee5\u9020\u6210\u5e7b\u8bfb\u73b0\u8c61\n\n\n\n-- \u7b2c\u56db\u79cd\u9694\u79bb\u7ea7\u522b\uff1aserializable;\nmysql&gt; set global transaction isolation level serializable;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; select @@global.transaction_isolation;\n+--------------------------------+\n| @@global.transaction_isolation |\n+--------------------------------+\n| SERIALIZABLE                   |\n+--------------------------------+\n\n\n\n-- \u573a\u666f\uff1a\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n+----+--------+-------+\n\n-- \u5c0f\u5f20 - \u6210\u90fd - \u7ec8\u7aef1\nstart transaction;\n\n\n-- \u5c0f\u674e - \u4e0a\u6d77 - \u7ec8\u7aef2\nstart transaction;\n\n\n-- \u5c0f\u5f20 - \u6210\u90fd - \u7ec8\u7aef1\nmysql&gt; insert into user values (7,\"e\",900);\nQuery OK, 1 row affected (0.01 sec)\n\nmysql&gt; commit;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n|  7 | e      |   900 |\n+----+--------+-------+\n\n-- \u5c0f\u674e - \u4e0a\u6d77 - \u7ec8\u7aef2\nmysql&gt; select * from user;\n+----+--------+-------+\n| id | name   | money |\n+----+--------+-------+\n|  1 | \u5f20\u4e09   |   900 |\n|  2 | \u674e\u56db   |  2100 |\n|  3 | \u738b\u4e94   |  3000 |\n|  4 | \u8d75\u516d   |  1000 |\n|  7 | e      |   900 |\n+----+--------+-------+\n\n\n-- \u5c0f\u5f20 - \u6210\u90fd - \u7ec8\u7aef1\nmysql&gt; start transaction;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; insert into user values (8,\"f\",900);\nERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction\n\n\n-- NOTE: \u6267\u884c\u4ee5\u4e0aSQL\u547d\u4ee4\u540e\uff0c\u547d\u4ee4\u5361\u4f4f\u4e86 - \u5728 \u3010\u5c0f\u674e - \u4e0a\u6d77 - \u7ec8\u7aef2\u3011 \u6267\u884c commit \u540e\uff0c\u547d\u4ee4\u53ef\u6267\u884c\u6210\u529f\n\n-- \u5c0f\u674e - \u4e0a\u6d77 - \u7ec8\u7aef2\nmysql&gt; commit;\nQuery OK, 0 rows affected (0.01 sec)\n\n\n-- \u5c0f\u5f20 - \u6210\u90fd - \u7ec8\u7aef1\nmysql&gt; insert into user values (8,\"f\",900);\nQuery OK, 1 row affected (0.00 sec)\n\n\n-- \u5f53 user \u8868\u88ab\u53e6\u4e00\u4e2a\u4e8b\u52a1\u64cd\u4f5c\u65f6\uff0c\u5176\u4ed6\u4e8b\u52a1\u91cc\u9762\u7684\u5199\u64cd\u4f5c\u662f\u4e0d\u5141\u8bb8\u8fdb\u884c\u7684\uff0c\u8fdb\u5165\u6392\u961f\u72b6\u6001\uff08\u4e32\u884c\u5316\uff09\uff0c\u76f4\u5230\u8fd9\u4e2a\u4e8b\u52a1\u7ed3\u675f\u540e\uff08commit;\uff09\uff0c\u5176\u4ed6\u4e8b\u52a1\u7684\u5199\u64cd\u4f5c\u624d\u53ef\u4ee5\u6210\u529f\n\n\n-- \u4e32\u884c\u5316\u5e26\u6765\u7684\u95ee\u9898\u662f\uff0c\u6027\u80fd\u7279\u5dee\n\n-- \u6027\u80fd\u6392\u5e8f(\u9ad8 -&gt; \u4f4e)\uff1a read-uncommitted &gt; read-committed &gt; repeatable-read &gt; serializable   =&gt; \u9694\u79bb\u7ea7\u522b\u8d8a\u9ad8\uff0c\u6027\u80fd\u8d8a\u5dee\uff0cmysql \u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b\u662f\uff1arepeatable-read\n\n\n-- \u4e8b\u52a1\u76844\u5927\u7279\u5f81\uff08ACID\uff09\n    A: \u539f\u5b50\u6027 - \u4e8b\u52a1\u662f\u6700\u5c0f\u7684\u5355\u4f4d\uff0c\u4e0d\u53ef\u4ee5\u518d\u5206\u5272\n    C: \u4e00\u81f4\u6027 - \u4e8b\u52a1\u8981\u6c42\uff0c\u540c\u4e00\u4e8b\u52a1\u4e2d\u7684SQL\u8bed\u53e5\uff0c\u5fc5\u987b\u4fdd\u8bc1\u540c\u65f6\u6210\u529f\u6216\u540c\u65f6\u5931\u8d25\n    I: \u9694\u79bb\u6027 - \u4e8b\u52a11 \u548c \u4e8b\u52a12 \u4e4b\u95f4\u662f\u5177\u6709\u9694\u79bb\u6027\u7684\n    D: \u6301\u4e45\u6027 - \u4e8b\u52a1\u4e00\u65e6\u7ed3\u675f\uff0c\u5c31\u4e0d\u53ef\u8fd4\u56de\n\n\n-- \u4e8b\u52a1\u5f00\u542f\u7684\u51e0\u79cd\u65b9\u5f0f\uff1a\n    -- 1.\u4fee\u6539mysql\u9ed8\u8ba4\u63d0\u4ea4\u65b9\u5f0f\uff1aset autocommit=0;\n    -- 2.\u4f7f\u7528 begin;\n    -- 3.\u4f7f\u7528 start transaction;\n\n-- \u4e8b\u52a1\u63d0\u4ea4\uff1a\ncommit;\n\n\n-- \u4e8b\u52a1\u624b\u52a8\u56de\u6eda\uff1a\nrollback;\n</code></pre>"},{"location":"full-stack/coding/powershell/","title":"powershell","text":""},{"location":"full-stack/coding/python/","title":"python","text":""},{"location":"full-stack/coding/python/#_1","title":"\u5b57\u7b26\u7f16\u7801","text":"<p>\u56e0\u4e3a\u8ba1\u7b97\u673a\u53ea\u80fd\u5904\u7406\u6570\u5b57\uff0c\u5982\u679c\u8981\u5904\u7406\u6587\u672c\uff0c\u5c31\u5fc5\u987b\u5148\u628a\u6587\u672c\u8f6c\u6362\u4e3a\u6570\u5b57\u624d\u80fd\u5904\u7406\u3002\u6700\u65e9\u7684\u8ba1\u7b97\u673a\u5728\u8bbe\u8ba1\u65f6\u91c7\u75288\u4e2a\u6bd4\u7279\uff08bit\uff09\u4f5c\u4e3a\u4e00\u4e2a\u5b57\u8282\uff08byte\uff09\uff0c\u6240\u4ee5\uff0c\u4e00\u4e2a\u5b57\u8282\u80fd\u8868\u793a\u7684\u6700\u5927\u7684\u6574\u6570\u5c31\u662f255\uff08\u4e8c\u8fdb\u523611111111=\u5341\u8fdb\u5236255\uff09\uff0c\u5982\u679c\u8981\u8868\u793a\u66f4\u5927\u7684\u6574\u6570\uff0c\u5c31\u5fc5\u987b\u7528\u66f4\u591a\u7684\u5b57\u8282\u3002\u6bd4\u5982\u4e24\u4e2a\u5b57\u8282\u53ef\u4ee5\u8868\u793a\u7684\u6700\u5927\u6574\u6570\u662f65535\uff0c4\u4e2a\u5b57\u8282\u53ef\u4ee5\u8868\u793a\u7684\u6700\u5927\u6574\u6570\u662f4294967295\u3002</p> <ul> <li>ASCII \u7f16\u7801\uff1a\u5927\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e00\u4e9b\u7b26\u53f7</li> <li>GB2312 \u7f16\u7801: \u4e2d\u6587\u7f16\u7801</li> <li>Unicode \u7f16\u7801\uff1a\u628a\u6240\u6709\u8bed\u8a00\uff08\u82f1\u6587/\u4e2d\u6587/\u65e5\u6587/\u97e9\u6587...\uff09\u90fd\u7edf\u4e00\u5230\u4e00\u5957\u7f16\u7801\u91cc</li> <li>UTF-8 \u7f16\u7801: \u672c\u7740\u8282\u7ea6\u7684\u7cbe\u795e\uff0c\u53c8\u51fa\u73b0\u4e86\u628aUnicode\u7f16\u7801\u8f6c\u5316\u4e3a\u201c\u53ef\u53d8\u957f\u7f16\u7801\u201d\u7684UTF-8\u7f16\u7801\uff0cUTF-8\u7f16\u7801\u628a\u4e00\u4e2aUnicode\u5b57\u7b26\u6839\u636e\u4e0d\u540c\u7684\u6570\u5b57\u5927\u5c0f\u7f16\u7801\u62101-6\u4e2a\u5b57\u8282\uff0c\u5e38\u7528\u7684\u82f1\u6587\u5b57\u6bcd\u88ab\u7f16\u7801\u62101\u4e2a\u5b57\u8282\uff0c\u6c49\u5b57\u901a\u5e38\u662f3\u4e2a\u5b57\u8282\uff0c\u53ea\u6709\u5f88\u751f\u50fb\u7684\u5b57\u7b26\u624d\u4f1a\u88ab\u7f16\u7801\u62104-6\u4e2a\u5b57\u8282\u3002\u5982\u679c\u4f60\u8981\u4f20\u8f93\u7684\u6587\u672c\u5305\u542b\u5927\u91cf\u82f1\u6587\u5b57\u7b26\uff0c\u7528UTF-8\u7f16\u7801\u5c31\u80fd\u8282\u7701\u7a7a\u95f4</li> </ul> \u5b57\u7b26 ASCII Unicode UTF-8 A 01000001 00000000 \u4e2d x 01001110 00101101 <pre><code>ord('A')   # 65\nord('\u4e2d')  # 20013\nchr(66)    # 'B'\nchr(25991) #'\u6587'\n\nprint('\\u4e2d\\u6587') # \u4e2d\u6587\n\n# str &lt;=&gt; bytes\n'ABC'.encode('ascii')  # b'ABC'\n'\u4e2d\u6587'.encode('utf-8')  # b'\\xe4\\xb8\\xad\\xe6\\x96\\x87'\n'\u4e2d\u6587'.encode('gb2312') # b'\\xd6\\xd0\\xce\\xc4'\n\n# \u7eaf\u82f1\u6587\u7684str\u53ef\u4ee5\u7528ASCII\u7f16\u7801\u4e3abytes\uff0c\u5185\u5bb9\u662f\u4e00\u6837\u7684\uff0c\u542b\u6709\u4e2d\u6587\u7684str\u53ef\u4ee5\u7528UTF-8\u7f16\u7801\u4e3abytes\u3002\u542b\u6709\u4e2d\u6587\u7684str\u65e0\u6cd5\u7528ASCII\u7f16\u7801\uff0c\u56e0\u4e3a\u4e2d\u6587\u7f16\u7801\u7684\u8303\u56f4\u8d85\u8fc7\u4e86ASCII\u7f16\u7801\u7684\u8303\u56f4\uff0cPython\u4f1a\u62a5\u9519\n'\u4e2d\u6587'.encode('ascii') # UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-1: ordinal not in range(128)\n\nb'ABC'.decode('ascii')                      #'ABC'\nb'\\xe4\\xb8\\xad\\xe6\\x96\\x87'.decode('utf-8') #'\u4e2d\u6587'\n\n# \u5982\u679cbytes\u4e2d\u53ea\u6709\u4e00\u5c0f\u90e8\u5206\u65e0\u6548\u7684\u5b57\u8282\uff0c\u53ef\u4ee5\u4f20\u5165errors='ignore'\u5ffd\u7565\u9519\u8bef\u7684\u5b57\u8282\nb'\\xe4\\xb8\\xad\\xff'.decode('utf-8', errors='ignore') # \u4e2d\n\n\n# len()\u51fd\u6570\u8ba1\u7b97\u7684\u662fstr\u7684\u5b57\u7b26\u6570\uff0c\u5982\u679c\u6362\u6210bytes\uff0clen()\u51fd\u6570\u5c31\u8ba1\u7b97\u5b57\u8282\u6570\n\n# \u8ba1\u7b97\u5b57\u7b26\u957f\u5ea6\nlen('ABC') # 3\nlen('\u4e2d\u6587') # 2\n\n# \u8ba1\u7b97\u5b57\u8282\u6570\nlen(b'ABC')                      # 3\nlen(b'\\xe4\\xb8\\xad\\xe6\\x96\\x87') # 6\nlen('\u4e2d\u6587'.encode('utf-8'))      # 6\n\n# \u53ef\u89c1\uff0c1\u4e2a\u4e2d\u6587\u5b57\u7b26\u7ecf\u8fc7UTF-8\u7f16\u7801\u540e\u901a\u5e38\u4f1a\u5360\u75283\u4e2a\u5b57\u8282\uff0c\u800c1\u4e2a\u82f1\u6587\u5b57\u7b26\u53ea\u5360\u75281\u4e2a\u5b57\u8282\n</code></pre> <p></p>"},{"location":"full-stack/coding/python/#_2","title":"\u5b57\u7b26\u4e32\u683c\u5f0f\u5316","text":"<pre><code>'Hello, {0}, \u6210\u7ee9\u63d0\u5347\u4e86 {1:.1f}%'.format('\u5c0f\u660e', 17.125)   # 'Hello, \u5c0f\u660e, \u6210\u7ee9\u63d0\u5347\u4e86 17.1%'\n\n\"{}://{}\".format(\"http\", \"www.baidu.com\")                 # 'http://www.baidu.com'\n\n\"{:0&gt;3d}\".format(1)                                       # \u88650\uff0c001\n\nr = 2.5\ns = 3.14 * r ** 2\nprint(f'The area of a circle with radius {r} is {s:.2f}') # The area of a circle with radius 2.5 is 19.62\n\n\ndata = {\"name\": \"HHB\", \"age\": 18}\npayload = \"\"\"\n{{\n    \"name\": \"{name}\",\n    \"age\": {age},\n}}\n\"\"\"\n\npayload.format(**data)\n</code></pre>"},{"location":"full-stack/coding/python/#_3","title":"\u6761\u4ef6\u5224\u65ad&amp;\u5faa\u73af","text":"<pre><code># \u6761\u4ef6\u5224\u65ad\nage = 20\nif age &gt;= 18:\n    print('your age is', age)\n    print('adult')\n\n\nage = 3\nif age &gt;= 18:\n    print('your age is', age)\n    print('adult')\nelse:\n    print('your age is', age)\n    print('teenager')\n\n\nage = 3\nif age &gt;= 18:\n    print('adult')\nelif age &gt;= 6:\n    print('teenager')\nelse:\n    print('kid')\n\n\n# \u5faa\u73af\nnames = ['Michael', 'Bob', 'Tracy']\nfor name in names:\n    print(name)\n\nsum = 0\nn = 99\nwhile n &gt; 0:\n    sum = sum + n\n    n = n - 2\nprint(sum)\n\n# break =&gt; \u9000\u51fa\u6574\u4e2a\u5faa\u73af\nn = 1\nwhile n &lt;= 100:\n    if n &gt; 10:\n        break\n    print(n)\n    n = n + 1\nprint('END')\n\n# continue =&gt; \u9000\u51fa\u5f53\u524d\u5faa\u73af\uff0c\u7ee7\u7eed\u4e0b\u4e00\u8f6e\u5faa\u73af\nn = 0\nwhile n &lt; 10:\n    n = n + 1\n    if n % 2 == 0:\n        continue\n    print(n)\n</code></pre>"},{"location":"full-stack/coding/python/#_4","title":"\u95ed\u5305","text":"<pre><code>from functools import reduce\n\ndef createCounter():\n    \"\"\"\u95ed\u5305\"\"\"\n    count = 0\n\n    def counter():\n        nonlocal count\n        count += 1\n        return count\n\n    return counter\n\ncounterA = createCounter()\nprint(counterA(), counterA(), counterA(), counterA(), counterA())\n</code></pre>"},{"location":"full-stack/coding/python/#functools","title":"functools","text":"<ul> <li>\u504f\u51fd\u6570</li> </ul> <pre><code>import functools\n\n# \u521b\u5efa\u504f\u51fd\u6570\u65f6\uff0c\u5b9e\u9645\u4e0a\u53ef\u4ee5\u63a5\u6536\u51fd\u6570\u5bf9\u8c61\u3001*args\u548c**kw\u8fd93\u4e2a\u53c2\u6570\n\nprint(int(\"11111\", base=2))\n\n# **kw\nint2 = functools.partial(int, base=2)  # \u5b9e\u9645\u4e0a\u56fa\u5b9a\u4e86int()\u51fd\u6570\u7684\u5173\u952e\u5b57\u53c2\u6570base\nprint(int2(\"11111\"))\n\n# *args\nmax2 = functools.partial(max, 10)  # \u5b9e\u9645\u4e0a\u4f1a\u628a10\u4f5c\u4e3a*args\u7684\u4e00\u90e8\u5206\u81ea\u52a8\u52a0\u5230\u5de6\u8fb9\nprint(max2(1, 7, 6))\nprint(max(10, 1, 7, 6))\n\n# functools.partial\u7684\u4f5c\u7528\u5c31\u662f\uff0c\u628a\u4e00\u4e2a\u51fd\u6570\u7684\u67d0\u4e9b\u53c2\u6570\u7ed9\u56fa\u5b9a\u4f4f\uff08\u4e5f\u5c31\u662f\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff09\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u8c03\u7528\u8fd9\u4e2a\u65b0\u51fd\u6570\u4f1a\u66f4\u7b80\u5355\n</code></pre>"},{"location":"full-stack/coding/python/#collections","title":"collections","text":"<ul> <li> <p>Counter</p> <pre><code>from collections import Counter\n\nCounter('chenkc') # =&gt; Counter({'c': 2, 'h': 1, 'e': 1, 'n': 1, 'k': 1})\n</code></pre> </li> <li> <p>namedtuple</p> <pre><code>from collections import namedtuple\nPoint = namedtuple('Point', ['x', 'y'])\np = Point(1, 2)\np.x # 1\np.y # 2\n</code></pre> </li> <li> <p>deque</p> <p>deque\u662f\u4e3a\u4e86\u9ad8\u6548\u5b9e\u73b0\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u7684\u53cc\u5411\u5217\u8868\uff0c\u9002\u5408\u7528\u4e8e\u961f\u5217\u548c\u6808</p> <pre><code>from collections import deque\nq = deque(['a', 'b', 'c'])\nq.append('x')\nq.appendleft('y')\nq # deque(['y', 'a', 'b', 'c', 'x'])\n</code></pre> </li> <li> <p>defaultdict</p> <p>\u4f7f\u7528dict\u65f6\uff0c\u5982\u679c\u5f15\u7528\u7684Key\u4e0d\u5b58\u5728\uff0c\u5c31\u4f1a\u629b\u51faKeyError\u3002\u5982\u679c\u5e0c\u671bkey\u4e0d\u5b58\u5728\u65f6\uff0c\u8fd4\u56de\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff0c\u5c31\u53ef\u4ee5\u7528defaultdict</p> <pre><code>from collections import defaultdict\ndd = defaultdict(lambda: 'N/A')\ndd['key1'] = 'abc'\ndd['key1'] # key1\u5b58\u5728, 'abc'\ndd['key2'] # key2\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de\u9ed8\u8ba4\u503c 'N/A'\n</code></pre> </li> <li> <p>OrderedDict</p> <p>OrderedDict\u7684Key\u4f1a\u6309\u7167\u63d2\u5165\u7684\u987a\u5e8f\u6392\u5217\uff0c\u4e0d\u662fKey\u672c\u8eab\u6392\u5e8f</p> <pre><code>from collections import OrderedDict\nd = dict([('a', 1), ('b', 2), ('c', 3)])\nd # dict\u7684Key\u662f\u65e0\u5e8f\u7684, {'a': 1, 'c': 3, 'b': 2}\nod = OrderedDict([('a', 1), ('b', 2), ('c', 3)])\nod # OrderedDict\u7684Key\u662f\u6709\u5e8f\u7684, OrderedDict([('a', 1), ('b', 2), ('c', 3)])\n</code></pre> </li> <li> <p>ChainMap</p> <p>ChainMap\u53ef\u4ee5\u628a\u4e00\u7ec4dict\u4e32\u8d77\u6765\u5e76\u7ec4\u6210\u4e00\u4e2a\u903b\u8f91\u4e0a\u7684dict\u3002ChainMap\u672c\u8eab\u4e5f\u662f\u4e00\u4e2adict\uff0c\u4f46\u662f\u67e5\u627e\u7684\u65f6\u5019\uff0c\u4f1a\u6309\u7167\u987a\u5e8f\u5728\u5185\u90e8\u7684dict\u4f9d\u6b21\u67e5\u627e\u3002</p> <pre><code>from collections import ChainMap\n\ncmd = {\"a\": \"cmd\"}\nenv = {\"a\": \"env\"}\ndefault = {\"a\": \"default\"}\n\nparam = ChainMap(cmd, env, default)\nprint(param[\"a\"]) # cmd\n\nparam = ChainMap(env, cmd, default)\nprint(param[\"a\"]) # env\n</code></pre> <p>NOTE:</p> <p>ChainMap \u53ef\u7528\u4e8e\u6309\u7279\u5b9a\u4f18\u5148\u7ea7\u53d6\u53c2</p> </li> </ul> <p></p>"},{"location":"full-stack/coding/python/#itertools","title":"itertools","text":"<pre><code>import itertools\n\n\nnatuals = itertools.count(1)\nfor n in natuals:\n    print(n)\n\n\ncs = itertools.cycle('ABC') # \u6ce8\u610f\u5b57\u7b26\u4e32\u4e5f\u662f\u5e8f\u5217\u7684\u4e00\u79cd\nfor c in cs:\n    print(c)\n\n\nns = itertools.repeat('A', 3)\nfor n in ns:\n    print(n)\n\n\nnatuals = itertools.count(1)\nns = itertools.takewhile(lambda x: x &lt;= 10, natuals)\nlist(ns) # [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\n\nfor c in itertools.chain('ABC', 'XYZ'):\n     print(c) # \u8fed\u4ee3\u6548\u679c\uff1a'A' 'B' 'C' 'X' 'Y' 'Z'\n\n\nfor key, group in itertools.groupby('AAABBBCCAAA'):\n    print(key, list(group))\n\n# A ['A', 'A', 'A']\n# B ['B', 'B', 'B']\n# C ['C', 'C']\n# A ['A', 'A', 'A']\n\nor key, group in itertools.groupby('AaaBBbcCAAa', lambda c: c.upper()):\n    print(key, list(group))\n\n# A ['A', 'a', 'a']\n# B ['B', 'B', 'b']\n# C ['c', 'C']\n# A ['A', 'A', 'a']\n\n\n# \u8ba1\u7b97\u5706\u5468\u7387\n\ndef pi(n):\n    odds = itertools.takewhile(lambda x: x &lt; 2 * n, itertools.count(1, 2))    \n    fac = itertools.cycle([1, -1])\n\n    sum = 0   \n    for i in odds:\n        sum += 4 * next(fac) / i\n    return sum\n</code></pre>"},{"location":"full-stack/coding/python/#_5","title":"\u9ad8\u9636\u51fd\u6570","text":"<pre><code># map\nprint(list(map(lambda x: x * x, range(10))))\nprint(list(map(str, range(10))))\n\n# reduce\nfrom functools import reduce\nprint(reduce(lambda x, y: x + y, range(10)))\n\n# filter\nprint(list(filter(lambda x: x % 2 == 1, range(10))))\nprint(list(filter(lambda x: str(x) == str(x)[::-1], range(122))))\n\nprint(sorted([2, 4, 1, -7, 6]))\nprint(sorted([2, 4, 1, -7, 6], key=abs))\nprint(sorted([\"a\", \"A\", \"b\", \"X\", \"y\", \"M\"], key=str.lower))\nprint(sorted([\"a\", \"A\", \"b\", \"X\", \"y\", \"M\"], key=str.lower, reverse=True))\nprint(sorted([(\"Bob\", 75), (\"Adam\", 92), (\"Bart\", 66), (\"Lisa\", 88)], key=lambda x: x[0]))\nprint(sorted([(\"Bob\", 75), (\"Adam\", 92), (\"Bart\", 66), (\"Lisa\", 88)], key=lambda x: x[1], reverse=True))\n</code></pre>"},{"location":"full-stack/coding/python/#_6","title":"\u533f\u540d\u51fd\u6570","text":"<pre><code>def f(x):\n    return x * x\n\nlambda x: x * x\n\nlist(map(lambda x: x * x, [1, 2, 3, 4, 5, 6, 7, 8, 9]))\n\ndef build(x, y):\n    return lambda: x * x + y * y\n</code></pre>"},{"location":"full-stack/coding/python/#_7","title":"\u88c5\u9970\u5668","text":"<pre><code>import functools\n\ndef log(func):\n    def wrapper(*args, **kw):\n        print(\"log\")\n        return func(*args, **kw)\n\n    return wrapper\n\ndef log2(text):\n    def decorator(func):\n        print(\"log2\", text, func.__name__)\n\n        @functools.wraps(func)\n        def wrapper(*args, **kw):\n            return func(*args, **kw)\n\n        return wrapper\n\n    return decorator\n\n@log\ndef now():\n    print(\"2015-3-25\")\n\n@log\ndef now1(a):\n    print(\"2015-3-25\", a)\n\n@log2(\"execute\")\ndef now2():\n    print(\"2015-3-25\")\n\nnow()\nnow1(\"param\")\nnow2()\n</code></pre>"},{"location":"full-stack/coding/python/#_8","title":"\u65e5\u671f\u65f6\u95f4","text":"<pre><code>from datetime import datetime as d\n\nformat = \"%Y-%m-%dT%H:%M:%S.%fZ\"\n\ntimestamp = 1528797322\ndate_time = d.fromtimestamp(timestamp)\nprint(date_time) # 2018-06-12 04:55:22\n\ndate_time = date_time.strftime(format)\nprint(date_time) # 2018-06-12T04:55:22.000000Z\n</code></pre>"},{"location":"full-stack/coding/python/#list","title":"\u5217\u8868(list)","text":"<p>list\u662f\u4e00\u79cd\u6709\u5e8f\u7684\u96c6\u5408\uff0c\u53ef\u4ee5\u968f\u65f6\u6dfb\u52a0\u548c\u5220\u9664\u5176\u4e2d\u7684\u5143\u7d20\uff0c\u5c5e\u4e8e\u53ef\u53d8\u5bf9\u8c61\u3002</p> <pre><code>a = [\"A\",\"B\",\"C\"]\nb = [\"A\",\"B\",\"C\", [1,2,3]]\n\na[0]\na[-1]\na[::-1]\nb[3][1]\n\nlen(a)\n\na + b\n\na.append(b)\n\na.insert(0,\"1\")\n\na.remove(\"A\")\n\na[0] = \"X\"\n\na.pop(1)\na.pop()\n\nlist(range(5)) # [0, 1, 2, 3, 4]\n\nfor i,v in enumerate(a):\n    print(i,v)\n</code></pre> <p></p>"},{"location":"full-stack/coding/python/#tuple","title":"\u5143\u7ec4(tuple)","text":"<p>tuple \u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6709\u5e8f\u5217\u8868\uff0c\u4e00\u65e6\u521d\u59cb\u5316\u5c31\u4e0d\u80fd\u4fee\u6539\uff0c\u5b83\u4e5f\u6ca1\u6709append()\uff0cinsert()\u8fd9\u6837\u7684\u65b9\u6cd5\uff0c\u4e0d\u80fd\u6839\u636e\u7d22\u5f15\u91cd\u65b0\u8d4b\u503c\u3002\u56e0\u4e3atuple\u4e0d\u53ef\u53d8\uff0c\u6240\u4ee5\u4ee3\u7801\u66f4\u5b89\u5168\u3002</p> <pre><code>t = ()\nt = (1,)\nt = (1,2)\n\nlen(t)\n\nt[0]\nt[0]=1 # TypeError: 'tuple' object does not support item assignment\n\n\n# \u201c\u53ef\u53d8\u7684\u201dtuple\nt = ('a', 'b', ['A', 'B'])\n\nt[2][0]=\"X\"\nt[2][1]=\"Y\"\n\n# t =&gt; ('a', 'b', ['X', 'Y'])\n\n# NOTE: \u8868\u9762\u4e0a\u770b\uff0ctuple\u7684\u5143\u7d20\u786e\u5b9e\u53d8\u4e86\uff0c\u4f46\u5176\u5b9e\u53d8\u7684\u4e0d\u662ftuple\u7684\u5143\u7d20\uff0c\u800c\u662flist\u7684\u5143\u7d20\u3002\n# tuple\u4e00\u5f00\u59cb\u6307\u5411\u7684list\u5e76\u6ca1\u6709\u6539\u6210\u522b\u7684list\uff0c\u6240\u4ee5\uff0ctuple\u6240\u8c13\u7684\u201c\u4e0d\u53d8\u201d\u662f\u8bf4\uff0ctuple\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u6307\u5411\u6c38\u8fdc\u4e0d\u53d8\u3002\n# \u5373\u6307\u5411'a'\uff0c\u5c31\u4e0d\u80fd\u6539\u6210# \u6307\u5411'b'\uff0c\u6307\u5411\u4e00\u4e2alist\uff0c\u5c31\u4e0d\u80fd\u6539\u6210\u6307\u5411\u5176\u4ed6\u5bf9\u8c61\uff0c\u4f46\u6307\u5411\u7684\u8fd9\u4e2alist\u672c\u8eab\u662f\u53ef\u53d8\u7684\uff01\n# \u7406\u89e3\u4e86\u201c\u6307\u5411\u4e0d\u53d8\u201d\u540e\uff0c\u8981\u521b\u5efa\u4e00\u4e2a\u5185\u5bb9\u4e5f\u4e0d\u53d8\u7684tuple\u600e\u4e48\u505a\uff1f\u90a3\u5c31\u5fc5\u987b\u4fdd\u8bc1tuple\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u672c\u8eab\u4e5f\u4e0d\u80fd\u53d8\u3002\n\n\nfor i,v in enumerate(t):\n    print(i,v)\n</code></pre> <p></p>"},{"location":"full-stack/coding/python/#dict","title":"\u5b57\u5178(dict)","text":"<pre><code>a = {'device_type': 'cisco_ios', 'username': 'admin', 'password': 'cisco'}\nb = {'name': 'r1'}\n\n# \u65b9\u5f0f\u4e00\nfor k, v in a.items():\n    b[k] =  v\n\n# \u65b9\u5f0f\u4e8c\nb.update(a)\n\n# \u65b9\u5f0f\u4e09\ndict(b, **a)\n\n# \u65b9\u5f0f\u56db\nb = {**a, **b}\n\n\n\"name\" in b\n\nb[\"name\"]\nb.get(\"name\", \"\")\n\nb.pop(\"name\")\n\n\ndict(a=1, b=2, c=3) # {'a': 1, 'b': 2, 'c': 3}\n\n\nfor key in a:\n    print(key)\n\nfor k in a.keys():\n    print(k)\n\nfor v in a.values():\n    print(v)\n\nfor k,v in a.items():\n    print(k, v)\n</code></pre> <p>NOTE: 1.dict\u7684key\u5fc5\u987b\u662f\u4e0d\u53ef\u53d8\u5bf9\u8c61 2.dict\u5185\u90e8\u5b58\u653e\u7684\u987a\u5e8f\u548ckey\u653e\u5165\u7684\u987a\u5e8f\u662f\u6ca1\u6709\u5173\u7cfb\u7684</p> <p></p>"},{"location":"full-stack/coding/python/#set","title":"\u96c6\u5408(set)","text":"<p>set\u548cdict\u7c7b\u4f3c\uff0c\u4e5f\u662f\u4e00\u7ec4key\u7684\u96c6\u5408\uff0c\u4f46\u4e0d\u5b58\u50a8value\u3002\u7531\u4e8ekey\u4e0d\u80fd\u91cd\u590d\uff0c\u6240\u4ee5\uff0c\u5728set\u4e2d\uff0c\u6ca1\u6709\u91cd\u590d\u7684key\u3002set\u53ef\u4ee5\u770b\u6210\u6570\u5b66\u610f\u4e49\u4e0a\u7684\u65e0\u5e8f\u548c\u65e0\u91cd\u590d\u5143\u7d20\u7684\u96c6\u5408\u3002</p> <pre><code>s = set()\ns = set([1, 2, 3])\ns = {1, 2, 3}\n\n# \u901a\u8fc7add(key)\u65b9\u6cd5\u53ef\u4ee5\u6dfb\u52a0\u5143\u7d20\u5230set\u4e2d\uff0c\u53ef\u4ee5\u91cd\u590d\u6dfb\u52a0\uff0c\u4f46\u4e0d\u4f1a\u6709\u6548\u679c\ns.add(4)\ns.add(4)\ns.remove(4)\n\n\n{1, 2, 3, 3, 4, 4} # {1, 2, 3, 4} =&gt; \u81ea\u52a8\u53bb\u91cd\n\n\ns1 = {1, 2, 3}\ns2 = {2, 3, 4}\n\ns1 &amp; s2 # \u4ea4\u96c6, {2, 3}\ns1 | s2 # \u5e76\u96c6, {1, 2, 3, 4}\ns1 - s2 # \u5dee\u96c6, {1}\ns1 ^ s2 # \u8865\u96c6, {1, 4}\n\n\nparent = {1, 2, 3, 4}\nchild = {1, 2}\n\nchild.issubset(parent)   # True\nparent.issuperset(child) # True\n</code></pre> <p></p>"},{"location":"full-stack/coding/python/#_9","title":"\u4e0d\u53ef\u53d8\u5bf9\u8c61","text":"<pre><code># list \u4e3a\u53ef\u53d8\u5bf9\u8c61\uff0c\u7ecf\u8fc7\u6392\u5e8f\u540e\u5185\u5bb9\u6539\u53d8\na = ['c', 'b', 'a']\na.sort()\na # ['a', 'b', 'c']\n\n\n# \u5b57\u7b26\u4e32\u4e3a\u4e0d\u53ef\u53d8\u5bf9\u8c61\uff0c\u8c03\u7528\u76f8\u5173\u65b9\u6cd5\u540e\u539f\u59cb\u503c\u4e0d\u53d8\na = 'abc'\na.replace('a', 'A') # 'Abc'\na                   # 'abc'\n\n# \u5bf9\u4e8e\u4e0d\u53d8\u5bf9\u8c61\u6765\u8bf4\uff0c\u8c03\u7528\u5bf9\u8c61\u81ea\u8eab\u7684\u4efb\u610f\u65b9\u6cd5\uff0c\u4e5f\u4e0d\u4f1a\u6539\u53d8\u8be5\u5bf9\u8c61\u81ea\u8eab\u7684\u5185\u5bb9\u3002\u76f8\u53cd\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\u5e76\u8fd4\u56de\uff0c\u8fd9\u6837\uff0c\u5c31\u4fdd\u8bc1\u4e86\u4e0d\u53ef\u53d8\u5bf9\u8c61\u672c\u8eab\u6c38\u8fdc\u662f\u4e0d\u53ef\u53d8\u7684\na = 'abc'\nb = a.replace('a', 'A')\nb # 'Abc'\na # 'abc'\n\n# \u5f53\u6211\u4eec\u8c03\u7528a.replace('a', 'A')\u65f6\uff0c\u5b9e\u9645\u4e0a\u8c03\u7528\u65b9\u6cd5replace\u662f\u4f5c\u7528\u5728\u5b57\u7b26\u4e32\u5bf9\u8c61'abc'\u4e0a\u7684\uff0c\u800c\u8fd9\u4e2a\u65b9\u6cd5\u867d\u7136\u540d\u5b57\u53ebreplace\uff0c\u4f46\u5374\u6ca1\u6709\u6539\u53d8\u5b57\u7b26\u4e32'abc'\u7684\u5185\u5bb9\u3002\n# \u76f8\u53cd\uff0creplace\u65b9\u6cd5\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u5b57\u7b26\u4e32'Abc'\u5e76\u8fd4\u56de\uff0c\u5982\u679c\u6211\u4eec\u7528\u53d8\u91cfb\u6307\u5411\u8be5\u65b0\u5b57\u7b26\u4e32\uff0c\u5c31\u5bb9\u6613\u7406\u89e3\u4e86\uff0c\u53d8\u91cfa\u4ecd\u6307\u5411\u539f\u6709\u7684\u5b57\u7b26\u4e32'abc'\uff0c\u4f46\u53d8\u91cfb\u5374\u6307\u5411\u65b0\u5b57\u7b26\u4e32'Abc'\u4e86\n</code></pre>"},{"location":"full-stack/coding/python/#_10","title":"\u51fd\u6570","text":"<pre><code>help(abs)\n\nabs(10)\nmax(2, 3, 1, -5)\nsum([1,2,3])\n\nint('123')\nfloat('12.34')\nstr(123)\nbool(1)\n\n\ndef emptyfunc():\n    pass\n\n\n# \u8fd4\u56de\u5355\u4e2a\u503c\ndef my_abs(x):\n    if not isinstance(x, (int, float)):\n        raise TypeError('bad operand type')\n    if x &gt;= 0:\n        return x\n    else:\n        return -x\n\n# \u8fd4\u56de\u591a\u4e2a\u503c(tuple)\nimport math\ndef move(x, y, step, angle=0):\n    nx = x + step * math.cos(angle)\n    ny = y - step * math.sin(angle)\n    return nx, ny\n\n\n# \u9ed8\u8ba4\u53c2\u6570\ndef add(x, y=1):\n    return x + y\n\nadd(1)\nadd(1, 3)\n\n# \u5b9a\u4e49\u9ed8\u8ba4\u53c2\u6570\u8981\u7262\u8bb0\u4e00\u70b9\uff1a\u9ed8\u8ba4\u53c2\u6570\u5fc5\u987b\u6307\u5411\u4e0d\u53d8\u5bf9\u8c61\uff01\ndef add_end(L=[]):\n    L.append('END')\n    return L\n\ndef add_end(L=None):\n    if L is None:\n        L = []\n    L.append('END')\n    return L\n\n\n# \u53ef\u53d8\u53c2\u6570\ndef calc(*numbers):\n    sum = 0\n    for n in numbers:\n        sum = sum + n * n\n    return sum\n\n# Python\u5141\u8bb8\u4f60\u5728list\u6216tuple\u524d\u9762\u52a0\u4e00\u4e2a*\u53f7\uff0c\u628alist\u6216tuple\u7684\u5143\u7d20\u53d8\u6210\u53ef\u53d8\u53c2\u6570\u4f20\u8fdb\u53bb\ncalc(*[1, 2])\ncalc(*(1, 2))\n\ncalc(1, 2)\ncalc()\n\n\n# \u5173\u952e\u5b57\u53c2\u6570\ndef person(name, age, **kw):\n    print('name:', name, 'age:', age, 'other:', kw)\n\nperson('Michael', 30)\nperson('Bob', 35, city='Beijing')\nperson('Adam', 45, gender='M', job='Engineer')\n\n# **extra\u8868\u793a\u628aextra\u8fd9\u4e2adict\u7684\u6240\u6709key-value\u7528\u5173\u952e\u5b57\u53c2\u6570\u4f20\u5165\u5230\u51fd\u6570\u7684**kw\u53c2\u6570\uff0ckw\u5c06\u83b7\u5f97\u4e00\u4e2adict\uff0c\u6ce8\u610fkw\u83b7\u5f97\u7684dict\u662fextra\u7684\u4e00\u4efd\u62f7\u8d1d\uff0c\u5bf9kw\u7684\u6539\u52a8\u4e0d\u4f1a\u5f71\u54cd\u5230\u51fd\u6570\u5916\u7684extra\nextra = {'city': 'Beijing', 'job': 'Engineer'}\nperson('Jack', 24, **extra)\n\n\n# \u547d\u540d\u5173\u952e\u5b57\u53c2\u6570\n\n# \u5982\u679c\u8981\u9650\u5236\u5173\u952e\u5b57\u53c2\u6570\u7684\u540d\u5b57\uff0c\u5c31\u53ef\u4ee5\u7528\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570\uff0c\u4f8b\u5982\uff0c\u53ea\u63a5\u6536city\u548cjob\u4f5c\u4e3a\u5173\u952e\u5b57\u53c2\u6570\u3002\u8fd9\u79cd\u65b9\u5f0f\u5b9a\u4e49\u7684\u51fd\u6570\u5982\u4e0b\uff1a\ndef person(name, age, *, city, job):\n    print(name, age, city, job)\n\nperson('Jack', 24, city='Beijing', job='Engineer')\n\n\n# \u5982\u679c\u51fd\u6570\u5b9a\u4e49\u4e2d\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u53ef\u53d8\u53c2\u6570\uff0c\u540e\u9762\u8ddf\u7740\u7684\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570\u5c31\u4e0d\u518d\u9700\u8981\u4e00\u4e2a\u7279\u6b8a\u5206\u9694\u7b26*\u4e86\uff1a\ndef person(name, age, *args, city, job):\n    print(name, age, args, city, job)\n\n\n# \u547d\u540d\u5173\u952e\u5b57\u53c2\u6570\u53ef\u4ee5\u6709\u7f3a\u7701\u503c\uff0c\u4ece\u800c\u7b80\u5316\u8c03\u7528\uff1a\ndef person(name, age, *, city='Beijing', job):\n    print(name, age, city, job)\n\nperson('Jack', 24, job='Engineer')\n\n\n# \u53c2\u6570\u7ec4\u5408\ndef f1(a, b, c=0, *args, **kw):\n    print('a =', a, 'b =', b, 'c =', c, 'args =', args, 'kw =', kw)\n\ndef f2(a, b, c=0, *, d, **kw):\n    print('a =', a, 'b =', b, 'c =', c, 'd =', d, 'kw =', kw)\n\nf1(1, 2)                    # a = 1 b = 2 c = 0 args = () kw = {}\nf1(1, 2, c=3)               # a = 1 b = 2 c = 3 args = () kw = {}\nf1(1, 2, 3, 'a', 'b')       # a = 1 b = 2 c = 3 args = ('a', 'b') kw = {}\nf1(1, 2, 3, 'a', 'b', x=99) # a = 1 b = 2 c = 3 args = ('a', 'b') kw = {'x': 99}\nf2(1, 2, d=99, ext=None)    # a = 1 b = 2 c = 0 d = 99 kw = {'ext': None}\n\n\n# \u6700\u795e\u5947\u7684\u662f\u901a\u8fc7\u4e00\u4e2atuple\u548cdict\uff0c\u4f60\u4e5f\u53ef\u4ee5\u8c03\u7528\u4e0a\u8ff0\u51fd\u6570\uff1a\nargs = (1, 2, 3, 4)\nkw = {'d': 99, 'x': '#'}\nf1(*args, **kw) # a = 1 b = 2 c = 3 args = (4,) kw = {'d': 99, 'x': '#'}\n\nargs = (1, 2, 3)\nkw = {'d': 88, 'x': '#'}\nf2(*args, **kw) # a = 1 b = 2 c = 3 d = 88 kw = {'x': '#'}\n\n\n# \u9012\u5f52\u51fd\u6570\n# Demo: \u8ba1\u7b97\u9636\u4e58 fact(n)=n!=1\u00d72\u00d73\u00d7\u22c5\u22c5\u22c5\u00d7(n\u22121)\u00d7n=(n\u22121)!\u00d7n=fact(n\u22121)\u00d7n\ndef fact(n):\n    if n==1:\n        return 1\n    return n * fact(n - 1)\n\nfact(5)\n\n# Demo: \u9012\u5f52\u67e5\u8be2\u6587\u4ef6\n\ndef filter_file(path: str, pattern: str) -&gt; list:\n    return sorted([str(file) for file in Path(path).glob(pattern)])\n\ndef recursive_query_file(path: str, pattern: str) -&gt; list:\n\n    result = []\n\n    def recursive(path: str, pattern: str):\n        nonlocal result\n\n        path = Path(path)\n\n        result += filter_file(path, pattern)\n\n        sub_folders = [folder for folder in path.iterdir() if folder.is_dir()]\n\n        if sub_folders:\n            for folder in sub_folders:\n                recursive(folder, pattern)\n        else:\n            return result\n\n    recursive(path, pattern)\n\n    return result\n\n\n# \u5c3e\u9012\u5f52\ndef fact(n):\n    return fact_iter(n, 1)\n\ndef fact_iter(num, product):\n    if num == 1:\n        return product\n    return fact_iter(num - 1, num * product)\n</code></pre> <p>NOTE:</p> <p>1.\u5bf9\u4e8e\u4efb\u610f\u51fd\u6570\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u7c7b\u4f3cfunc(args, *kw)\u7684\u5f62\u5f0f\u8c03\u7528\u5b83\uff0c\u65e0\u8bba\u5b83\u7684\u53c2\u6570\u662f\u5982\u4f55\u5b9a\u4e49\u7684</p> <p>2.\u867d\u7136\u53ef\u4ee5\u7ec4\u5408\u591a\u8fbe5\u79cd\u53c2\u6570\uff0c\u4f46\u4e0d\u8981\u540c\u65f6\u4f7f\u7528\u592a\u591a\u7684\u7ec4\u5408\uff0c\u5426\u5219\u51fd\u6570\u63a5\u53e3\u7684\u53ef\u7406\u89e3\u6027\u5f88\u5dee</p> <p>3.Python\u6807\u51c6\u7684\u89e3\u91ca\u5668\u6ca1\u6709\u9488\u5bf9\u5c3e\u9012\u5f52\u505a\u4f18\u5316\uff0c\u4efb\u4f55\u9012\u5f52\u51fd\u6570\u90fd\u5b58\u5728\u6808\u6ea2\u51fa\u7684\u95ee\u9898</p> <p></p>"},{"location":"full-stack/coding/python/#_11","title":"\u9ad8\u7ea7\u7279\u6027","text":"<ul> <li> <p>\u5207\u7247</p> <pre><code>L = ['Michael', 'Sarah', 'Tracy', 'Bob', 'Jack']\n\nL[0:3] # ['Michael', 'Sarah', 'Tracy']\nL[:3]  # ['Michael', 'Sarah', 'Tracy']\n\nL[-2:]   # ['Bob', 'Jack']\nL[-2:-1] # ['Bob']\n\nL = list(range(100))\nL[:10]   # \u524d10\u4e2a\u6570, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nL[-10:]  # \u540e10\u4e2a\u6570\uff0c[90, 91, 92, 93, 94, 95, 96, 97, 98, 99]\nL[10:20] # \u524d 11 - 20 \u4e2a\u6570\uff0c[10, 11, 12, 13, 14, 15, 16, 17, 18, 19]\nL[:10:2] # \u524d10\u4e2a\u6570\uff0c\u6bcf\u9694\u4e24\u4e2a\u53d6\u4e00\u4e2a\uff0c[0, 2, 4, 6, 8]\nL[::5]   # \u6240\u6709\u6570\uff0c\u6bcf5\u4e2a\u53d6\u4e00\u4e2a\uff0c[0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95]\nL[::-1]  # \u9006\u5e8f\u8f93\u51fa\u5217\u8868\u6240\u6709\u6570\nL[:]     # \u6240\u6709\u6570\n\n# \u5143\u7ec4\u5207\u7247\n(0, 1, 2, 3, 4, 5)[:3] # (0, 1, 2)\n\n# \u5b57\u7b26\u4e32\u5207\u7247\n'ABCDEFG'[:3]          # 'ABC'\n\n# \u4f7f\u7528\u5207\u7247\u5b8c\u6210 trim \u51fd\u6570\uff08\u53bb\u9664\u9996\u5c3e\u7a7a\u683c\uff09\ndef trim(s):\n    while len(s) &gt;= 1 and s[0] == ' ':\n        s = s[1:]\n    while len(s) &gt;= 1 and s[-1:] == ' ':\n        s = s[:-1]\n    return s\n</code></pre> </li> <li> <p>\u8fed\u4ee3</p> <p>\u5982\u679c\u7ed9\u5b9a\u4e00\u4e2alist\u6216tuple\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7for\u5faa\u73af\u6765\u904d\u5386\u8fd9\u4e2alist\u6216tuple\uff0c\u8fd9\u79cd\u904d\u5386\u6211\u4eec\u79f0\u4e3a\u8fed\u4ee3\uff08Iteration\uff09\u3002</p> <pre><code>for i in range(10):\n    print(i)\n\nfor char in \"ABCD\":\n    print(char)\n\nfor i, value in enumerate(['A', 'B', 'C']):\n    print(i, value)\n\nfrom collections.abc import Iterable\nisinstance(\"ABCD\", Iterable)    # True\nisinstance([1,2,3,4], Iterable) # True\nisinstance(123, Iterable)       # False\n</code></pre> </li> <li> <p>\u751f\u6210\u5668(generator)</p> <p>\u5728Python\u4e2d\uff0c\u8fd9\u79cd\u4e00\u8fb9\u5faa\u73af\u4e00\u8fb9\u8ba1\u7b97\u7684\u673a\u5236\uff0c\u79f0\u4e3a\u751f\u6210\u5668\uff1agenerator\u3002\u8981\u521b\u5efa\u4e00\u4e2agenerator\uff0c\u6709\u5f88\u591a\u79cd\u65b9\u6cd5\u3002\u7b2c\u4e00\u79cd\u65b9\u6cd5\u5f88\u7b80\u5355\uff0c\u53ea\u8981\u628a\u4e00\u4e2a\u5217\u8868\u751f\u6210\u5f0f\u7684[]\u6539\u6210()\uff0c\u5c31\u521b\u5efa\u4e86\u4e00\u4e2agenerator</p> <pre><code>L = [x * x for x in range(10)] # \u5217\u8868\ng = (x * x for x in range(10)) # \u751f\u6210\u5668\n\nfor v in g:\n    print(v)\n\n\n# \u6590\u6ce2\u62c9\u5951\u6570\u5217(Fibonacci)\ndef fib(data):\n    n, a, b = 0, 0, 1\n\n    while n &lt; data:\n        yield b\n        a, b = b, a + b\n        n = n + 1\n\n# \u5982\u679c\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u4e2d\u5305\u542byield\u5173\u952e\u5b57\uff0c\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u5c31\u4e0d\u518d\u662f\u4e00\u4e2a\u666e\u901a\u51fd\u6570\uff0c\u800c\u662f\u4e00\u4e2agenerator\u51fd\u6570\uff0c\u8c03\u7528\u4e00\u4e2agenerator\u51fd\u6570\u5c06\u8fd4\u56de\u4e00\u4e2agenerator\n\n# \u6768\u8f89\u4e09\u89d2\n          1\n         / \\\n        1   1\n       / \\ / \\\n      1   2   1\n     / \\ / \\ / \\\n    1   3   3   1\n   / \\ / \\ / \\ / \\\n  1   4   6   4   1\n / \\ / \\ / \\ / \\ / \\\n1   5   10  10  5   1\n\ndef triangles(data):\n    n = 0\n    L = [1]\n\n    while n &lt; data:\n        yield L\n        L = [1] + [L[n] + L[n+1] for n in range(len(L) - 1)] + [1]\n        n = n + 1\n</code></pre> </li> <li> <p>\u8fed\u4ee3\u5668</p> <p>\u53ef\u4ee5\u88abnext()\u51fd\u6570\u8c03\u7528\u5e76\u4e0d\u65ad\u8fd4\u56de\u4e0b\u4e00\u4e2a\u503c\u7684\u5bf9\u8c61\u79f0\u4e3a\u8fed\u4ee3\u5668\uff1aIterator</p> <pre><code>from collections.abc import Iterator\n\nisinstance((x for x in range(10)), Iterator) # True\nisinstance([], Iterator)                     # False\nisinstance({}, Iterator)                     # False\nisinstance('abc', Iterator)                  # False\n\n# \u751f\u6210\u5668\u90fd\u662fIterator\u5bf9\u8c61\uff0c\u4f46list\u3001dict\u3001str\u867d\u7136\u662fIterable\uff0c\u5374\u4e0d\u662fIterator\n# \u628alist\u3001dict\u3001str\u7b49Iterable\u53d8\u6210Iterator\u53ef\u4ee5\u4f7f\u7528iter()\u51fd\u6570\nisinstance(iter([]), Iterator)    # True\nisinstance(iter('abc'), Iterator) # True\n</code></pre> <p>NOTE:</p> <p>Iterator\u751a\u81f3\u53ef\u4ee5\u8868\u793a\u4e00\u4e2a\u65e0\u9650\u5927\u7684\u6570\u636e\u6d41\uff0c\u4f8b\u5982\u5168\u4f53\u81ea\u7136\u6570\u3002\u800c\u4f7f\u7528list\u662f\u6c38\u8fdc\u4e0d\u53ef\u80fd\u5b58\u50a8\u5168\u4f53\u81ea\u7136\u6570\u7684</p> </li> </ul> <p></p>"},{"location":"full-stack/coding/python/#_12","title":"\u5217\u8868\u63a8\u5bfc\u5f0f","text":"<pre><code>data = list(range(1, 11))\n\n[x * x for x in range(1, 11)]\n\n[x * x for x in range(1, 11) if x % 2 == 0]\n\n[x if x % 2 == 0 else -x for x in range(1, 11)]\n\n[m + n for m in 'ABC' for n in 'XYZ']\n\nimport os\n[d for d in os.listdir('.')]\n</code></pre>"},{"location":"full-stack/coding/python/#_13","title":"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b","text":"<ul> <li> <p>\u7c7b\u548c\u5b9e\u4f8b     <pre><code>class Student(object):\n\n    def __init__(self, name, score):\n        self.name = name\n        self.score = score\n\n\nbart = Student('Bart Simpson', 59)\n</code></pre></p> </li> <li> <p>\u7ee7\u627f\u548c\u591a\u6001     <pre><code>class Animal(object):\n    def run(self):\n        print('Animal is running...')\n\nclass Dog(Animal):\n\n    def run(self):\n        print('Dog is running...')\n\nclass Cat(Animal):\n\n    def run(self):\n        print('Cat is running...')\n\n\n# \u65b0\u589e\u4e00\u4e2aAnimal\u7684\u5b50\u7c7b\uff0c\u4e0d\u5fc5\u5bf9run_twice()\u505a\u4efb\u4f55\u4fee\u6539\uff0c\u5b9e\u9645\u4e0a\uff0c\u4efb\u4f55\u4f9d\u8d56Animal\u4f5c\u4e3a\u53c2\u6570\u7684\u51fd\u6570\u6216\u8005\u65b9\u6cd5\u90fd\u53ef\u4ee5\u4e0d\u52a0\u4fee\u6539\u5730\u6b63\u5e38\u8fd0\u884c\uff0c\u539f\u56e0\u5c31\u5728\u4e8e\u591a\u6001\ndef run(animal):\n    animal.run()\n\nrun(Animal()) # Animal is running...\nrun(Dog())    # Dog is running...\nrun(Cat())    # Cat is running...\n</code></pre></p> </li> <li> <p>\u5b9e\u4f8b\u5c5e\u6027\u548c\u7c7b\u5c5e\u6027     <pre><code>class Student(object):\n    country = \"China\"\n\n    def __init__(self, name):\n        self.name = name\n</code></pre></p> <p>NOTE:</p> <p>\u5728\u7f16\u5199\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u5343\u4e07\u4e0d\u8981\u5bf9\u5b9e\u4f8b\u5c5e\u6027\u548c\u7c7b\u5c5e\u6027\u4f7f\u7528\u76f8\u540c\u7684\u540d\u5b57\uff0c\u56e0\u4e3a\u76f8\u540c\u540d\u79f0\u7684\u5b9e\u4f8b\u5c5e\u6027\u5c06\u5c4f\u853d\u6389\u7c7b\u5c5e\u6027\uff0c\u4f46\u662f\u5f53\u4f60\u5220\u9664\u5b9e\u4f8b\u5c5e\u6027\u540e\uff0c\u518d\u4f7f\u7528\u76f8\u540c\u7684\u540d\u79f0\uff0c\u8bbf\u95ee\u5230\u7684\u5c06\u662f\u7c7b\u5c5e\u6027</p> </li> <li> <p>\u591a\u91cd\u7ee7\u627f(MixIn)</p> <p>MixIn\u7684\u76ee\u7684\u5c31\u662f\u7ed9\u4e00\u4e2a\u7c7b\u589e\u52a0\u591a\u4e2a\u529f\u80fd\uff0c\u8fd9\u6837\uff0c\u5728\u8bbe\u8ba1\u7c7b\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f18\u5148\u8003\u8651\u901a\u8fc7\u591a\u91cd\u7ee7\u627f\u6765\u7ec4\u5408\u591a\u4e2aMixIn\u7684\u529f\u80fd\uff0c\u800c\u4e0d\u662f\u8bbe\u8ba1\u591a\u5c42\u6b21\u7684\u590d\u6742\u7684\u7ee7\u627f\u5173\u7cfb\u3002</p> <pre><code>class Animal(object):\n    pass\n\n# \u5927\u7c7b:\nclass Mammal(Animal):\n    pass\n\nclass Bird(Animal):\n    pass\n\n# \u5404\u79cd\u52a8\u7269:\nclass Dog(Mammal):\n    pass\n\nclass Bat(Mammal):\n    pass\n\nclass Parrot(Bird):\n    pass\n\nclass Ostrich(Bird):\n    pass\n\n\nclass RunnableMixIn(object):\n    def run(self):\n        print('Running...')\n\nclass FlyableMixIn(object):\n    def fly(self):\n        print('Flying...')\n\n\nclass Dog(Mammal, RunnableMixIn, CarnivorousMixIn):\n    pass\n</code></pre> </li> <li> <p>\u679a\u4e3e\u7c7b(Enum)</p> <p>Enum\u53ef\u4ee5\u628a\u4e00\u7ec4\u76f8\u5173\u5e38\u91cf\u5b9a\u4e49\u5728\u4e00\u4e2aclass\u4e2d\uff0c\u4e14class\u4e0d\u53ef\u53d8\uff0c\u800c\u4e14\u6210\u5458\u53ef\u4ee5\u76f4\u63a5\u6bd4\u8f83\u3002</p> <pre><code>from enum import Enum, unique\n\nclass Gender(Enum):\n    Male = 0\n    Female = 1\n\n# @unique\u88c5\u9970\u5668\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u68c0\u67e5\u4fdd\u8bc1\u6ca1\u6709\u91cd\u590d\u503c\n@unique\nclass Weekday(Enum):\n    Sun = 0\n    Mon = 1\n    Tue = 2\n    Wed = 3\n    Thu = 4\n    Fri = 5\n    Sat = 6\n\n\nprint(Weekday.Tue)       # Weekday.Tue\nprint(Weekday['Tue'])    # Weekday.Tue\nprint(Weekday.Tue.name)  # Tue\nprint(Weekday.Tue.value) # 2\nprint(Weekday(1))        # Weekday.Mon\n\n\nfor data in Weekday:\n    print(data.name, data.value)\n</code></pre> </li> <li> <p>\u5f02\u5e38\u5904\u7406     <pre><code>try:\n    print('try...')\n    r = 10 / int('2')\n    print('result:', r)\nexcept ValueError as e:\n    print('ValueError:', e)\nexcept ZeroDivisionError as e:\n    print('ZeroDivisionError:', e)\nelse:\n    print('no error!')\nfinally:\n    print('finally...')\nprint('END')\n\n\n# \u81ea\u5b9a\u4e49\u5f02\u5e38\u548c\u629b\u51fa\u5f02\u5e38\nclass FooError(ValueError):\n    pass\n\ndef foo(s):\n    n = int(s)\n    if n==0:\n        raise FooError('invalid value: %s' % s)\n    return 10 / n\n\nfoo('0')\n</code></pre></p> </li> <li> <p>slots <pre><code>class Student(object):\n    __slots__ = ('name', 'age')\n</code></pre></p> <p>NOTE:</p> <p>Python\u5141\u8bb8\u5728\u5b9a\u4e49class\u7684\u65f6\u5019\uff0c\u5b9a\u4e49\u4e00\u4e2a\u7279\u6b8a\u7684__slots__\u53d8\u91cf\uff0c\u6765\u9650\u5236\u8be5class\u5b9e\u4f8b\u80fd\u6dfb\u52a0\u7684\u5c5e\u6027</p> </li> <li> <p>@property</p> <pre><code>class Student(object):\n\n    @property\n    def birth(self):\n        return self._birth\n\n    @birth.setter\n    def birth(self, value):\n        self._birth = value\n\n    @property\n    def age(self):\n        return 2015 - self._birth\n</code></pre> <p>NOTE:</p> <p>\u53ea\u5b9a\u4e49getter\u65b9\u6cd5\uff0c\u4e0d\u5b9a\u4e49setter\u65b9\u6cd5\u5c31\u662f\u4e00\u4e2a\u53ea\u8bfb\u5c5e\u6027</p> </li> </ul> <p></p>"},{"location":"full-stack/coding/python/#io","title":"IO \u7f16\u7a0b","text":"<ul> <li> <p>\u6587\u4ef6\u8bfb\u5199</p> \u6a21\u5f0f \u63cf\u8ff0 t \u6587\u672c\u6a21\u5f0f (\u9ed8\u8ba4) x \u5199\u6a21\u5f0f\uff0c\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\uff0c\u5982\u679c\u8be5\u6587\u4ef6\u5df2\u5b58\u5728\u5219\u4f1a\u62a5\u9519 b \u4e8c\u8fdb\u5236\u6a21\u5f0f + \u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u66f4\u65b0(\u53ef\u8bfb\u53ef\u5199) U \u901a\u7528\u6362\u884c\u6a21\u5f0f\uff08\u4e0d\u63a8\u8350\uff09 r \u4ee5\u53ea\u8bfb\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6\u3002\u6587\u4ef6\u7684\u6307\u9488\u5c06\u4f1a\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\u3002\u8fd9\u662f\u9ed8\u8ba4\u6a21\u5f0f rb \u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u7528\u4e8e\u53ea\u8bfb\u3002\u6587\u4ef6\u6307\u9488\u5c06\u4f1a\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\u3002\u8fd9\u662f\u9ed8\u8ba4\u6a21\u5f0f\u3002\u4e00\u822c\u7528\u4e8e\u975e\u6587\u672c\u6587\u4ef6\u5982\u56fe\u7247\u7b49 r+ \u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u7528\u4e8e\u8bfb\u5199\u3002\u6587\u4ef6\u6307\u9488\u5c06\u4f1a\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934 rb+ \u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u7528\u4e8e\u8bfb\u5199\u3002\u6587\u4ef6\u6307\u9488\u5c06\u4f1a\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\u3002\u4e00\u822c\u7528\u4e8e\u975e\u6587\u672c\u6587\u4ef6\u5982\u56fe\u7247\u7b49 w \u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u53ea\u7528\u4e8e\u5199\u5165\u3002\u5982\u679c\u8be5\u6587\u4ef6\u5df2\u5b58\u5728\u5219\u6253\u5f00\u6587\u4ef6\uff0c\u5e76\u4ece\u5f00\u5934\u5f00\u59cb\u7f16\u8f91\uff0c\u5373\u539f\u6709\u5185\u5bb9\u4f1a\u88ab\u5220\u9664\u3002\u5982\u679c\u8be5\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u521b\u5efa\u65b0\u6587\u4ef6 wb \u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u53ea\u7528\u4e8e\u5199\u5165\u3002\u5982\u679c\u8be5\u6587\u4ef6\u5df2\u5b58\u5728\u5219\u6253\u5f00\u6587\u4ef6\uff0c\u5e76\u4ece\u5f00\u5934\u5f00\u59cb\u7f16\u8f91\uff0c\u5373\u539f\u6709\u5185\u5bb9\u4f1a\u88ab\u5220\u9664\u3002\u5982\u679c\u8be5\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u521b\u5efa\u65b0\u6587\u4ef6\u3002\u4e00\u822c\u7528\u4e8e\u975e\u6587\u672c\u6587\u4ef6\u5982\u56fe\u7247\u7b49 w+ \u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u7528\u4e8e\u8bfb\u5199\u3002\u5982\u679c\u8be5\u6587\u4ef6\u5df2\u5b58\u5728\u5219\u6253\u5f00\u6587\u4ef6\uff0c\u5e76\u4ece\u5f00\u5934\u5f00\u59cb\u7f16\u8f91\uff0c\u5373\u539f\u6709\u5185\u5bb9\u4f1a\u88ab\u5220\u9664\u3002\u5982\u679c\u8be5\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u521b\u5efa\u65b0\u6587\u4ef6 wb+ \u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u7528\u4e8e\u8bfb\u5199\u3002\u5982\u679c\u8be5\u6587\u4ef6\u5df2\u5b58\u5728\u5219\u6253\u5f00\u6587\u4ef6\uff0c\u5e76\u4ece\u5f00\u5934\u5f00\u59cb\u7f16\u8f91\uff0c\u5373\u539f\u6709\u5185\u5bb9\u4f1a\u88ab\u5220\u9664\u3002\u5982\u679c\u8be5\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u521b\u5efa\u65b0\u6587\u4ef6\u3002\u4e00\u822c\u7528\u4e8e\u975e\u6587\u672c\u6587\u4ef6\u5982\u56fe\u7247\u7b49 a \u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u7528\u4e8e\u8ffd\u52a0\u3002\u5982\u679c\u8be5\u6587\u4ef6\u5df2\u5b58\u5728\uff0c\u6587\u4ef6\u6307\u9488\u5c06\u4f1a\u653e\u5728\u6587\u4ef6\u7684\u7ed3\u5c3e\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u65b0\u7684\u5185\u5bb9\u5c06\u4f1a\u88ab\u5199\u5165\u5230\u5df2\u6709\u5185\u5bb9\u4e4b\u540e\u3002\u5982\u679c\u8be5\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u521b\u5efa\u65b0\u6587\u4ef6\u8fdb\u884c\u5199\u5165 ab \u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u7528\u4e8e\u8ffd\u52a0\u3002\u5982\u679c\u8be5\u6587\u4ef6\u5df2\u5b58\u5728\uff0c\u6587\u4ef6\u6307\u9488\u5c06\u4f1a\u653e\u5728\u6587\u4ef6\u7684\u7ed3\u5c3e\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u65b0\u7684\u5185\u5bb9\u5c06\u4f1a\u88ab\u5199\u5165\u5230\u5df2\u6709\u5185\u5bb9\u4e4b\u540e\u3002\u5982\u679c\u8be5\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u521b\u5efa\u65b0\u6587\u4ef6\u8fdb\u884c\u5199\u5165 a+ \u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u7528\u4e8e\u8bfb\u5199\u3002\u5982\u679c\u8be5\u6587\u4ef6\u5df2\u5b58\u5728\uff0c\u6587\u4ef6\u6307\u9488\u5c06\u4f1a\u653e\u5728\u6587\u4ef6\u7684\u7ed3\u5c3e\u3002\u6587\u4ef6\u6253\u5f00\u65f6\u4f1a\u662f\u8ffd\u52a0\u6a21\u5f0f\u3002\u5982\u679c\u8be5\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u521b\u5efa\u65b0\u6587\u4ef6\u7528\u4e8e\u8bfb\u5199 ab+ \u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u7528\u4e8e\u8ffd\u52a0\u3002\u5982\u679c\u8be5\u6587\u4ef6\u5df2\u5b58\u5728\uff0c\u6587\u4ef6\u6307\u9488\u5c06\u4f1a\u653e\u5728\u6587\u4ef6\u7684\u7ed3\u5c3e\u3002\u5982\u679c\u8be5\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u521b\u5efa\u65b0\u6587\u4ef6\u7528\u4e8e\u8bfb\u5199 <pre><code>with open(\"./pytest.log\", \"r\") as f:\n    for line in f:\n        print(line)\n\nwith open(\"./pytest.log\", \"r\") as f:\n    print(f.read())\n\nwith open(\"./pytest.log\", \"r\") as f:\n    while size := f.read(10):\n        print(size)\n\nwith open(\"./pytest.log\", \"r\") as f:\n    lines = f.readlines()\n    for line in lines:\n        print(line)\n\n\nwith open(\"./pytest.log\", \"r\") as f:\n    line = f.readline()\n    while line:\n        print(line)\n        line = f.readline()\n\n# \u6d77\u8c61\u8fd0\u7b97\u7b26\nwith open(\"./pytest.log\", \"r\") as f:\n    while line := f.readline():\n        print(line)\n</code></pre> </li> <li> <p>StringIO</p> <pre><code>import pandas\nfrom io import StringIO\nfrom PIL import Image, ImageDraw\n\nlog = \"\"\"\n1639362912.431  127.0.0.1   expires=Wed, 13-Dec-23 02:35:12 GMT; domain=127.0.0.1; path=/;\n1639362912.520  127.0.0.1   expires=Wed, 13-Dec-23 02:35:12 GMT; domain=127.0.0.1; path=/;\n1639362912.580  127.0.0.1   expires=Wed, 13-Dec-23 02:35:12 GMT; domain=127.0.0.1; path=/;\n\"\"\"\n\ndf = pandas.read_csv(StringIO(log))\n\n\nf = StringIO()\nf.write('hello')    # 5\nf.write(' ')        # 1\nf.write('world!')   # 6\nprint(f.getvalue()) # hello world!\n\n\nf = StringIO('Hello!\\nHi!\\nGoodbye!')\nwhile True:\n    s = f.readline()\n    if s == '':\n        break\n    print(s.strip())\n</code></pre> </li> <li> <p>BytesIO</p> <pre><code>import requests\nfrom io import BytesIO\nfrom PIL import Image, ImageDraw\n\n\nimage = requests.get(\"https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png\").content\nimage = BytesIO(image)\n\nimg = Image.open(image)\ndraw = ImageDraw.Draw(img)\ndraw.text((28, 26), \"Baidu\", fill=(0, 0, 0))\nimage_new = BytesIO()\nimg.save(image_new, \"png\")\n\n\nf = BytesIO()\nf.write('\u4e2d\u6587'.encode('utf-8')) # 6\nprint(f.getvalue())             # b'\\xe4\\xb8\\xad\\xe6\\x96\\x87'\n\nf = BytesIO(b'\\xe4\\xb8\\xad\\xe6\\x96\\x87')\nf.read() # b'\\xe4\\xb8\\xad\\xe6\\x96\\x87'\n</code></pre> <p>NOTE:</p> <p>StringIO\u548cBytesIO\u662f\u5728\u5185\u5b58\u4e2d\u64cd\u4f5cstr\u548cbytes\u7684\u65b9\u6cd5\uff0c\u4f7f\u5f97\u548c\u8bfb\u5199\u6587\u4ef6\u5177\u6709\u4e00\u81f4\u7684\u63a5\u53e3\u3002</p> </li> <li> <p>\u5e8f\u5217\u5316</p> <p>\u6211\u4eec\u628a\u53d8\u91cf\u4ece\u5185\u5b58\u4e2d\u53d8\u6210\u53ef\u5b58\u50a8\u6216\u4f20\u8f93\u7684\u8fc7\u7a0b\u79f0\u4e4b\u4e3a\u5e8f\u5217\u5316\uff0c\u5728Python\u4e2d\u53ebpickling\uff0c\u53cd\u8fc7\u6765\uff0c\u628a\u53d8\u91cf\u5185\u5bb9\u4ece\u5e8f\u5217\u5316\u7684\u5bf9\u8c61\u91cd\u65b0\u8bfb\u5230\u5185\u5b58\u91cc\u79f0\u4e4b\u4e3a\u53cd\u5e8f\u5217\u5316\uff0c\u5373unpickling\u3002</p> <pre><code>import pickle\nd = dict(name='Bob', age=20, score=88)\npickle.dumps(d)\n\nf = open('dump.txt', 'wb')\npickle.dump(d, f)\nf.close()\n\n\nf = open('dump.txt', 'rb')\nd = pickle.load(f)\nf.close()\nd # {'age': 20, 'score': 88, 'name': 'Bob'}\n\n\n\n# json \u5e8f\u5217\u5316\nimport json\nresource = {\"now\": date.get_time(), \"user_id\": 0, \"user_email\": \"\"}\njson.dumps(resource, indent=4, ensure_ascii=False)\nwith open(path, \"w\") as f:\n    json.dump(resource, f, indent=4, ensure_ascii=False)\n\n# json \u53cd\u5e8f\u5217\u5316\nwith open(path, \"r\") as f:\n    resource = json.load(f)\n</code></pre> </li> </ul> <p></p>"},{"location":"full-stack/coding/python/#_14","title":"\u8fdb\u7a0b\u548c\u7ebf\u7a0b","text":"<ul> <li> <p>\u5b50\u8fdb\u7a0b</p> <pre><code>import subprocess\n\nprint('$ nslookup www.python.org')\nr = subprocess.call(['nslookup', 'www.python.org'])\n\n\nprint('$ nslookup')\np = subprocess.Popen(['nslookup'], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\noutput, err = p.communicate(b'set q=mx\\npython.org\\nexit\\n')\nprint(output.decode('utf-8'))\nprint('Exit code:', p.returncode)\n</code></pre> </li> <li> <p>\u591a\u8fdb\u7a0b</p> <pre><code>import time\nimport random\nfrom multiprocessing import Process\n\n\ndef func(name):\n    time.sleep(random.randrange(1,5))\n    print(f\"\u6211\u662f{name}\u5b50\u8fdb\u7a0b\")\n\nprocess_list = []\nfor i in range(3):\n    p = Process(target=func, args=(f\"son{i+1}\",))\n    p.start()\n    process_list.append(p)\n\nfor i in process_list:\n    i.join()\n\nprint(\"\u4e3b\u8fdb\u7a0b\u7ed3\u675f\uff01\")\n</code></pre> </li> <li> <p>\u8fdb\u7a0b\u95f4\u901a\u4fe1</p> <pre><code># Queue\nfrom multiprocessing import Process, Queue\n\n\ndef func(q):\n    q.put([1,2,3])\n\nQ = Queue(5)\nfor i in range(2):\n    process = Process(target=func, args=(Q,))\n    process.start()\n    process.join()\n\nprint(Q.qsize())\nprint(Q.get()) \nprint(Q.get())\nprint(Q.qsize())\n\n\n# Managers\nfrom multiprocessing import Process, Manager\n\n\ndef func(lst, dct):\n    for i in range(3):\n        lst.append(i)\n\n    dct[\"name\"] = \"my\"\n\nwith Manager() as manager:\n    L = manager.list()\n    D = manager.dict()\n\n    process = Process(target=func, args=(L, D))\n    process.start()\n    process.join()\n\n    print(L)\n    print(D)\n</code></pre> </li> <li> <p>ThreadLocal</p> <p>\u4e00\u4e2aThreadLocal\u53d8\u91cf\u867d\u7136\u662f\u5168\u5c40\u53d8\u91cf\uff0c\u4f46\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u53ea\u80fd\u8bfb\u5199\u81ea\u5df1\u7ebf\u7a0b\u7684\u72ec\u7acb\u526f\u672c\uff0c\u4e92\u4e0d\u5e72\u6270\u3002ThreadLocal\u89e3\u51b3\u4e86\u53c2\u6570\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u5404\u4e2a\u51fd\u6570\u4e4b\u95f4\u4e92\u76f8\u4f20\u9012\u7684\u95ee\u9898\u3002</p> <pre><code>import threading\n\n# \u521b\u5efa\u5168\u5c40ThreadLocal\u5bf9\u8c61:\nlocal_school = threading.local()\n\ndef process_student():\n    # \u83b7\u53d6\u5f53\u524d\u7ebf\u7a0b\u5173\u8054\u7684student:\n    std = local_school.student\n    print('Hello, %s (in %s)' % (std, threading.current_thread().name))\n\ndef process_thread(name):\n    # \u7ed1\u5b9aThreadLocal\u7684student:\n    local_school.student = name\n    process_student()\n\nt1 = threading.Thread(target= process_thread, args=('Alice',), name='Thread-A')\nt2 = threading.Thread(target= process_thread, args=('Bob',), name='Thread-B')\nt1.start()\nt2.start()\nt1.join()\nt2.join()\n</code></pre> </li> </ul> <p></p>"},{"location":"full-stack/coding/python/#_15","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<pre><code>import re\nre.match(r'^(\\d+)(0*)$', '102300').groups()  # ('102300', '')\n\nre.findall(r\"{{.*?}}\", \"{{abc}}\") # ['{{abc}}']\n\nre.split(r'\\s+', 'a b   c') # ['a', 'b', 'c']\n\n\n# match()\u65b9\u6cd5\u5224\u65ad\u662f\u5426\u5339\u914d\uff0c\u5982\u679c\u5339\u914d\u6210\u529f\uff0c\u8fd4\u56de\u4e00\u4e2aMatch\u5bf9\u8c61\uff0c\u5426\u5219\u8fd4\u56deNone\u3002\u5e38\u89c1\u7684\u5224\u65ad\u65b9\u6cd5\u5c31\u662f\uff1a\n\ntest = '\u7528\u6237\u8f93\u5165\u7684\u5b57\u7b26\u4e32'\nif re.match(r'\u6b63\u5219\u8868\u8fbe\u5f0f', test):\n    print('ok')\nelse:\n    print('failed')\n</code></pre>"},{"location":"full-stack/coding/python/#_16","title":"\u5c0f\u6280\u5de7","text":"<pre><code># \u5224\u65ad\u662f\u5426\u4e3a\u6570\u5b57\uff0c\u53ef\u4ee5\u7528\u4e8eint()\u8f6c\u6362\u573a\u666f\u4e2d\n\"123\".isdigit()\n\n\n# \u5e26T\u7684\u65e5\u671f\u683c\u5f0f\nformat = \"%Y-%m-%dT%H:%M:%S.%fZ\" # 2018-06-12T04:55:22.000000Z\n\n\n# \u8ffd\u52a0\u8def\u5f84\u641c\u7d22\u8303\u56f4\nimport os\nimport sys\n\nsys.path.append(os.getcwd())\n\n\n# \u83b7\u53d6\u73af\u5883\u53d8\u91cf\nkey = os.getenv(\"ROBOT_KEY\")\nenv = os.getenv(\"TEST_ENV\", \"dev\")\n\n\n# \u79fb\u9664\u7a7a\u683c\nimport re\nre.split(r'\\s+', 'a b   c') # ['a', 'b', 'c']\n\n\n# \u8bbe\u7f6e\u9ed8\u8ba4\u503c\ndef func(*args, **kwargs):\n    kwargs.setdefault(\"headers\", {\"User-Agent\": const.USER_AGENT})\n\n\n# \u6267\u884c\u7cfb\u7edf\u547d\u4ee4\nimport subprocess\nresult = subprocess.run([\"ls\", \"-l\"], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\nprint(result.stdout)\n\n# \u628a\u8f93\u51fa\u5199\u5165\u6587\u4ef6\nwith open(\"out.txt\", \"w\") as f:\n    result = subprocess.run([\"ls\", \"-l\"], stdout=f, stderr=subprocess.PIPE, text=True)\n\n# \u8f6e\u8be2\u7ed3\u679c\nresult = subprocess.Popen([\"ping\", \"-n\", \"10\", \"bing.com\"], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\n\nwhile not result.poll():\n    sleep(1)\n\nstdout, stderr = result.communicate()\nprint(result.stdout)\n</code></pre>"},{"location":"full-stack/coding/python/#_17","title":"\u76f8\u5173\u62d3\u5c55","text":"<ul> <li>Python\u8bed\u8a00\u89c4\u8303</li> <li>\u5b57\u7b26\u4e32\u548c\u7f16\u7801</li> </ul>"},{"location":"full-stack/coding/regex/","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":""},{"location":"full-stack/coding/regex/#_2","title":"\u4ec0\u4e48\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\uff1f","text":"<p>\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u7ec4\u7531\u5b57\u6bcd\u548c\u7b26\u53f7\u7ec4\u6210\u7684\u7279\u6b8a\u6587\u672c\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u4ece\u6587\u672c\u4e2d\u627e\u51fa\u6ee1\u8db3\u4f60\u60f3\u8981\u7684\u683c\u5f0f\u7684\u53e5\u5b50\u3002</p> <p>\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u79cd\u4ece\u5de6\u5230\u53f3\u5339\u914d\u4e3b\u4f53\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f\u3002 \u201cRegular expression\u201d\u8fd9\u4e2a\u8bcd\u6bd4\u8f83\u62d7\u53e3\uff0c\u6211\u4eec\u5e38\u4f7f\u7528\u7f29\u5199\u7684\u672f\u8bed\u201cregex\u201d\u6216\u201cregexp\u201d\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\u53ef\u4ee5\u4ece\u4e00\u4e2a\u57fa\u7840\u5b57\u7b26\u4e32\u4e2d\u6839\u636e\u4e00\u5b9a\u7684\u5339\u914d\u6a21\u5f0f\u66ff\u6362\u6587\u672c\u4e2d\u7684\u5b57\u7b26\u4e32\u3001\u9a8c\u8bc1\u8868\u5355\u3001\u63d0\u53d6\u5b57\u7b26\u4e32\u7b49\u7b49\u3002</p> <p>\u60f3\u8c61\u4f60\u6b63\u5728\u5199\u4e00\u4e2a\u5e94\u7528\uff0c\u7136\u540e\u4f60\u60f3\u8bbe\u5b9a\u4e00\u4e2a\u7528\u6237\u547d\u540d\u7684\u89c4\u5219\uff0c\u8ba9\u7528\u6237\u540d\u5305\u542b\u5b57\u7b26\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u548c\u8fde\u5b57\u7b26\uff0c\u4ee5\u53ca\u9650\u5236\u5b57\u7b26\u7684\u4e2a\u6570\uff0c\u597d\u8ba9\u540d\u5b57\u770b\u8d77\u6765\u6ca1\u90a3\u4e48\u4e11\u3002 \u6211\u4eec\u4f7f\u7528\u4ee5\u4e0b\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u9a8c\u8bc1\u4e00\u4e2a\u7528\u6237\u540d\uff1a</p> <p></p> <p> </p> <p>\u4ee5\u4e0a\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u53ef\u4ee5\u63a5\u53d7 <code>john_doe</code>\u3001<code>jo-hn_doe</code>\u3001<code>john12_as</code>\u3002 \u4f46\u4e0d\u5339\u914d<code>Jo</code>\uff0c\u56e0\u4e3a\u5b83\u5305\u542b\u4e86\u5927\u5199\u7684\u5b57\u6bcd\u800c\u4e14\u592a\u77ed\u4e86\u3002</p>"},{"location":"full-stack/coding/regex/#_3","title":"\u76ee\u5f55","text":"<ul> <li>1. \u57fa\u672c\u5339\u914d</li> <li>2. \u5143\u5b57\u7b26<ul> <li>2.1 \u70b9\u8fd0\u7b97\u7b26 .</li> <li>2.2 \u5b57\u7b26\u96c6<ul> <li>2.2.1 \u5426\u5b9a\u5b57\u7b26\u96c6</li> </ul> </li> <li>2.3 \u91cd\u590d\u6b21\u6570<ul> <li>2.3.1 * \u53f7</li> <li>2.3.2 + \u53f7</li> <li>2.3.3 ? \u53f7</li> </ul> </li> <li>2.4 {} \u53f7</li> <li>2.5 (...) \u7279\u5f81\u6807\u7fa4</li> <li>2.6 | \u6216\u8fd0\u7b97\u7b26</li> <li>2.7 \u8f6c\u7801\u7279\u6b8a\u5b57\u7b26</li> <li>2.8 \u951a\u70b9<ul> <li>2.8.1 ^ \u53f7</li> <li>2.8.2 $ \u53f7</li> </ul> </li> </ul> </li> <li>\u6b63\u5219\u8868\u8fbe\u5f0f</li> <li>\u4ec0\u4e48\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\uff1f</li> <li>\u76ee\u5f55</li> <li>1. \u57fa\u672c\u5339\u914d</li> <li>2. \u5143\u5b57\u7b26</li> <li>2.1 \u70b9\u8fd0\u7b97\u7b26 <code>.</code></li> <li>2.2 \u5b57\u7b26\u96c6<ul> <li>2.2.1 \u5426\u5b9a\u5b57\u7b26\u96c6</li> </ul> </li> <li>2.3 \u91cd\u590d\u6b21\u6570<ul> <li>2.3.1 <code>*</code> \u53f7</li> <li>2.3.2 <code>+</code> \u53f7</li> <li>2.3.3 <code>?</code> \u53f7</li> </ul> </li> <li>2.4 <code>{}</code> \u53f7</li> <li>2.5 <code>(...)</code> \u7279\u5f81\u6807\u7fa4</li> <li>2.6 <code>|</code> \u6216\u8fd0\u7b97\u7b26</li> <li>2.7 \u8f6c\u7801\u7279\u6b8a\u5b57\u7b26</li> <li>2.8 \u951a\u70b9<ul> <li>2.8.1 <code>^</code> \u53f7</li> <li>2.8.2 <code>$</code> \u53f7</li> </ul> </li> <li>3. \u7b80\u5199\u5b57\u7b26\u96c6</li> <li>4. \u96f6\u5bbd\u5ea6\u65ad\u8a00\uff08\u524d\u540e\u9884\u67e5\uff09<ul> <li>4.1 <code>?=...</code> \u6b63\u5148\u884c\u65ad\u8a00</li> <li>4.2 <code>?!...</code> \u8d1f\u5148\u884c\u65ad\u8a00</li> <li>4.3 <code>?&lt;= ...</code> \u6b63\u540e\u53d1\u65ad\u8a00</li> <li>4.4 <code>?&lt;!...</code> \u8d1f\u540e\u53d1\u65ad\u8a00</li> </ul> </li> <li>5. \u6807\u5fd7<ul> <li>5.1 \u5ffd\u7565\u5927\u5c0f\u5199 (Case Insensitive)</li> <li>5.2 \u5168\u5c40\u641c\u7d22 (Global search)</li> <li>5.3 \u591a\u884c\u4fee\u9970\u7b26 (Multiline)</li> <li>6. \u8d2a\u5a6a\u5339\u914d\u4e0e\u60f0\u6027\u5339\u914d (Greedy vs lazy matching)</li> <li>\u5f15\u7528</li> </ul> </li> </ul>"},{"location":"full-stack/coding/regex/#1","title":"1. \u57fa\u672c\u5339\u914d","text":"<p>\u6b63\u5219\u8868\u8fbe\u5f0f\u5176\u5b9e\u5c31\u662f\u5728\u6267\u884c\u641c\u7d22\u65f6\u7684\u683c\u5f0f\uff0c\u5b83\u7531\u4e00\u4e9b\u5b57\u6bcd\u548c\u6570\u5b57\u7ec4\u5408\u800c\u6210\u3002 \u4f8b\u5982\uff1a\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f <code>the</code>\uff0c\u5b83\u8868\u793a\u4e00\u4e2a\u89c4\u5219\uff1a\u7531\u5b57\u6bcd<code>t</code>\u5f00\u59cb\uff0c\u63a5\u7740\u662f<code>h</code>\uff0c\u518d\u63a5\u7740\u662f<code>e</code>\u3002</p> <pre>\n\"the\" =&gt; The fat cat sat on the mat.\n</pre> <p>\u6b63\u5219\u8868\u8fbe\u5f0f<code>123</code>\u5339\u914d\u5b57\u7b26\u4e32<code>123</code>\u3002\u5b83\u9010\u4e2a\u5b57\u7b26\u7684\u4e0e\u8f93\u5165\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u505a\u6bd4\u8f83\u3002</p> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u5927\u5c0f\u5199\u654f\u611f\u7684\uff0c\u6240\u4ee5<code>The</code>\u4e0d\u4f1a\u5339\u914d<code>the</code>\u3002</p> <pre>\n\"The\" =&gt; The fat cat sat on the mat.\n</pre>"},{"location":"full-stack/coding/regex/#2","title":"2. \u5143\u5b57\u7b26","text":"<p>\u6b63\u5219\u8868\u8fbe\u5f0f\u4e3b\u8981\u4f9d\u8d56\u4e8e\u5143\u5b57\u7b26\u3002 \u5143\u5b57\u7b26\u4e0d\u4ee3\u8868\u4ed6\u4eec\u672c\u8eab\u7684\u5b57\u9762\u610f\u601d\uff0c\u4ed6\u4eec\u90fd\u6709\u7279\u6b8a\u7684\u542b\u4e49\u3002\u4e00\u4e9b\u5143\u5b57\u7b26\u5199\u5728\u65b9\u62ec\u53f7\u4e2d\u7684\u65f6\u5019\u6709\u4e00\u4e9b\u7279\u6b8a\u7684\u610f\u601d\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5143\u5b57\u7b26\u7684\u4ecb\u7ecd\uff1a</p> \u5143\u5b57\u7b26 \u63cf\u8ff0 . \u53e5\u53f7\u5339\u914d\u4efb\u610f\u5355\u4e2a\u5b57\u7b26\u9664\u4e86\u6362\u884c\u7b26\u3002 [ ] \u5b57\u7b26\u79cd\u7c7b\u3002\u5339\u914d\u65b9\u62ec\u53f7\u5185\u7684\u4efb\u610f\u5b57\u7b26\u3002 [^ ] \u5426\u5b9a\u7684\u5b57\u7b26\u79cd\u7c7b\u3002\u5339\u914d\u9664\u4e86\u65b9\u62ec\u53f7\u91cc\u7684\u4efb\u610f\u5b57\u7b26 * \u5339\u914d&gt;=0\u4e2a\u91cd\u590d\u7684\u5728*\u53f7\u4e4b\u524d\u7684\u5b57\u7b26\u3002 + \u5339\u914d&gt;=1\u4e2a\u91cd\u590d\u7684+\u53f7\u524d\u7684\u5b57\u7b26\u3002 ? \u6807\u8bb0?\u4e4b\u524d\u7684\u5b57\u7b26\u4e3a\u53ef\u9009. {n,m} \u5339\u914dnum\u4e2a\u5927\u62ec\u53f7\u4e4b\u524d\u7684\u5b57\u7b26\u6216\u5b57\u7b26\u96c6 (n &lt;= num &lt;= m). (xyz) \u5b57\u7b26\u96c6\uff0c\u5339\u914d\u4e0e xyz \u5b8c\u5168\u76f8\u7b49\u7684\u5b57\u7b26\u4e32. | \u6216\u8fd0\u7b97\u7b26\uff0c\u5339\u914d\u7b26\u53f7\u524d\u6216\u540e\u7684\u5b57\u7b26. \\ \u8f6c\u4e49\u5b57\u7b26,\u7528\u4e8e\u5339\u914d\u4e00\u4e9b\u4fdd\u7559\u7684\u5b57\u7b26 <code>[ ] ( ) { } . * + ? ^ $ \\ |</code> ^ \u4ece\u5f00\u59cb\u884c\u5f00\u59cb\u5339\u914d. $ \u4ece\u672b\u7aef\u5f00\u59cb\u5339\u914d."},{"location":"full-stack/coding/regex/#21","title":"2.1 \u70b9\u8fd0\u7b97\u7b26 <code>.</code>","text":"<p><code>.</code>\u662f\u5143\u5b57\u7b26\u4e2d\u6700\u7b80\u5355\u7684\u4f8b\u5b50\u3002 <code>.</code>\u5339\u914d\u4efb\u610f\u5355\u4e2a\u5b57\u7b26\uff0c\u4f46\u4e0d\u5339\u914d\u6362\u884c\u7b26\u3002 \u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f<code>.ar</code>\u5339\u914d\u4e00\u4e2a\u4efb\u610f\u5b57\u7b26\u540e\u9762\u8ddf\u7740\u662f<code>a</code>\u548c<code>r</code>\u7684\u5b57\u7b26\u4e32\u3002</p> <pre>\n\".ar\" =&gt; The car parked in the garage.\n</pre>"},{"location":"full-stack/coding/regex/#22","title":"2.2 \u5b57\u7b26\u96c6","text":"<p>\u5b57\u7b26\u96c6\u4e5f\u53eb\u505a\u5b57\u7b26\u7c7b\u3002 \u65b9\u62ec\u53f7\u7528\u6765\u6307\u5b9a\u4e00\u4e2a\u5b57\u7b26\u96c6\u3002 \u5728\u65b9\u62ec\u53f7\u4e2d\u4f7f\u7528\u8fde\u5b57\u7b26\u6765\u6307\u5b9a\u5b57\u7b26\u96c6\u7684\u8303\u56f4\u3002 \u5728\u65b9\u62ec\u53f7\u4e2d\u7684\u5b57\u7b26\u96c6\u4e0d\u5173\u5fc3\u987a\u5e8f\u3002 \u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f<code>[Tt]he</code> \u5339\u914d <code>the</code> \u548c <code>The</code>\u3002</p> <pre>\n\"[Tt]he\" =&gt; The car parked in the garage.\n</pre> <p>\u65b9\u62ec\u53f7\u7684\u53e5\u53f7\u5c31\u8868\u793a\u53e5\u53f7\u3002 \u8868\u8fbe\u5f0f <code>ar[.]</code> \u5339\u914d <code>ar.</code>\u5b57\u7b26\u4e32</p> <pre>\n\"ar[.]\" =&gt; A garage is a good place to park a car.\n</pre>"},{"location":"full-stack/coding/regex/#221","title":"2.2.1 \u5426\u5b9a\u5b57\u7b26\u96c6","text":"<p>\u4e00\u822c\u6765\u8bf4 <code>^</code> \u8868\u793a\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u5f00\u5934\uff0c\u4f46\u5b83\u7528\u5728\u4e00\u4e2a\u65b9\u62ec\u53f7\u7684\u5f00\u5934\u7684\u65f6\u5019\uff0c\u5b83\u8868\u793a\u8fd9\u4e2a\u5b57\u7b26\u96c6\u662f\u5426\u5b9a\u7684\u3002 \u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f<code>[^c]ar</code> \u5339\u914d\u4e00\u4e2a\u540e\u9762\u8ddf\u7740<code>ar</code>\u7684\u9664\u4e86<code>c</code>\u7684\u4efb\u610f\u5b57\u7b26\u3002</p> <pre>\n\"[^c]ar\" =&gt; The car parked in the garage.\n</pre>"},{"location":"full-stack/coding/regex/#23","title":"2.3 \u91cd\u590d\u6b21\u6570","text":"<p>\u540e\u9762\u8ddf\u7740\u5143\u5b57\u7b26 <code>+</code>\uff0c<code>*</code> or <code>?</code> \u7684\uff0c\u7528\u6765\u6307\u5b9a\u5339\u914d\u5b50\u6a21\u5f0f\u7684\u6b21\u6570\u3002 \u8fd9\u4e9b\u5143\u5b57\u7b26\u5728\u4e0d\u540c\u7684\u60c5\u51b5\u4e0b\u6709\u7740\u4e0d\u540c\u7684\u610f\u601d\u3002</p>"},{"location":"full-stack/coding/regex/#231","title":"2.3.1 <code>*</code> \u53f7","text":"<p><code>*</code>\u53f7\u5339\u914d \u5728<code>*</code>\u4e4b\u524d\u7684\u5b57\u7b26\u51fa\u73b0<code>\u5927\u4e8e\u7b49\u4e8e0</code>\u6b21\u3002 \u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f <code>a*</code> \u5339\u914d0\u6216\u66f4\u591a\u4e2a\u4ee5a\u5f00\u5934\u7684\u5b57\u7b26\u3002\u8868\u8fbe\u5f0f<code>[a-z]*</code> \u5339\u914d\u4e00\u4e2a\u884c\u4e2d\u6240\u6709\u4ee5\u5c0f\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u5b57\u7b26\u4e32\u3002</p> <pre>\n\"[a-z]*\" =&gt; The car parked in the garage #21.\n</pre> <p><code>*</code>\u5b57\u7b26\u548c<code>.</code>\u5b57\u7b26\u642d\u914d\u53ef\u4ee5\u5339\u914d\u6240\u6709\u7684\u5b57\u7b26<code>.*</code>\u3002 <code>*</code>\u548c\u8868\u793a\u5339\u914d\u7a7a\u683c\u7684\u7b26\u53f7<code>\\s</code>\u8fde\u8d77\u6765\u7528\uff0c\u5982\u8868\u8fbe\u5f0f<code>\\s*cat\\s*</code>\u5339\u914d0\u6216\u66f4\u591a\u4e2a\u7a7a\u683c\u5f00\u5934\u548c0\u6216\u66f4\u591a\u4e2a\u7a7a\u683c\u7ed3\u5c3e\u7684cat\u5b57\u7b26\u4e32\u3002</p> <pre>\n\"\\s*cat\\s*\" =&gt; The fat cat sat on the concatenation.\n</pre>"},{"location":"full-stack/coding/regex/#232","title":"2.3.2 <code>+</code> \u53f7","text":"<p><code>+</code>\u53f7\u5339\u914d<code>+</code>\u53f7\u4e4b\u524d\u7684\u5b57\u7b26\u51fa\u73b0 &gt;=1 \u6b21\u3002 \u4f8b\u5982\u8868\u8fbe\u5f0f<code>c.+t</code> \u5339\u914d\u4ee5\u9996\u5b57\u6bcd<code>c</code>\u5f00\u5934\u4ee5<code>t</code>\u7ed3\u5c3e\uff0c\u4e2d\u95f4\u8ddf\u7740\u81f3\u5c11\u4e00\u4e2a\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\u3002</p> <pre>\n\"c.+t\" =&gt; The fat cat sat on the mat.\n</pre>"},{"location":"full-stack/coding/regex/#233","title":"2.3.3 <code>?</code> \u53f7","text":"<p>\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u5143\u5b57\u7b26 <code>?</code> \u6807\u8bb0\u5728\u7b26\u53f7\u524d\u9762\u7684\u5b57\u7b26\u4e3a\u53ef\u9009\uff0c\u5373\u51fa\u73b0 0 \u6216 1 \u6b21\u3002 \u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f <code>[T]?he</code> \u5339\u914d\u5b57\u7b26\u4e32 <code>he</code> \u548c <code>The</code>\u3002</p> <pre>\n\"[T]he\" =&gt; The car is parked in the garage.\n</pre> <pre>\n\"[T]?he\" =&gt; The car is parked in the garage.\n</pre>"},{"location":"full-stack/coding/regex/#24","title":"2.4 <code>{}</code> \u53f7","text":"<p>\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d <code>{}</code> \u662f\u4e00\u4e2a\u91cf\u8bcd\uff0c\u5e38\u7528\u6765\u9650\u5b9a\u4e00\u4e2a\u6216\u4e00\u7ec4\u5b57\u7b26\u53ef\u4ee5\u91cd\u590d\u51fa\u73b0\u7684\u6b21\u6570\u3002 \u4f8b\u5982\uff0c \u8868\u8fbe\u5f0f <code>[0-9]{2,3}</code> \u5339\u914d\u6700\u5c11 2 \u4f4d\u6700\u591a 3 \u4f4d 0~9 \u7684\u6570\u5b57\u3002</p> <pre>\n\"[0-9]{2,3}\" =&gt; The number was 9.9997 but we rounded it off to 10.0.\n</pre> <p>\u6211\u4eec\u53ef\u4ee5\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002 \u4f8b\u5982\uff0c<code>[0-9]{2,}</code> \u5339\u914d\u81f3\u5c11\u4e24\u4f4d 0~9 \u7684\u6570\u5b57\u3002</p> <pre>\n\"[0-9]{2,}\" =&gt; The number was 9.9997 but we rounded it off to 10.0.\n</pre> <p>\u5982\u679c\u9017\u53f7\u4e5f\u7701\u7565\u6389\u5219\u8868\u793a\u91cd\u590d\u56fa\u5b9a\u7684\u6b21\u6570\u3002 \u4f8b\u5982\uff0c<code>[0-9]{3}</code> \u5339\u914d3\u4f4d\u6570\u5b57</p> <pre>\n\"[0-9]{3}\" =&gt; The number was 9.9997 but we rounded it off to 10.0.\n</pre>"},{"location":"full-stack/coding/regex/#25","title":"2.5 <code>(...)</code> \u7279\u5f81\u6807\u7fa4","text":"<p>\u7279\u5f81\u6807\u7fa4\u662f\u4e00\u7ec4\u5199\u5728 <code>(...)</code> \u4e2d\u7684\u5b50\u6a21\u5f0f\u3002<code>(...)</code> \u4e2d\u5305\u542b\u7684\u5185\u5bb9\u5c06\u4f1a\u88ab\u770b\u6210\u4e00\u4e2a\u6574\u4f53\uff0c\u548c\u6570\u5b66\u4e2d\u5c0f\u62ec\u53f7\uff08 \uff09\u7684\u4f5c\u7528\u76f8\u540c\u3002\u4f8b\u5982, \u8868\u8fbe\u5f0f <code>(ab)*</code> \u5339\u914d\u8fde\u7eed\u51fa\u73b0 0 \u6216\u66f4\u591a\u4e2a <code>ab</code>\u3002\u5982\u679c\u6ca1\u6709\u4f7f\u7528 <code>(...)</code> \uff0c\u90a3\u4e48\u8868\u8fbe\u5f0f <code>ab*</code> \u5c06\u5339\u914d\u8fde\u7eed\u51fa\u73b0 0 \u6216\u66f4\u591a\u4e2a <code>b</code> \u3002\u518d\u6bd4\u5982\u4e4b\u524d\u8bf4\u7684 <code>{}</code> \u662f\u7528\u6765\u8868\u793a\u524d\u9762\u4e00\u4e2a\u5b57\u7b26\u51fa\u73b0\u6307\u5b9a\u6b21\u6570\u3002\u4f46\u5982\u679c\u5728 <code>{}</code> \u524d\u52a0\u4e0a\u7279\u5f81\u6807\u7fa4 <code>(...)</code> \u5219\u8868\u793a\u6574\u4e2a\u6807\u7fa4\u5185\u7684\u5b57\u7b26\u91cd\u590d N \u6b21\u3002</p> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u5728 <code>()</code> \u4e2d\u7528\u6216\u5b57\u7b26 <code>|</code> \u8868\u793a\u6216\u3002\u4f8b\u5982\uff0c<code>(c|g|p)ar</code> \u5339\u914d <code>car</code> \u6216 <code>gar</code> \u6216 <code>par</code>.</p> <pre>\n\"(c|g|p)ar\" =&gt; The car is parked in the garage.\n</pre>"},{"location":"full-stack/coding/regex/#26","title":"2.6 <code>|</code> \u6216\u8fd0\u7b97\u7b26","text":"<p>\u6216\u8fd0\u7b97\u7b26\u5c31\u8868\u793a\u6216\uff0c\u7528\u4f5c\u5224\u65ad\u6761\u4ef6\u3002</p> <p>\u4f8b\u5982 <code>(T|t)he|car</code> \u5339\u914d <code>(T|t)he</code> \u6216 <code>car</code>\u3002</p> <pre>\n\"(T|t)he|car\" =&gt; The car is parked in the garage.\n</pre>"},{"location":"full-stack/coding/regex/#27","title":"2.7 \u8f6c\u7801\u7279\u6b8a\u5b57\u7b26","text":"<p>\u53cd\u659c\u7ebf <code>\\</code> \u5728\u8868\u8fbe\u5f0f\u4e2d\u7528\u4e8e\u8f6c\u7801\u7d27\u8ddf\u5176\u540e\u7684\u5b57\u7b26\u3002\u7528\u4e8e\u6307\u5b9a <code>{ } [ ] / \\ + * . $ ^ | ?</code> \u8fd9\u4e9b\u7279\u6b8a\u5b57\u7b26\u3002\u5982\u679c\u60f3\u8981\u5339\u914d\u8fd9\u4e9b\u7279\u6b8a\u5b57\u7b26\u5219\u8981\u5728\u5176\u524d\u9762\u52a0\u4e0a\u53cd\u659c\u7ebf <code>\\</code>\u3002</p> <p>\u4f8b\u5982 <code>.</code> \u662f\u7528\u6765\u5339\u914d\u9664\u6362\u884c\u7b26\u5916\u7684\u6240\u6709\u5b57\u7b26\u7684\u3002\u5982\u679c\u60f3\u8981\u5339\u914d\u53e5\u5b50\u4e2d\u7684 <code>.</code> \u5219\u8981\u5199\u6210 <code>\\.</code> \u4ee5\u4e0b\u8fd9\u4e2a\u4f8b\u5b50 <code>\\.?</code>\u662f\u9009\u62e9\u6027\u5339\u914d<code>.</code></p> <pre>\n\"(f|c|m)at\\.?\" =&gt; The fat cat sat on the mat.\n</pre>"},{"location":"full-stack/coding/regex/#28","title":"2.8 \u951a\u70b9","text":"<p>\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\uff0c\u60f3\u8981\u5339\u914d\u6307\u5b9a\u5f00\u5934\u6216\u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32\u5c31\u8981\u4f7f\u7528\u5230\u951a\u70b9\u3002<code>^</code> \u6307\u5b9a\u5f00\u5934\uff0c<code>$</code> \u6307\u5b9a\u7ed3\u5c3e\u3002</p>"},{"location":"full-stack/coding/regex/#281","title":"2.8.1 <code>^</code> \u53f7","text":"<p><code>^</code> \u7528\u6765\u68c0\u67e5\u5339\u914d\u7684\u5b57\u7b26\u4e32\u662f\u5426\u5728\u6240\u5339\u914d\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u3002</p> <p>\u4f8b\u5982\uff0c\u5728 <code>abc</code> \u4e2d\u4f7f\u7528\u8868\u8fbe\u5f0f <code>^a</code> \u4f1a\u5f97\u5230\u7ed3\u679c <code>a</code>\u3002\u4f46\u5982\u679c\u4f7f\u7528 <code>^b</code> \u5c06\u5339\u914d\u4e0d\u5230\u4efb\u4f55\u7ed3\u679c\u3002\u56e0\u4e3a\u5728\u5b57\u7b26\u4e32 <code>abc</code> \u4e2d\u5e76\u4e0d\u662f\u4ee5 <code>b</code> \u5f00\u5934\u3002</p> <p>\u4f8b\u5982\uff0c<code>^(T|t)he</code> \u5339\u914d\u4ee5 <code>The</code> \u6216 <code>the</code> \u5f00\u5934\u7684\u5b57\u7b26\u4e32\u3002</p> <pre>\n\"(T|t)he\" =&gt; The car is parked in the garage.\n</pre> <pre>\n\"^(T|t)he\" =&gt; The car is parked in the garage.\n</pre>"},{"location":"full-stack/coding/regex/#282","title":"2.8.2 <code>$</code> \u53f7","text":"<p>\u540c\u7406\u4e8e <code>^</code> \u53f7\uff0c<code>$</code> \u53f7\u7528\u6765\u5339\u914d\u5b57\u7b26\u662f\u5426\u662f\u6700\u540e\u4e00\u4e2a\u3002</p> <p>\u4f8b\u5982\uff0c<code>(at\\.)$</code> \u5339\u914d\u4ee5 <code>at.</code> \u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32\u3002</p> <pre>\n\"(at\\.)\" =&gt; The fat cat. sat. on the mat.\n</pre> <pre>\n\"(at\\.)$\" =&gt; The fat cat. sat. on the mat.\n</pre>"},{"location":"full-stack/coding/regex/#3","title":"3. \u7b80\u5199\u5b57\u7b26\u96c6","text":"<p>\u6b63\u5219\u8868\u8fbe\u5f0f\u63d0\u4f9b\u4e00\u4e9b\u5e38\u7528\u7684\u5b57\u7b26\u96c6\u7b80\u5199\u3002\u5982\u4e0b:</p> \u7b80\u5199 \u63cf\u8ff0 . \u9664\u6362\u884c\u7b26\u5916\u7684\u6240\u6709\u5b57\u7b26 \\w \u5339\u914d\u6240\u6709\u5b57\u6bcd\u6570\u5b57\uff0c\u7b49\u540c\u4e8e <code>[a-zA-Z0-9_]</code> \\W \u5339\u914d\u6240\u6709\u975e\u5b57\u6bcd\u6570\u5b57\uff0c\u5373\u7b26\u53f7\uff0c\u7b49\u540c\u4e8e\uff1a <code>[^\\w]</code> \\d \u5339\u914d\u6570\u5b57\uff1a <code>[0-9]</code> \\D \u5339\u914d\u975e\u6570\u5b57\uff1a <code>[^\\d]</code> \\s \u5339\u914d\u6240\u6709\u7a7a\u683c\u5b57\u7b26\uff0c\u7b49\u540c\u4e8e\uff1a <code>[\\t\\n\\f\\r\\p{Z}]</code> \\S \u5339\u914d\u6240\u6709\u975e\u7a7a\u683c\u5b57\u7b26\uff1a <code>[^\\s]</code> \\f \u5339\u914d\u4e00\u4e2a\u6362\u9875\u7b26 \\n \u5339\u914d\u4e00\u4e2a\u6362\u884c\u7b26 \\r \u5339\u914d\u4e00\u4e2a\u56de\u8f66\u7b26 \\t \u5339\u914d\u4e00\u4e2a\u5236\u8868\u7b26 \\v \u5339\u914d\u4e00\u4e2a\u5782\u76f4\u5236\u8868\u7b26 \\p \u5339\u914d CR/LF\uff08\u7b49\u540c\u4e8e <code>\\r\\n</code>\uff09\uff0c\u7528\u6765\u5339\u914d DOS \u884c\u7ec8\u6b62\u7b26"},{"location":"full-stack/coding/regex/#4","title":"4. \u96f6\u5bbd\u5ea6\u65ad\u8a00\uff08\u524d\u540e\u9884\u67e5\uff09","text":"<p>\u5148\u884c\u65ad\u8a00\u548c\u540e\u53d1\u65ad\u8a00\uff08\u5408\u79f0 lookaround\uff09\u90fd\u5c5e\u4e8e\u975e\u6355\u83b7\u7ec4\uff08\u7528\u4e8e\u5339\u914d\u6a21\u5f0f\uff0c\u4f46\u4e0d\u5305\u62ec\u5728\u5339\u914d\u5217\u8868\u4e2d\uff09\u3002\u5f53\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u6a21\u5f0f\u7684\u524d\u9762\u6216\u540e\u9762\u6709\u53e6\u4e00\u4e2a\u7279\u5b9a\u7684\u6a21\u5f0f\u65f6\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u5b83\u4eec\u3002</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u5e0c\u671b\u4ece\u4e0b\u9762\u7684\u8f93\u5165\u5b57\u7b26\u4e32 <code>$4.44</code> \u548c <code>$10.88</code> \u4e2d\u83b7\u5f97\u6240\u6709\u4ee5 <code>$</code> \u5b57\u7b26\u5f00\u5934\u7684\u6570\u5b57\uff0c\u6211\u4eec\u5c06\u4f7f\u7528\u4ee5\u4e0b\u7684\u6b63\u5219\u8868\u8fbe\u5f0f <code>(?&lt;=\\$)[0-9\\.]*</code>\u3002\u610f\u601d\u662f\uff1a\u83b7\u53d6\u6240\u6709\u5305\u542b <code>.</code> \u5e76\u4e14\u524d\u9762\u662f <code>$</code> \u7684\u6570\u5b57\u3002</p> <p>\u96f6\u5bbd\u5ea6\u65ad\u8a00\u5982\u4e0b\uff1a</p> \u7b26\u53f7 \u63cf\u8ff0 ?= \u6b63\u5148\u884c\u65ad\u8a00-\u5b58\u5728 ?! \u8d1f\u5148\u884c\u65ad\u8a00-\u6392\u9664 ?&lt;= \u6b63\u540e\u53d1\u65ad\u8a00-\u5b58\u5728 ?&lt;! \u8d1f\u540e\u53d1\u65ad\u8a00-\u6392\u9664"},{"location":"full-stack/coding/regex/#41","title":"4.1 <code>?=...</code> \u6b63\u5148\u884c\u65ad\u8a00","text":"<p><code>?=...</code> \u6b63\u5148\u884c\u65ad\u8a00\uff0c\u8868\u793a\u7b2c\u4e00\u90e8\u5206\u8868\u8fbe\u5f0f\u4e4b\u540e\u5fc5\u987b\u8ddf\u7740 <code>?=...</code>\u5b9a\u4e49\u7684\u8868\u8fbe\u5f0f\u3002</p> <p>\u8fd4\u56de\u7ed3\u679c\u53ea\u5305\u542b\u6ee1\u8db3\u5339\u914d\u6761\u4ef6\u7684\u7b2c\u4e00\u90e8\u5206\u8868\u8fbe\u5f0f\u3002 \u5b9a\u4e49\u4e00\u4e2a\u6b63\u5148\u884c\u65ad\u8a00\u8981\u4f7f\u7528 <code>()</code>\u3002\u5728\u62ec\u53f7\u5185\u90e8\u4f7f\u7528\u4e00\u4e2a\u95ee\u53f7\u548c\u7b49\u53f7\uff1a <code>(?=...)</code>\u3002</p> <p>\u6b63\u5148\u884c\u65ad\u8a00\u7684\u5185\u5bb9\u5199\u5728\u62ec\u53f7\u4e2d\u7684\u7b49\u53f7\u540e\u9762\u3002 \u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f <code>(T|t)he(?=\\sfat)</code> \u5339\u914d <code>The</code> \u548c <code>the</code>\uff0c\u5728\u62ec\u53f7\u4e2d\u6211\u4eec\u53c8\u5b9a\u4e49\u4e86\u6b63\u5148\u884c\u65ad\u8a00 <code>(?=\\sfat)</code> \uff0c\u5373 <code>The</code> \u548c <code>the</code> \u540e\u9762\u7d27\u8ddf\u7740 <code>(\u7a7a\u683c)fat</code>\u3002</p> <pre>\n\"(T|t)he(?=\\sfat)\" =&gt; The fat cat sat on the mat.\n</pre>"},{"location":"full-stack/coding/regex/#42","title":"4.2 <code>?!...</code> \u8d1f\u5148\u884c\u65ad\u8a00","text":"<p>\u8d1f\u5148\u884c\u65ad\u8a00 <code>?!</code> \u7528\u4e8e\u7b5b\u9009\u6240\u6709\u5339\u914d\u7ed3\u679c\uff0c\u7b5b\u9009\u6761\u4ef6\u4e3a \u5176\u540e\u4e0d\u8ddf\u968f\u7740\u65ad\u8a00\u4e2d\u5b9a\u4e49\u7684\u683c\u5f0f\u3002 <code>\u6b63\u5148\u884c\u65ad\u8a00</code>  \u5b9a\u4e49\u548c <code>\u8d1f\u5148\u884c\u65ad\u8a00</code> \u4e00\u6837\uff0c\u533a\u522b\u5c31\u662f <code>=</code> \u66ff\u6362\u6210 <code>!</code> \u4e5f\u5c31\u662f <code>(?!...)</code>\u3002</p> <p>\u8868\u8fbe\u5f0f <code>(T|t)he(?!\\sfat)</code> \u5339\u914d <code>The</code> \u548c <code>the</code>\uff0c\u4e14\u5176\u540e\u4e0d\u8ddf\u7740 <code>(\u7a7a\u683c)fat</code>\u3002</p> <pre>\n\"(T|t)he(?!\\sfat)\" =&gt; The fat cat sat on the mat.\n</pre>"},{"location":"full-stack/coding/regex/#43","title":"4.3 <code>?&lt;= ...</code> \u6b63\u540e\u53d1\u65ad\u8a00","text":"<p>\u6b63\u540e\u53d1\u65ad\u8a00 \u8bb0\u4f5c<code>(?&lt;=...)</code> \u7528\u4e8e\u7b5b\u9009\u6240\u6709\u5339\u914d\u7ed3\u679c\uff0c\u7b5b\u9009\u6761\u4ef6\u4e3a \u5176\u524d\u8ddf\u968f\u7740\u65ad\u8a00\u4e2d\u5b9a\u4e49\u7684\u683c\u5f0f\u3002 \u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f <code>(?&lt;=(T|t)he\\s)(fat|mat)</code> \u5339\u914d <code>fat</code> \u548c <code>mat</code>\uff0c\u4e14\u5176\u524d\u8ddf\u7740 <code>The</code> \u6216 <code>the</code>\u3002</p> <pre>\n\"(?&lt;=(T|t)he\\s)(fat|mat)\" =&gt; The fat cat sat on the mat.\n</pre>"},{"location":"full-stack/coding/regex/#44","title":"4.4 <code>?&lt;!...</code> \u8d1f\u540e\u53d1\u65ad\u8a00","text":"<p>\u8d1f\u540e\u53d1\u65ad\u8a00 \u8bb0\u4f5c <code>(?&lt;!...)</code> \u7528\u4e8e\u7b5b\u9009\u6240\u6709\u5339\u914d\u7ed3\u679c\uff0c\u7b5b\u9009\u6761\u4ef6\u4e3a \u5176\u524d\u4e0d\u8ddf\u968f\u7740\u65ad\u8a00\u4e2d\u5b9a\u4e49\u7684\u683c\u5f0f\u3002 \u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f <code>(?&lt;!(T|t)he\\s)(cat)</code> \u5339\u914d <code>cat</code>\uff0c\u4e14\u5176\u524d\u4e0d\u8ddf\u7740 <code>The</code> \u6216 <code>the</code>\u3002</p> <pre>\n\"(?&lt;!(T|t)he\\s)(cat)\" =&gt; The cat sat on cat.\n</pre>"},{"location":"full-stack/coding/regex/#5","title":"5. \u6807\u5fd7","text":"<p>\u6807\u5fd7\u4e5f\u53eb\u6a21\u5f0f\u4fee\u6b63\u7b26\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u7528\u6765\u4fee\u6539\u8868\u8fbe\u5f0f\u7684\u641c\u7d22\u7ed3\u679c\u3002 \u8fd9\u4e9b\u6807\u5fd7\u53ef\u4ee5\u4efb\u610f\u7684\u7ec4\u5408\u4f7f\u7528\uff0c\u5b83\u4e5f\u662f\u6574\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4e00\u90e8\u5206\u3002</p> \u6807\u5fd7 \u63cf\u8ff0 i \u5ffd\u7565\u5927\u5c0f\u5199\u3002 g \u5168\u5c40\u641c\u7d22\u3002 m \u591a\u884c\u4fee\u9970\u7b26\uff1a\u951a\u70b9\u5143\u5b57\u7b26 <code>^</code> <code>$</code> \u5de5\u4f5c\u8303\u56f4\u5728\u6bcf\u884c\u7684\u8d77\u59cb\u3002"},{"location":"full-stack/coding/regex/#51-case-insensitive","title":"5.1 \u5ffd\u7565\u5927\u5c0f\u5199 (Case Insensitive)","text":"<p>\u4fee\u9970\u8bed <code>i</code> \u7528\u4e8e\u5ffd\u7565\u5927\u5c0f\u5199\u3002 \u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f <code>/The/gi</code> \u8868\u793a\u5728\u5168\u5c40\u641c\u7d22 <code>The</code>\uff0c\u5728\u540e\u9762\u7684 <code>i</code> \u5c06\u5176\u6761\u4ef6\u4fee\u6539\u4e3a\u5ffd\u7565\u5927\u5c0f\u5199\uff0c\u5219\u53d8\u6210\u641c\u7d22 <code>the</code> \u548c <code>The</code>\uff0c<code>g</code> \u8868\u793a\u5168\u5c40\u641c\u7d22\u3002</p> <pre>\n\"The\" =&gt; The fat cat sat on the mat.\n</pre> <pre>\n\"/The/gi\" =&gt; The fat cat sat on the mat.\n</pre>"},{"location":"full-stack/coding/regex/#52-global-search","title":"5.2 \u5168\u5c40\u641c\u7d22 (Global search)","text":"<p>\u4fee\u9970\u7b26 <code>g</code> \u5e38\u7528\u4e8e\u6267\u884c\u4e00\u4e2a\u5168\u5c40\u641c\u7d22\u5339\u914d\uff0c\u5373\uff08\u4e0d\u4ec5\u4ec5\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\uff0c\u800c\u662f\u8fd4\u56de\u5168\u90e8\uff09\u3002 \u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f <code>/.(at)/g</code> \u8868\u793a\u641c\u7d22 \u4efb\u610f\u5b57\u7b26\uff08\u9664\u4e86\u6362\u884c\uff09+ <code>at</code>\uff0c\u5e76\u8fd4\u56de\u5168\u90e8\u7ed3\u679c\u3002</p> <pre>\n\"/.(at)/\" =&gt; The fat cat sat on the mat.\n</pre> <pre>\n\"/.(at)/g\" =&gt; The fat cat sat on the mat.\n</pre>"},{"location":"full-stack/coding/regex/#53-multiline","title":"5.3 \u591a\u884c\u4fee\u9970\u7b26 (Multiline)","text":"<p>\u591a\u884c\u4fee\u9970\u7b26 <code>m</code> \u5e38\u7528\u4e8e\u6267\u884c\u4e00\u4e2a\u591a\u884c\u5339\u914d\u3002</p> <p>\u50cf\u4e4b\u524d\u4ecb\u7ecd\u7684 <code>(^,$)</code> \u7528\u4e8e\u68c0\u67e5\u683c\u5f0f\u662f\u5426\u662f\u5728\u5f85\u68c0\u6d4b\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u6216\u7ed3\u5c3e\u3002\u4f46\u6211\u4eec\u5982\u679c\u60f3\u8981\u5b83\u5728\u6bcf\u884c\u7684\u5f00\u5934\u548c\u7ed3\u5c3e\u751f\u6548\uff0c\u6211\u4eec\u9700\u8981\u7528\u5230\u591a\u884c\u4fee\u9970\u7b26 <code>m</code>\u3002</p> <p>\u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f <code>/at(.)?$/gm</code> \u8868\u793a\u5c0f\u5199\u5b57\u7b26 <code>a</code> \u540e\u8ddf\u5c0f\u5199\u5b57\u7b26 <code>t</code> \uff0c\u672b\u5c3e\u53ef\u9009\u9664\u6362\u884c\u7b26\u5916\u4efb\u610f\u5b57\u7b26\u3002\u6839\u636e <code>m</code> \u4fee\u9970\u7b26\uff0c\u73b0\u5728\u8868\u8fbe\u5f0f\u5339\u914d\u6bcf\u884c\u7684\u7ed3\u5c3e\u3002</p> <pre>\n\"/.at(.)?$/\" =&gt; The fat\n                cat sat\n                on the mat.\n</pre> <pre>\n\"/.at(.)?$/gm\" =&gt; The fat\n                  cat sat\n                  on the mat.\n</pre>"},{"location":"full-stack/coding/regex/#6-greedy-vs-lazy-matching","title":"6. \u8d2a\u5a6a\u5339\u914d\u4e0e\u60f0\u6027\u5339\u914d (Greedy vs lazy matching)","text":"<p>\u6b63\u5219\u8868\u8fbe\u5f0f\u9ed8\u8ba4\u91c7\u7528\u8d2a\u5a6a\u5339\u914d\u6a21\u5f0f\uff0c\u5728\u8be5\u6a21\u5f0f\u4e0b\u610f\u5473\u7740\u4f1a\u5339\u914d\u5c3d\u53ef\u80fd\u957f\u7684\u5b50\u4e32\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>?</code> \u5c06\u8d2a\u5a6a\u5339\u914d\u6a21\u5f0f\u8f6c\u5316\u4e3a\u60f0\u6027\u5339\u914d\u6a21\u5f0f\u3002</p> <pre>\n\"/(.*at)/\" =&gt; The fat cat sat on the mat. </pre> <pre>\n\"/(.*?at)/\" =&gt; The fat cat sat on the mat. </pre>"},{"location":"full-stack/coding/regex/#_4","title":"\u5f15\u7528","text":"<ul> <li>Learn Regex</li> </ul>"},{"location":"full-stack/data-analysis/numpy/","title":"numpy","text":""},{"location":"full-stack/data-analysis/numpy/#_1","title":"\u6027\u80fd\u5bf9\u6bd4","text":"<pre><code>import numpy as np\n\n# \u5b9e\u73b0\u5217\u8868\u6bcf\u4e2a\u5143\u7d20\u7684\u5e73\u65b9\u548c\u7acb\u65b9\u52a0\u548c\n\n# \u666e\u901apython\u4ee3\u7801\ndef python_sum(n):\n    return [(i ** 2 + i ** 3) for i in range(n)]\n\n\n# numpy \u5b9e\u73b0\ndef numpy_sum(n):\n    return np.arange(n) ** 2 + np.arange(n) ** 3\n\n\n# \u7edf\u8ba1\u6267\u884c\u8017\u65f6\n# %timeit python_sum(10000)\n# %timeit numpy_sum(10000)\n\n# \u5927\u6570\u636e\u91cf\u6d4b\u8bd5\n# %timeit python_sum(1000 * 10000) =&gt; 1m17.3s\n# %timeit numpy_sum(1000 * 10000)  =&gt; 3.6s\n</code></pre>"},{"location":"full-stack/data-analysis/numpy/#arrayarray","title":"array\u5bf9\u8c61\u4ee5\u53ca\u521b\u5efaarray\u7684\u65b9\u6cd5","text":"<pre><code>\"\"\"\narray \u5bf9\u8c61\u7684\u80cc\u666f\n\n    - Numpy\u7684\u6838\u5fc3\u6570\u636e\u7ed3\u6784\uff0c\u5c31\u53eb\u505aarray\uff08\u6570\u7ec4\uff09\uff0carray\u5bf9\u8c61\u53ef\u4ee5\u662f\u4e00\u7ef4\u6570\u7ec4\uff0c\u4e5f\u53ef\u4ee5\u662f\u591a\u7ef4\u6570\u7ec4\n    - Python\u7684List\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u76f8\u540c\u529f\u80fd\uff0c\u4f46\u662farray\u6bd4List\u7684\u4f18\u70b9\u5728\u4e8e\uff1a\u6027\u80fd\u597d\uff0c\u5305\u542b\u6570\u7ec4\u5143\u6570\u636e\u4fe1\u606f\uff0c\u5927\u91cf\u7684\u4fbf\u6377\u51fd\u6570\n    - Numpy\u6210\u4e3a\u4e8b\u5b9e\u4e0a\u7684Scipy,Pandas,Scikit-Learn,Tensorflow,PaddlePaddle\u7b49\u6846\u67b6\u7684\u901a\u7528\u5e95\u5c42\u8bed\u8a00\n    - Numpy\u4e0ePython List\u7684\u4e00\u4e2a\u4e0d\u540c\u70b9\u662f\uff0c\u5b83\u7684\u5143\u7d20\u5fc5\u987b\u662f\u540c\u4e00\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u8fd9\u4e5f\u662fNumpy\u9ad8\u6027\u80fd\u7684\u4e00\u4e2a\u539f\u56e0\n\n\"\"\"\n\nimport numpy as np\n\n# \u521b\u5efa\u4e00\u7ef4\u6570\u7ec4\nx1 = np.array([1, 2, 3, 4, 5, 6, 7, 8])\n\n# \u521b\u5efa\u4e8c\u7ef4\u6570\u7ec4\nx2 = np.array([[1, 2, 3, 4], [5, 6, 7, 8]])\n\n\n# array\u5bf9\u8c61\u7684\u5c5e\u6027\nx2.shape\nx2.ndim\nx2.size\nx2.dtype\n\n\n# \u4f7f\u7528 arange \u521b\u5efa\u6570\u5b57\u5e8f\u5217\nnp.arange(10)  # =&gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]) =&gt; \u8bbe\u7f6e\u7ed3\u675f\u6570\u503c\nnp.arange(2, 10)  # =&gt; array([2, 3, 4, 5, 6, 7, 8, 9]) =&gt; \u8bbe\u7f6e\u8d77\u59cb\u548c\u7ed3\u675f\u6570\u503c\nnp.arange(2, 10, 2)  # =&gt; array([2, 4, 6, 8]) =&gt; \u8bbe\u7f6e\u8d77\u59cb\u548c\u7ed3\u675f\u6570\u503c\uff0c\u4e14\u8bbe\u7f6e\u6b65\u957f\n\n\n# \u4f7f\u7528 ones \u521b\u5efa\u5168\u662f1\u7684\u6570\u7ec4\nnp.ones(10)  # =&gt; array([1., 1., 1., 1., 1., 1., 1., 1., 1., 1.])\nnp.ones((2, 3))  # =&gt; array([[1., 1., 1.], [1., 1., 1.]]) =&gt; 2\u884c3\u5217\n\n# \u4f7f\u7528ones_like\u521b\u5efa\u5f62\u72b6\u76f8\u540c\u7684\u6570\u7ec4\nnp.ones_like(x2)  # =&gt; array([[1, 1, 1, 1], [1, 1, 1, 1]])\n\n\n# \u4f7f\u7528 zeros \u521b\u5efa\u5168\u662f1\u7684\u6570\u7ec4\nnp.zeros(10)  # =&gt; array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])\nnp.zeros((2, 3))  # =&gt; array([[0., 0., 0.], [0., 0., 0.]]) =&gt; 2\u884c3\u5217\n\n# \u4f7f\u7528ones_like\u521b\u5efa\u5f62\u72b6\u76f8\u540c\u7684\u6570\u7ec4\nnp.zeros_like(x2)  # =&gt; array([[0, 0, 0, 0], [0, 0, 0, 0]])\n\n\n# \u4f7f\u7528 empty \u521b\u5efa\u5168\u662f0\u7684\u6570\u7ec4\nnp.empty(10)  # =&gt; array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])\nnp.empty((2, 3))  # =&gt; array([[0., 0., 0.], [0., 0., 0.]]) =&gt; 2\u884c3\u5217\n\n# \u4f7f\u7528ones_like\u521b\u5efa\u5f62\u72b6\u76f8\u540c\u7684\u6570\u7ec4\nnp.empty_like(x2)  # =&gt; array([[0, 0, 0, 0], [0, 0, 0, 0]])\n\n\n# \u4f7f\u7528 full \u521b\u5efa\u5168\u6307\u5b9a\u503c\u7684\u6570\u7ec4 =&gt; np.full(shape, fill_vaue, dtype=None, order=\"C\")\nnp.full(10, 666)  # =&gt; array([666, 666, 666, 666, 666, 666, 666, 666, 666, 666])\nnp.full((2, 3), 666)  # =&gt; array([[666, 666, 666], [666, 666, 666]]) =&gt; 2\u884c3\u5217\n\n# \u4f7f\u7528ones_like\u521b\u5efa\u5f62\u72b6\u76f8\u540c\u7684\u6570\u7ec4\nnp.full_like(x2, 666)  # =&gt; array([[666, 666, 666, 666], [666, 666, 666, 666]])\n\n\n# \u4f7f\u7528 random \u6a21\u5757\u751f\u6210\u968f\u673a\u6570\u7684\u6570\u7ec4 =&gt; randn(d0, d1, ..., dn)\nnp.random.randn()  # =&gt; -1.7396446526555316\n# \u4e00\u7ef4\u6570\u7ec4\nnp.random.randn(3)  # =&gt; array([-0.49077112,  1.32385458, -0.74204074])\n# \u4e8c\u7ef4\u6570\u7ec4\nnp.random.randn(3, 2)  # =&gt; array([[-0.41556608, -1.44517028],[ 0.94246819,  2.3243538 ],[-0.48885273, -0.92321349]])\n\n# \u4e09\u7ef4\u6570\u7ec4\nnp.random.randn(3, 2, 4)\n\n\"\"\"\narray([[[ 0.72067021, -1.07090792, -0.05211906,  0.20735259],\n        [-0.89798276,  0.8301943 ,  0.44650108, -0.86517441]],\n\n       [[ 0.46013563,  0.55681986, -0.26365684, -1.04471932],\n        [-1.20813438,  0.69417912,  0.4398812 , -0.79399575]],\n\n       [[-1.15638636, -0.41220997, -0.25808663, -0.42699029],\n        [ 1.62206012, -1.64449513, -0.15701649, -1.34369567]]])\n\"\"\"\n</code></pre>"},{"location":"full-stack/data-analysis/numpy/#array","title":"array \u64cd\u4f5c","text":"<pre><code>import numpy as np\n\n\n# \u5c06\u4e00\u7ef4\u6570\u7ec4\u53d8\u6210\u4e8c\u7ef4\u6570\u7ec4\nA = np.arange(10).reshape(2, 5)  # =&gt; array([[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]])\n\n# \u5143\u7d20\u52a0\u548c - \u5e7f\u64ad\u52a0\u548c - \u81ea\u52a8\u5bf9\u6bcf\u4e00\u4e2a\u5143\u7d20\u52a0\u548c\nA + 1  # =&gt; array([[ 1,  2,  3,  4,  5], [ 6,  7,  8,  9, 10]])\n\nA * 3  # =&gt; array([[ 0,  3,  6,  9, 12], [15, 18, 21, 24, 27]])\n\nnp.sin(A)\n# =&gt; array([[ 0.        ,  0.84147098,  0.90929743,  0.14112001, -0.7568025 ], [-0.95892427, -0.2794155 ,  0.6569866 ,  0.98935825,  0.41211849]])\n\n\nB = np.random.randn(2, 5)\n\n# \u6570\u7ec4\u6c42\u548c/\u6c42\u5dee =&gt; \u5bf9\u5e94\u5143\u7d20\u8fdb\u884c\u6c42\u548c/\u6c42\u5dee\nA + B\nA - B\n</code></pre>"},{"location":"full-stack/data-analysis/numpy/#_2","title":"\u67e5\u8be2","text":"<pre><code>import numpy as np\n\n\n# \u4e00\u7ef4\u6570\u7ec4\nx1 = np.arange(10)\n# \u4e8c\u7ef4\u6570\u7ec4\nx2 = np.arange(20).reshape(4, 5)\n\n\n# \u57fa\u7840\u7d22\u5f15\n\n# \u4e00\u7ef4\u6570\u7ec4\nprint(x1[0], x1[1], x1[-1])  # =&gt; 0 1 9\nprint(x1[2:4])  # =&gt; [2 3]\nprint(x1[2:-1])  # =&gt; [2 3 4 5 6 7 8]\nprint(x1[2:])  # =&gt; [2 3 4 5 6 7 8 9]\nprint(x1[:-2])  # =&gt; [0 1 2 3 4 5 6 7]\n\n\nx2[0, 0]  # \u7b49\u4ef7\u4e8e x2[0][0] =&gt; 0\nx2[-1, 2]  # =&gt; 17\nx2[2]  # =&gt; array([10, 11, 12, 13, 14])\nx2[:-1]  # array([[ 0,  1,  2,  3,  4], [ 5,  6,  7,  8,  9], [10, 11, 12, 13, 14]])\nx2[0:2, 2:4]  # array([[2, 3], [7, 8]])\nx2[:, 2]  # =&gt; array([ 2,  7, 12, 17])\n</code></pre>"},{"location":"full-stack/data-analysis/numpy/#_3","title":"\u6570\u7ec4","text":"<pre><code>x2[2:4]\nx2[2:4] = 666\n# =&gt; array([[  0,   1,   2,   3,   4], [  5,   6,   7,   8,   9], [666, 666, 666, 666, 666], [666, 666, 666, 666, 666]])\n\n\n# \u795e\u5947\u7d22\u5f15\uff1a\u7528\u6574\u6570\u6570\u7ec4\u8fdb\u884c\u7684\u7d22\u5f15\n\n# \u4e00\u7ef4\u6570\u7ec4\nx1 = np.arange(10)\n\nx1[[3, 4, 7]]  # =&gt; array([3, 4, 7])\n\nindexs = np.array([[0, 2], [1, 3]])\nx1[indexs]  # =&gt; array([[0, 2], [1, 3]])\n\n\n# \u793a\u4f8b\uff1a\u83b7\u53d6\u6570\u7ec4\u4e2d\u6700\u5927\u7684\u524dN\u4e2a\u6570\u5b57\n\narr = np.random.randint(1, 100, 10)\narr\n\n# argsort() \u4f1a\u8fd4\u56de\u6392\u5e8f\u540e\u7684\u7d22\u5f15 index\nindex = arr.argsort()[-3:]\narr[index]\n\n\n# \u4e8c\u7ef4\u6570\u7ec4\n\nx2 = np.arange(20).reshape(4, 5)\nx2\n\n# \u7b5b\u9009\u591a\u884c\uff0c\u5217\u53ef\u4ee5\u7701\u7565\nx2[[0, 2]]\nx2[[0, 2], :]\n\n# \u7b5b\u9009\u591a\u5217\uff0c\u884c\u4e0d\u80fd\u7701\u7565\nx2[:, [0, 2, 3]]\n\n# \u540c\u65f6\u6307\u5b9a\u884c\u5217\nx2[[0, 2, 3], [1, 3, 4]]\n\n\n# \u5e03\u5c14\u7d22\u5f15\n\n# \u4e00\u7ef4\u6570\u7ec4\nx1 = np.arange(10)\nx1  # =&gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\n\nx1 &gt; 5  # =&gt; array([False, False, False, False, False, False,  True,  True,  True, True])\nx1[x1 &gt; 5]  # =&gt; array([6, 7, 8, 9])\n\n\n# \u5b9e\u4f8b\uff1a\u6309\u6761\u4ef6\u8d4b\u503c\nx1[x1 &lt;= 5] = 0\nx1[x1 &gt; 5] = 1\n\n# =&gt; array([0, 0, 0, 0, 0, 0, 1, 1, 1, 1])\n\n\n# \u4e8c\u7ef4\u6570\u7ec4\n\nx2 = np.arange(20).reshape(4, 5)\nx2\n\nx2 &gt; 5\nx2[x2 &gt; 5]\n\n\nx2[:, 3]\n\nx2[x2[:, 3] &gt; 5]\n\nx2[(x2 % 2 == 0) &amp; (x2 &gt; 7)]  # array([ 8, 10, 12, 14, 16, 18])\nx2[(x2 % 2 == 0) | (x2 &gt; 7)]  # array([ 0,  2,  4,  6,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19])\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/","title":"pandas","text":""},{"location":"full-stack/data-analysis/pandas/#dataframe","title":"DataFrame","text":"<pre><code>import pymysql\nimport pandas as pd\n\n# \u8bfb\u53d6CSV\u6587\u4ef6\npath_ratings = \"./ratings.csv\"\nratings = pd.read_csv(path_ratings)\n\n# \u6b64\u5904\u6307\u5b9a engine=\"python\" \u662f\u4e3a\u4e86\u907f\u514d\u5c06\u5206\u9694\u7b26\"::\" \u8bc6\u522b\u4e3a\u6b63\u5219\u5339\u914d\n# ratings = pd.read_csv(\"./ratings.csv\", sep=\"::\", engine=\"python\", names=\"UserId,MovieId,Rating,Timestamp\".split(\",\"))\n\n\n# \u8bfb\u53d6TAB\u5206\u5272\u7684txt\u6587\u4ef6\npath_access = \"./access_pvuv.txt\"\naccess = pd.read_csv(path_access, sep=\"\\t\", header=None, names=[\"pdate\", \"pv\", \"uv\"])\n\n\n# \u8bfb\u53d6Excel\u6587\u4ef6\npath_access = \"./access_pvuv.xlsx\"\naccess = pd.read_excel(path_access)\n\n# \u8bfb\u53d6MySQL\u6570\u636e\u5e93\nconn = pymysql.connect(host=\"127.0.0.1\", user=\"root\", password=\"123456\", database=\"test\", charset=\"utf8\")\ndata = pd.read_sql(\"select * from access_pvuv\", con=conn)\n\n\n# \u5168\u90e8\u6570\u636e\nratings\n\n# \u67e5\u770b\u524d\u51e0\u884c\nratings.head()\nratings.head(1)\n\n\n# \u67e5\u770b\u6570\u636e\u5f62\u72b6\uff0c\u8fd4\u56de(\u884c\uff0c\u5217)\nratings.shape\n\n# \u67e5\u770b\u6570\u636e\u5217\u540d\u5217\u8868\nratings.columns\n\n# \u67e5\u770b\u7d22\u5f15\u4fe1\u606f\nratings.index\n\n# \u67e5\u770b\u6bcf\u5217\u7684\u6570\u636e\u7c7b\u578b\nratings.dtypes\n\n\n\n# \u6839\u636e\u591a\u4e2a\u5b57\u5178\u5e8f\u5217\u521b\u5efaDataFrame\n\ndata = {\"name\": [\"Bob\", \"John\", \"Roy\", \"Joe\"], \"age\": [18, 19, 20, 21], \"height\": [165, 178, 180, 181]}\ndf = pd.DataFrame(data)\ndf\n\n\n# \u67e5\u8be2\u5217\ndf[\"name\"]  # \u67e5\u8be2\u4e00\u5217\uff0c\u7ed3\u679c\u662f\u4e00\u4e2a Series\ndf[[\"name\", \"age\"]]  # \u67e5\u8be2\u591a\u5217\uff0c\u7ed3\u679c\u662f\u4e00\u4e2a DataFrame\n\n\n# \u67e5\u8be2\u884c\ndf.loc[1]  # \u67e5\u8be2\u5355\u884c\ndf.loc[1:3]  # \u67e5\u8be2\u591a\u884c\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#series","title":"Series","text":"<pre><code>import pandas as pd\n\n# \u4f7f\u7528\u9ed8\u8ba4\u7d22\u5f15\nseries = pd.Series([1, \"a\", 5.2, 77777])\nseries\n\n# \u81ea\u5b9a\u4e49\u7d22\u5f15\nseries = pd.Series([1, \"a\", 5.2, 77777], index=[\"a\", \"b\", \"c\", \"d\"])\nseries\n\n# \u4f7f\u7528\u5b57\u5178\u521b\u5efa Series\ndata = {\"name\": \"hhb\", \"age\": 18, \"height\": 180, \"weight\": 60}\nseries = pd.Series(data)\nseries\n\n# \u67e5\u770b\u7d22\u5f15\nseries.index\n\n# \u67e5\u770b\u503c\nseries.values\n\n\n# \u83b7\u53d6\u503c\nseries[\"name\"]\n\n# \u83b7\u53d6\u591a\u4e2a\u503c\nseries[[\"name\", \"age\"]]\n\n# \u67e5\u770b\u7c7b\u578b\ntype(series[\"name\"])  # =&gt; str\ntype(series[[\"name\", \"age\"]])  # =&gt; pandas.core.series.Series\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_1","title":"\u6570\u636e\u67e5\u8be2","text":"<pre><code>import pandas as pd\n\npath = \"./beijing_tianqi_2018.csv\"\ndf = pd.read_csv(path)\ndf.head()\n\n# \u91cd\u65b0\u8bbe\u7f6e\u7d22\u5f15\uff0c\u4ee3\u66ff\u9ed8\u8ba4\u7684\u7d22\u5f15\ndf.set_index(\"\u65e5\u671f\", inplace=True)\ndf.index\n\n\n# \u6570\u636e\u6e05\u6d17\uff1a\u79fb\u9664\u6e29\u5ea6\u540e\u7f00\u5e76\u8f6c\u5316\u4e3aint\u7c7b\u578b\ndf.loc[:, \"\u6700\u4f4e\u6e29\u5ea6\"] = df[\"\u6700\u4f4e\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\ndf.loc[:, \"\u6700\u9ad8\u6e29\u5ea6\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\ndf.dtypes\n\n# \u4f7f\u7528Label\u67e5\u8be2\n\n# \u6309\u884c\u548c\u5217\u7cbe\u786e\u67e5\u627e\uff0c\u5f97\u5230\u5355\u4e2a\u503c\ndf.loc[\"2018-01-01\", \"\u6700\u9ad8\u6e29\u5ea6\"]\n\n# \u67e5\u8be2\u67d0\u4e00\u884c\u591a\u5217\u503c\ndf.loc[\"2018-01-01\", [\"\u6700\u9ad8\u6e29\u5ea6\", \"\u6700\u4f4e\u6e29\u5ea6\"]]\n\n# \u67e5\u8be2\u67d0\u4e00\u5217\u591a\u884c\u7684\u503c\ndf.loc[[\"2018-01-01\", \"2018-01-02\"], \"\u6700\u9ad8\u6e29\u5ea6\"]\n\n# \u67e5\u8be2\u591a\u884c\u591a\u5217\u7684\u503c\ndf.loc[[\"2018-01-01\", \"2018-01-02\"], [\"\u6700\u9ad8\u6e29\u5ea6\", \"\u6700\u4f4e\u6e29\u5ea6\"]]\n\n# \u4f7f\u7528\u7d22\u5f15\u533a\u95f4\u67e5\u503c\ndf.loc[\"2018-01-01\":\"2018-01-05\", \"\u6700\u9ad8\u6e29\u5ea6\":\"\u98ce\u7ea7\"]\n\n# \u4f7f\u7528\u6761\u4ef6\u8868\u8fbe\u5f0f\u67e5\u503c\ndf.loc[df[\"\u6700\u4f4e\u6e29\u5ea6\"] &lt; -5, :]  # =&gt; \u67e5\u8be2\u6700\u4f4e\u6e29\u5ea6\u5c0f\u4e8e-5\u5ea6\u7684\u6570\u636e\u5168\u90e8\u5217\u8bb0\u5f55\n\n# \u67e5\u770b\u8fc7\u6ee4\u6761\u4ef6\u8fd4\u56de\u7684\u5185\u5bb9\ndf[\"\u6700\u4f4e\u6e29\u5ea6\"] &lt; -5\n\n\n# \u591a\u6761\u4ef6\u7ec4\u5408\u67e5\u8be2\ndf.loc[(df[\"\u6700\u9ad8\u6e29\u5ea6\"] &lt; 11) &amp; (df[\"\u6700\u4f4e\u6e29\u5ea6\"] &gt; -7) &amp; (df[\"\u5929\u6c14\"] == \"\u6674\"), :]\n\n\n# \u4f7f\u7528\u51fd\u6570\u67e5\u8be2\n\n# \u81ea\u5b9a\u4e49\u51fd\u6570\u67e5\u8be2\ndef query_data(data):\n    return (data[\"\u6700\u9ad8\u6e29\u5ea6\"] &lt; 11) &amp; (data[\"\u6700\u4f4e\u6e29\u5ea6\"] &gt; -7) &amp; (data[\"\u5929\u6c14\"] == \"\u6674\")\n\n\ndf.loc[query_data, :]\n\n# \u4f7f\u7528lambda\u67e5\u8be2\ndf.loc[lambda data: (data[\"\u6700\u9ad8\u6e29\u5ea6\"] &lt; 11) &amp; (data[\"\u6700\u4f4e\u6e29\u5ea6\"] &gt; -7) &amp; (data[\"\u5929\u6c14\"] == \"\u6674\"), :]\ndf.loc[lambda data: (data.index.str.startswith(\"2018-01-01\")), :]  # \u4e86\u89e3\u8f6c\u5b57\u7b26\u4e32\u540e\u51fd\u6570\u7684\u4f7f\u7528\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_2","title":"\u65b0\u589e\u5217","text":"<pre><code>import pandas as pd\n\npath = \"./beijing_tianqi_2018.csv\"\ndf = pd.read_csv(path)\n\n# \u65b9\u6cd5\u4e00\ndf.loc[:, \"\u6700\u4f4e\u6e29\u5ea6\"] = df[\"\u6700\u4f4e\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\ndf.loc[:, \"\u6700\u9ad8\u6e29\u5ea6\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\n\n# \u65b9\u6cd5\u4e8c\n# df[\"\u6700\u4f4e\u6e29\u5ea6\"] = df[\"\u6700\u4f4e\u6e29\u5ea6\"].map(lambda x: int(str(x).replace(\"\u2103\", \"\")))\n# df[\"\u6700\u9ad8\u6e29\u5ea6\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"].map(lambda x: int(str(x).replace(\"\u2103\", \"\")))\n\n# \u65b0\u589e\u5217\n\n# \u65b9\u6cd5\u4e00\ndf[\"\u6e29\u5dee\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"] - df[\"\u6700\u4f4e\u6e29\u5ea6\"]\n\n# \u65b9\u6cd5\u4e8c\ndf.loc[:, \"\u6e29\u5dee\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"] - df[\"\u6700\u4f4e\u6e29\u5ea6\"]\n\n\n# axis = 0 =&gt; index\n# axis = 1 =&gt; column\n\n# \u4f7f\u7528 apply \u51fd\u6570\n# \u65b0\u589e\u4e00\u5217\u3010\u4f53\u8868\u611f\u89c9\u3011\uff0c\u5927\u4e8e0\u5ea6\u663e\u793a\u4e3a\u611f\u89c9\u8fd8\u597d\uff0c\u4f4e\u4e8e0\u5ea6\u663e\u793a\u4e3a\u597d\u51b7\n\n\ndef get_feel(data):\n    if data[\"\u6700\u9ad8\u6e29\u5ea6\"] &gt; 0:\n        return \"\u611f\u89c9\u8fd8\u597d\"\n    else:\n        return \"\u6709\u70b9\u51b7\"\n\n\ndf[\"\u4f53\u8868\u611f\u89c9\"] = df.apply(get_feel, axis=1)\ndf[\"\u4f53\u8868\u611f\u89c9\"].value_counts()  # \u8ba1\u6570\u51fd\u6570\n\n\n# \u4f7f\u7528 assign \u51fd\u6570\u65b0\u589e\u5217\uff08\u53ef\u540c\u65f6\u65b0\u589e\u591a\u5217\uff09\n\n# \u5c06\u6e29\u5ea6\u4ece\u6444\u6c0f\u5ea6\u8f6c\u5316\u4e3a\u534e\u6c0f\u5ea6\ndf.assign(\u6700\u9ad8\u6e29\u5ea6_\u534e\u6c0f\u5ea6=lambda data: data[\"\u6700\u9ad8\u6e29\u5ea6\"] * 9 / 5 + 32, \u6700\u4f4e\u6e29\u5ea6_\u534e\u6c0f\u5ea6=lambda data: data[\"\u6700\u4f4e\u6e29\u5ea6\"] * 9 / 5 + 32)\n\n\n# \u6309\u6761\u4ef6\u9009\u62e9\u5206\u7ec4\u5206\u522b\u8d4b\u503c\ndf[\"\u6e29\u5dee\u7c7b\u578b\"] = \"\"  # pandas \u5e7f\u64ad\u529f\u80fd\ndf.loc[df[\"\u6700\u9ad8\u6e29\u5ea6\"] - df[\"\u6700\u4f4e\u6e29\u5ea6\"] &gt; 10, \"\u6e29\u5dee\u7c7b\u578b\"] = \"\u6e29\u5dee\u5927\"\ndf.loc[df[\"\u6700\u9ad8\u6e29\u5ea6\"] - df[\"\u6700\u4f4e\u6e29\u5ea6\"] &lt;= 10, \"\u6e29\u5dee\u7c7b\u578b\"] = \"\u6e29\u5dee\u6b63\u5e38\"\n\n\n# \u4f7f\u7528 apply \u51fd\u6570\u540c\u65f6\u65b0\u589e\u591a\u5217\n\n\ndef my_func(df):\n    # \u540c\u65f6\u65b0\u589e \u6e29\u5dee \u548c \u5e73\u5747\u6e29\u5ea6 \u4e24\u5217\n    return df[\"\u6700\u9ad8\u6e29\u5ea6\"] - df[\"\u6700\u4f4e\u6e29\u5ea6\"], (df[\"\u6700\u9ad8\u6e29\u5ea6\"] - df[\"\u6700\u4f4e\u6e29\u5ea6\"]) / 2\n\n\ndf[[\"Wencha\", \"AVG\"]] = df.apply(my_func, axis=1, result_type=\"expand\")\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_3","title":"\u6570\u636e\u7edf\u8ba1","text":"<pre><code>import pandas as pd\n\npath = \"./beijing_tianqi_2018.csv\"\ndf = pd.read_csv(path)\n\ndf.loc[:, \"\u6700\u4f4e\u6e29\u5ea6\"] = df[\"\u6700\u4f4e\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\ndf.loc[:, \"\u6700\u9ad8\u6e29\u5ea6\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\n\n# \u6c47\u603b\u7c7b\u7edf\u8ba1\ndf.describe()  # \u8ba1\u6570\uff0c\u5e73\u5747\u503c\uff0c\u6807\u51c6\u5dee\uff0c\u6700\u5c0f\u503c\uff0c\u5206\u4f4d\u6570\uff0c\u6700\u5927\u503c\n\n# \u67e5\u770b\u5355\u5217\u503c\u7684\u7edf\u8ba1\ndf[\"\u6700\u9ad8\u6e29\u5ea6\"].mean()\ndf[\"\u6700\u9ad8\u6e29\u5ea6\"].max()\ndf[\"\u6700\u9ad8\u6e29\u5ea6\"].std()\ndf[\"\u6700\u9ad8\u6e29\u5ea6\"].min()\n\n\n# \u552f\u4e00\u53bb\u91cd\ndf[\"\u5929\u6c14\"].unique()\n\n# \u6309\u503c\u8ba1\u6570\ndf[\"\u5929\u6c14\"].value_counts()\n\n\n# \u534f\u65b9\u5dee\u77e9\u9635 =&gt; \u8861\u91cf\u540c\u5411\u53cd\u5411\u7a0b\u5ea6\ndf.cov()\n\n# \u76f8\u5173\u7cfb\u6570\u77e9\u9635 =&gt; \u8861\u91cf\u76f8\u4f3c\u5ea6\u7a0b\u5ea6\ndf.corr()\n\n# \u5355\u72ec\u67e5\u770b\u67d0\u4e9b\u5217\u7684\u76f8\u5173\u7cfb\u6570\ndf[\"\u6700\u9ad8\u6e29\u5ea6\"].corr(df[\"aqi\"])\n(df[\"\u6700\u9ad8\u6e29\u5ea6\"] - df[\"\u6700\u4f4e\u6e29\u5ea6\"]).corr(df[\"aqi\"])\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_4","title":"\u7f3a\u5931\u503c\u5904\u7406","text":"<pre><code>import pandas as pd\n\npath = \"./student_score.xlsx\"\ndf = pd.read_excel(path, skiprows=2)\n\n\n# \u4e3a\u7a7a/\u975e\u7a7a \u5224\u65ad\ndf[\"\u5206\u6570\"].isnull()\ndf[\"\u5206\u6570\"].notnull()\n\n\n# \u5220\u9664\u6570\u636e\u5168\u4e3a\u7a7a\u7684\u5217\ndf.dropna(axis=\"columns\", how=\"all\", inplace=True)\n\n\n# \u5220\u9664\u6570\u636e\u5168\u4e3a\u7a7a\u7684\u884c\ndf.dropna(axis=\"index\", how=\"all\", inplace=True)\n\n\n# \u5c06\u5206\u6570\u4e3a\u7a7a\u7684\u5217\u586b\u5145\u4e3a0\n\n# \u65b9\u6cd5\u4e00\uff1a\ndf.fillna({\"\u5206\u6570\": 0})\n# \u65b9\u6cd5\u4e8c\uff1a\ndf.loc[:, \"\u5206\u6570\"] = df[\"\u5206\u6570\"].fillna(0)\n# \u65b9\u6cd5\u4e09\uff1a\ndf[\"\u5206\u6570\"] = df[\"\u5206\u6570\"].fillna(0)\n\n\n# \u5c06\u59d3\u540d\u5217\u5408\u5e76\u5355\u5143\u683c\u7684\u503c\u8fdb\u884c\u586b\u5145\n# ffill =&gt; forward fill \u5411\u524d\u586b\u5145\ndf[\"\u59d3\u540d\"] = df[\"\u59d3\u540d\"].fillna(method=\"ffill\")\n\ndf.to_excel(\"./student_score_new.xlsx\", index=False)\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_5","title":"\u62a5\u8b66\u5904\u7406","text":"<pre><code>import pandas as pd\n\npath = \"./beijing_tianqi_2018.csv\"\ndf = pd.read_csv(path)\n\ndf.loc[:, \"\u6700\u4f4e\u6e29\u5ea6\"] = df[\"\u6700\u4f4e\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\ndf.loc[:, \"\u6700\u9ad8\u6e29\u5ea6\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\n\n# SettingWithCopyWarning\ndf[df[\"\u65e5\u671f\"].str.startswith(\"2018-01\")][\"\u6e29\u5dee\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"] - df[\"\u6700\u4f4e\u6e29\u5ea6\"]\n\n\n# \u89e3\u51b3\u65b9\u6848\uff1a\u5c06 get + set \u7684\u4e24\u6b65\u64cd\u4f5c\uff0c\u6539\u6210 set \u7684\u4e00\u6b65\u64cd\u4f5c\ndf.loc[df[\"\u65e5\u671f\"].str.startswith(\"2018-01\"), \"\u6e29\u5dee\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"] - df[\"\u6700\u4f4e\u6e29\u5ea6\"]\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_6","title":"\u6570\u636e\u6392\u5e8f","text":"<pre><code>import pandas as pd\n\npath = \"./beijing_tianqi_2018.csv\"\ndf = pd.read_csv(path)\n\ndf.loc[:, \"\u6700\u4f4e\u6e29\u5ea6\"] = df[\"\u6700\u4f4e\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\ndf.loc[:, \"\u6700\u9ad8\u6e29\u5ea6\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\n\n# \u9ed8\u8ba4\u662f\u5347\u5e8f\u6392\u5e8f\ndf[\"\u6700\u9ad8\u6e29\u5ea6\"].sort_values()\n# \u964d\u5e8f\u6392\u5e8f\ndf[\"\u6700\u9ad8\u6e29\u5ea6\"].sort_values(ascending=False)\n\n# \u5c06\u6574\u4e2aDataFrame \u6309 \u6700\u9ad8\u6e29\u5ea6\u5347\u5e8f\u6392\u5e8f\ndf.sort_values(by=\"\u6700\u9ad8\u6e29\u5ea6\")\ndf.sort_values(by=\"\u6700\u9ad8\u6e29\u5ea6\", ascending=False)\n\n# \u591a\u5217\u6392\u5e8f\ndf.sort_values(by=[\"\u6700\u9ad8\u6e29\u5ea6\", \"\u6700\u4f4e\u6e29\u5ea6\"])\n# \u591a\u5217\u6392\u5e8f\u4e14\u5206\u522b\u6307\u5b9a\u5347\u5e8f\u548c\u964d\u5e8f\ndf.sort_values(by=[\"\u6700\u9ad8\u6e29\u5ea6\", \"\u6700\u4f4e\u6e29\u5ea6\"], ascending=[True, False])\ndf.sort_values(by=[\"\u6700\u9ad8\u6e29\u5ea6\", \"\u6700\u4f4e\u6e29\u5ea6\"], ascending=[True, False], inplace=True)\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_7","title":"\u5b57\u7b26\u4e32\u5904\u7406","text":"<pre><code>import pandas as pd\n\npath = \"./beijing_tianqi_2018.csv\"\ndf = pd.read_csv(path)\n\n\ndf[\"\u5929\u6c14\"].str\n\n# \u5e38\u7528\u65b9\u6cd5\ndf[\"\u6700\u4f4e\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\")\ndf[\"\u6700\u4f4e\u6e29\u5ea6\"].str.isnumeric()\ndf[\"\u6700\u4f4e\u6e29\u5ea6\"].str.len()\n\n# NOTE: \u53ea\u80fd\u5728\u5b57\u7b26\u4e32\u4e0a\u8c03\u7528 .str \u5c5e\u6027\n\n\n# .str \u65b9\u6cd5\u7528\u4e8e\u6761\u4ef6\u67e5\u8be2\ndf[df[\"\u65e5\u671f\"].str.startswith(\"2018-01\")]\n\n# .str \u7684\u94fe\u5f0f\u64cd\u4f5c\ndf[\"\u65e5\u671f\"].str.replace(\"-\", \"\").str.slice(0, 6)\ndf[\"\u65e5\u671f\"].str.replace(\"-\", \"\").str[0:6]\n\n\n# \u6dfb\u52a0\u65b0\u5217\ndef get_nianyueri(data):\n    year, month, day = data[\"\u65e5\u671f\"].split(\"-\")\n    return f\"{year}\u5e74{month}\u6708{day}\u65e5\"\n\n\ndf[\"\u4e2d\u6587\u65e5\u671f\"] = df.apply(get_nianyueri, axis=1)\n\n# \u5c06\u4e2d\u6587\u65e5\u671f\u5217\u4e2d\u7684\u5e74\u6708\u65e5\u79fb\u9664\n\n# \u65b9\u6cd5\u4e00\uff1a\u94fe\u5f0f\u8c03\u7528\ndf[\"\u4e2d\u6587\u65e5\u671f\"].str.replace(\"\u5e74\", \"\").str.replace(\"\u6708\", \"\").str.replace(\"\u65e5\", \"\")\n\n# \u65b9\u6cd5\u4e8c\uff1a\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\ndf[\"\u4e2d\u6587\u65e5\u671f\"].str.replace(\"[\u5e74\u6708\u65e5]\", \"\")\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#axis","title":"axis","text":"<pre><code>import pandas as pd\nimport numpy as np\n\n\ndf = pd.DataFrame(np.arange(12).reshape(3, 4), columns=[\"A\", \"B\", \"C\", \"D\"])\n\n# \u5220\u9664\u5355\u5217\ndf.drop(\"A\", axis=1)\n\n# \u5220\u9664\u5355\u884c\ndf.drop(1, axis=0)\n\n# \u5bf9\u884c\u53d6\u5e73\u5747\u503c\ndf.mean(axis=0)\n# \u5bf9\u5217\u53d6\u5e73\u5747\u503c\ndf.mean(axis=1)\n\n\ndef get_sum_value(data):\n    return data[\"A\"] + data[\"B\"] + data[\"C\"] + data[\"D\"]\n\n\ndf[\"sum\"] = df.apply(get_sum_value, axis=1)\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#index","title":"index","text":"<pre><code>import pandas as pd\n\ndf = pd.read_csv(\"./ratings.csv\")\n\n# \u5217\u6570\u636e\u8ba1\u6570\ndf.count()\n\n# \u8bbe\u7f6e\u7d22\u5f15\ndf.set_index(\"userId\", inplace=False, drop=True)\n\n# \u4f7f\u7528 index \u67e5\u8be2\u6570\u636e\ndf.loc[1]\n\ndf.loc[df[\"userId\"] == 1]\n\n\n# \u4f7f\u7528 index \u4f1a\u63d0\u5347\u67e5\u8be2\u6027\u80fd:\n#   index \u552f\u4e00 =&gt; \u54c8\u5e0c\u4f18\u5316 =&gt; O(1)\n#   index \u4e0d\u552f\u4e00\u4f46\u6709\u5e8f =&gt; \u4e8c\u5206\u67e5\u627e =&gt; O(logN)\n#   index \u5b8c\u5168\u968f\u673a =&gt; \u626b\u63cf\u5168\u8868 =&gt; O(N)\n\n# \u542f\u53d1\uff1a\n# 1. \u5c3d\u91cf\u4ee4 index \u552f\u4e00\n# 2. \u5c3d\u91cf\u4ee4 index \u6709\u5e8f\n\n# \u5224\u65ad\u7d22\u5f15\u662f\u5426\u5355\u8c03\u9012\u589e\ndf.index.is_monotonic_increasing\n\n# \u5224\u65ad\u7d22\u5f15\u662f\u5426\u552f\u4e00\ndf.index.is_unique\n\n\n# %timeit \u51fd\u6570\u4e3aIPyton\u4e2d\u7684\u4e00\u4e2a\u5185\u7f6e\u51fd\u6570\uff0c\u7528\u4e8e\u8ba1\u7b97\u4ee3\u7801\u6267\u884c\u65f6\u95f4\uff0c\u4f1a\u5c06\u547d\u4ee4\u6267\u884c\u5f88\u591a\u6b21\u83b7\u53d6\u5e73\u5747\u6027\u80fd\n\n#%timeit df =&gt; 23.3 ns \u00b1 1.94 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n\n# \u5bf9\u7d22\u5f15\u8fdb\u884c\u6392\u5e8f\ndf.sort_index()\n\n\ns1 = pd.Series([1, 2, 3], index=list(\"abc\"))\ns2 = pd.Series([2, 3, 4], index=list(\"bcd\"))\n\n# \u7d22\u5f15\u81ea\u52a8\u5bf9\u9f50\uff0c\u76f8\u540c\u7684\u7d22\u5f15\u503c\u4f1a\u8fdb\u884c\u52a0\u548c\ns1 + s2\n\n\n# \u5f88\u591a\u5f3a\u5927\u7684\u7d22\u5f15\u6570\u636e\u7ed3\u6784\n#   CAtegoricalIndex : \u5206\u7c7b\u7d22\u5f15\n#   MutableIndex : \u591a\u7ef4\u7d22\u5f15\n#   DatetimeIndex : \u65e5\u671f\u7d22\u5f15\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#merge","title":"merge","text":"<pre><code># Pandas \u4e2d\u7684 Merge \u64cd\u4f5c\u76f8\u5f53\u4e8e SQL \u4e2d\u7684 Join \u64cd\u4f5c\n\n# left, right: \u5408\u5e76\u7684\u4e24\u4e2a DataFrame\n# how: join \u7c7b\u578b\uff0c\u53ef\u9009\u503c\u4e3a inner, left, right, outer\n# on: join \u7684 key, \u53ef\u4ee5\u662f\u4e00\u4e2a\u5217\u540d\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u5217\u8868\n# left_on, right_on: \u5206\u522b\u5bf9\u5e94 left \u548c right \u7684 key\n# left_index, right_index: \u4f7f\u7528index\u8fdb\u884cjoin\uff0c\u800c\u4e0d\u662f\u666e\u901a\u7684columns\n# suffixes: \u5206\u522b\u5bf9\u5e94 left \u548c right \u7684\u540e\u7f00\n\n\nimport pandas as pd\n\nratings = pd.read_csv(\"./ratings.csv\")\nusers = pd.read_csv(\"./users.csv\")\nmovies = pd.read_csv(\"./movies.csv\")\n\n\n# \u5185\u8fde\u63a5 - \u4ea4\u96c6\nratings_users_inner = pd.merge(ratings, users, left_on=\"UserId\", right_on=\"UserId\", how=\"inner\")\n\n# \u5de6\u8fde\u63a5 - \u5de6\u8868\u7684\u6240\u6709\u884c\nratings_users_left = pd.merge(ratings, users, left_on=\"UserId\", right_on=\"UserId\", how=\"left\")\n\n# \u53f3\u8fde\u63a5 - \u53f3\u8868\u7684\u6240\u6709\u884c\nratings_users_right = pd.merge(ratings, users, left_on=\"UserId\", right_on=\"UserId\", how=\"right\")\n\n# \u5168\u8fde\u63a5 - \u5e76\u96c6\nratings_users_outer = pd.merge(ratings, users, left_on=\"UserId\", right_on=\"UserId\", how=\"outer\")\n\n\n# \u975e key \u7684\u5b57\u6bb5\u91cd\u540d\u65f6\u53ef\u81ea\u5b9a\u4e49\u540e\u7f00\u4e88\u4ee5\u533a\u5206\n\nleft = pd.DataFrame({\"key\": [\"K0\", \"K1\", \"K2\", \"K3\"], \"A\": [\"A0\", \"A1\", \"A2\", \"A3\"], \"B\": [\"B0\", \"B1\", \"B2\", \"B3\"]})\nright = pd.DataFrame({\"key\": [\"K0\", \"K1\", \"K2\", \"K3\"], \"A\": [\"A10\", \"A11\", \"A12\", \"A13\"], \"D\": [\"D0\", \"D1\", \"D2\", \"D3\"]})\n\n# \u9ed8\u8ba4\u540e\u7f00\npd.merge(left, right, on=\"key\")\n\n# \u81ea\u5b9a\u4e49\u540e\u7f00\npd.merge(left, right, on=\"key\", suffixes=(\"_left\", \"_right\"))\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#concat","title":"concat","text":"<pre><code># \u6279\u91cf\u5408\u5e76\u76f8\u540c\u683c\u5f0f\u7684Excel\uff0c\u7ed9DataFrame\u6dfb\u52a0\u884c\uff0c\u7ed9DataFrame\u6dfb\u52a0\u5217\n\n# objs: \u5408\u5e76\u5bf9\u8c61\u5217\u8868\uff0c\u53ef\u4ee5\u662fDataFrame\u6216Se\n# axis: \u5408\u5e76\u8f74\uff0c0\u4e3a\u884c\uff0c1\u4e3a\u5217\n# join: \u5408\u5e76\u65b9\u5f0f\uff0c\u53ef\u9009\u503c\u4e3ainner, outer\n# ignore_index: \u662f\u5426\u5ffd\u7565\u7d22\u5f15\n\nimport pandas as pd\n\ndf1 = pd.DataFrame(\n    {\n        \"A\": [\"A0\", \"A1\", \"A2\", \"A3\"],\n        \"B\": [\"B0\", \"B1\", \"B2\", \"B3\"],\n        \"C\": [\"C0\", \"C1\", \"C2\", \"C3\"],\n        \"D\": [\"D0\", \"D1\", \"D2\", \"D3\"],\n        \"E\": [\"E0\", \"E1\", \"E2\", \"E3\"],\n    }\n)\ndf2 = pd.DataFrame(\n    {\n        \"A\": [\"A4\", \"A5\", \"A6\", \"A7\"],\n        \"B\": [\"B4\", \"B5\", \"B6\", \"B7\"],\n        \"C\": [\"C4\", \"C5\", \"C6\", \"C7\"],\n        \"D\": [\"D4\", \"D5\", \"D6\", \"D7\"],\n        \"F\": [\"F4\", \"F5\", \"F6\", \"F7\"],\n    }\n)\n\n# \u6570\u636e\u5408\u5e76\npd.concat([df1, df2])\n# \u4f7f\u7528 ignore_index=True \u5ffd\u7565\u539f\u6765\u7684\u7d22\u5f15\npd.concat([df1, df2], ignore_index=True)\n\n\n# \u4f7f\u7528 join=\"inner\" \u8fc7\u6ee4\u6389\u4e0d\u5339\u914d\u7684\u5217\npd.concat([df1, df2], ignore_index=True, join=\"inner\")\n\n\n# \u4f7f\u7528 axis=1 \u65b0\u589e\u5217\ns1 = pd.Series(list(range(4)), name=\"F\")\npd.concat([df1, s1], axis=1)\n\n\n# \u6dfb\u52a0\u591a\u5217 Series\ns2 = df1.apply(lambda x: x[\"A\"] + \"_GG\", axis=1)\ns2.name = \"G\"\npd.concat([df1, s1, s2], axis=1)\n\n\n# \u8c03\u6574\u5408\u5e76\u987a\u5e8f\npd.concat([s1, df1, s2], axis=1)\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#append","title":"Append","text":"<pre><code>import pandas as pd\n\ndf1 = pd.DataFrame([[1, 2], [3, 4]], columns=[\"A\", \"B\"])\ndf2 = pd.DataFrame([[5, 6], [7, 8]], columns=[\"A\", \"B\"])\n\ndf1.append(df2)\n\n# \u4f7f\u7528 ignore_index=True \u5ffd\u7565\u539f\u6765\u7684\u7d22\u5f15\ndf1.append(df2, ignore_index=True)\n\n# \u4f7f\u7528\u5faa\u73af\u4e00\u884c\u4e00\u884c\u7ed9DataFrame\u6dfb\u52a0\u6570\u636e\npd.concat([pd.DataFrame([i], columns=[\"A\"]) for i in range(10)], ignore_index=True)\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#excel","title":"\u6279\u91cf\u62c6\u5206\u4e8e\u5408\u5e76Excel\u6587\u4ef6","text":"<pre><code>import os\nimport pandas as pd\n\nif not os.path.exists(\"./splits\"):\n    os.mkdir(\"./splits\")\n\n\nsource = pd.read_excel(\"./source.xlsx\")\n\nsource.shape  # \u8fd4\u56deDataFrame\u7684 (\u884c\uff0c\u5217)\n\n# \u5c06\u5927\u7684Excel\u62c6\u5206\u7ed9\u4e0d\u540c\u7684\u4eba\uff08\u6a21\u62df\u4efb\u52a1\u5212\u5206\uff09\nuser_names = [\"user\" + str(i) for i in [\"A\", \"B\"]]\n\n# \u6bcf\u4e2a\u4eba\u5206\u5230\u7684\u4efb\u52a1\u6570\nsize = int(source.shape[0] // len(user_names))\n\n# \u5982\u679c\u4efb\u52a1\u4e0d\u662f\u5747\u5206\u7684\u8bdd\uff0c\u9700\u8981\u628a\u591a\u4f59\u7684\u4efb\u52a1\u653e\u5230\u6700\u540e\u4e00\u4e2a\u4eba\nif int(source.shape[0] % len(user_names)) != 0:\n    size += 1\n\n\nsubs = []\nfor index, user in enumerate(user_names):\n    begin = index * size\n    end = begin + size\n    df_sub = source.iloc[begin:end]\n    subs.append((index, user, df_sub))\n\nfor index, user, df_sub in subs:\n    df_sub.to_excel(\"./splits/{}_{}.xlsx\".format(index, user), index=False)\n\n\n# \u5408\u5e76\u591a\u4e2a\u5c0f\u7684Excel\u6587\u4ef6\u5230\u4e00\u4e2a\u5927\u7684Excel\n\nimport os\n\nfiles = []\nfor file in os.listdir(\"./splits\"):\n    files.append(\"./splits/\" + file)\n\n\ndf_list = []\nfor file in files:\n    df = pd.read_excel(file)\n    user_name = file.split(\"_\")[1].split(\".\")[0]\n\n    df[\"username\"] = user_name\n\n    df_list.append(df)\n\ndf_merged = pd.concat(df_list, ignore_index=True)\ndf_merged.to_excel(\"./source_merged.xlsx\", index=False)\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#groupby","title":"groupby","text":"<pre><code>import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame(\n    {\n        \"A\": [\"foo\", \"bar\", \"foo\", \"bar\", \"foo\", \"bar\", \"foo\", \"foo\"],\n        \"B\": [1, 1, 2, 3, 2, 2, 1, 3],\n        \"C\": np.random.randn(8),\n        \"D\": np.random.randn(8),\n    }\n)\n\n\n# \u5355\u5217\u6c42\u548c\ndf.groupby(\"A\").sum()\n# \u591a\u5217\u6c42\u548c\ndf.groupby([\"A\", \"B\"]).sum()\n\n# \u53d6\u6d88\u4e8c\u7ea7\u7d22\u5f15\ndf.groupby([\"A\", \"B\"], as_index=False).sum()\n\n# \u540c\u65f6\u67e5\u770b\u591a\u79cd\u6570\u636e\u7edf\u8ba1\uff1a\u6c42\u548c\uff0c\u6c42\u5e73\u5747\u503c\uff0c\u6c42\u6807\u51c6\u5dee\ndf.groupby(\"A\").agg([np.sum, np.mean, np.std])\n\n# \u67e5\u770b\u5355\u5217\u7edf\u8ba1\u7ed3\u679c\n# \u65b9\u6cd5\u4e00\ndf.groupby(\"A\")[\"C\"].agg([np.sum, np.mean, np.std])\n# \u65b9\u6cd5\u4e8c\ndf.groupby(\"A\").agg([np.sum, np.mean, np.std])[\"C\"]\n\n# \u5bf9\u4e0d\u540c\u7684\u5217\u8fdb\u884c\u4e0d\u540c\u7684\u7edf\u8ba1(\u4f7f\u7528\u4e0d\u540c\u7684\u805a\u5408\u51fd\u6570)\ndf.groupby(\"A\").agg({\"C\": np.sum, \"D\": np.mean})\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_8","title":"\u5206\u5c42\u7d22\u5f15","text":"<pre><code># MultiIndex =&gt; \u5206\u5c42\u7d22\u5f15\n\nimport pandas as pd\nimport numpy as np\n\ndf = pd.read_excel(\"./\u516c\u53f8\u80a1\u7968.xlsx\")\n\n# \u67e5\u770b\u516c\u53f8\ndf[\"\u516c\u53f8\"].unique()\n\n# \u67e5\u770b\u6bcf\u4e2a\u516c\u53f8\u591a\u65e5\u6536\u76d8\u4ef7\u7684\u5e73\u5747\u503c\ndf.groupby(\"\u516c\u53f8\")[\"\u6536\u76d8\"].mean()\n\n# \u67e5\u770b\u6bcf\u4e2a\u516c\u53f8\u5355\u65e5\u6536\u76d8\u4ef7\u7684\u5e73\u5747\u503c\ndf.groupby([\"\u65e5\u671f\", \"\u516c\u53f8\"])[\"\u6536\u76d8\"].mean()\n# \u591a\u7ef4\u7d22\u5f15\u4e2d\uff0c\u7a7a\u767d\u7684\u610f\u601d\u662f\uff1a\u4f7f\u7528\u4e0a\u9762\u7684\u503c\n\n# \u67e5\u770b\u7d22\u5f15\ndf.groupby([\"\u65e5\u671f\", \"\u516c\u53f8\"])[\"\u6536\u76d8\"].mean().index\n\n# unstack \u628a\u4e8c\u7ea7\u7d22\u5f15\u53d8\u6210\u5217\ndf.groupby([\"\u65e5\u671f\", \"\u516c\u53f8\"])[\"\u6536\u76d8\"].mean().unstack()\n\n# \u4f7f\u7528\u91cd\u7f6e\u7d22\u5f15\u628a\u4e8c\u7ea7\u7d22\u5f15\u53d8\u6210\u5217\ndf.groupby([\"\u65e5\u671f\", \"\u516c\u53f8\"])[\"\u6536\u76d8\"].mean().reset_index()\n\n# \u4ece\u591a\u5c42\u7d22\u5f15\u4e2d\u83b7\u53d6\u6570\u636e\ndf.groupby([\"\u65e5\u671f\", \"\u516c\u53f8\"])[\"\u6536\u76d8\"].mean().index\n\n# \u83b7\u53d6\u7b2c\u4e00\u5c42\u7d22\u5f15\u503c\ndf.groupby([\"\u65e5\u671f\", \"\u516c\u53f8\"])[\"\u6536\u76d8\"].mean()[\"2019-10-01\"]\n# \u83b7\u53d6\u7b2c\u4e8c\u5c42\u7d22\u5f15\u503c\ndf.groupby([\"\u65e5\u671f\", \"\u516c\u53f8\"])[\"\u6536\u76d8\"].mean()[\"2019-10-01\"][\"\u4eac\u4e1c\"]\n# \u591a\u5c42\u7d22\u5f15\u53ef\u4ee5\u4f7f\u7528\u5143\u7ec4\u7684\u5f62\u5f0f\u7b5b\u9009\ndf.groupby([\"\u65e5\u671f\", \"\u516c\u53f8\"])[\"\u6536\u76d8\"].mean().loc[(\"2019-10-01\", \"\u4eac\u4e1c\")]\n\n# \u83b7\u53d6\u7b2c\u4e8c\u5c42\u7d22\u5f15\u7684\u503c\ndf.groupby([\"\u65e5\u671f\", \"\u516c\u53f8\"])[\"\u6536\u76d8\"].mean().loc[:, \"\u4eac\u4e1c\"]\n\n\n# \u81ea\u5b9a\u4e49\u5206\u5c42\u7d22\u5f15\ndf.set_index([\"\u65e5\u671f\", \"\u516c\u53f8\"])\n\n# \u6309\u7d22\u5f15\u6392\u5e8f\ndf.set_index([\"\u65e5\u671f\", \"\u516c\u53f8\"]).sort_index(inplace=True)\n\n# NOTE:\n# \u5143\u7ec4(key1, key2) \u4ee3\u8868\u591a\u5c42\u7d22\u5f15\uff0c\u5176\u4e2d key1 \u662f\u7b2c\u4e00\u5c42\uff0ckey2 \u662f\u7b2c\u4e8c\u5c42\n# \u5217\u8868[key1, key2] \u4ee3\u8868\u540c\u4e00\u5c42\u7684\u591a\u4e2akey\uff0c\u5176\u4e2dkey1\u548ckey2\u662f\u5e76\u5217\u7684\u540c\u7ea7\u7d22\u5f15\n\ndf_new = df.set_index([\"\u65e5\u671f\", \"\u516c\u53f8\"])\ndf_new.sort_index(inplace=True)\n\n\ndf_new.loc[\"2019-10-01\"]\ndf_new.loc[(\"2019-10-01\", \"\u4eac\u4e1c\")]\ndf_new.loc[(\"2019-10-01\", \"\u4eac\u4e1c\"), \"\u6536\u76d8\"]\ndf_new.loc[([\"2019-10-01\", \"2019-10-02\"], \"\u4eac\u4e1c\"), :]\ndf_new.loc[([\"2019-10-01\", \"2019-10-02\"], [\"\u4eac\u4e1c\", \"\u767e\u5ea6\"]), :]\ndf_new.loc[([\"2019-10-01\", \"2019-10-02\"], [\"\u4eac\u4e1c\", \"\u767e\u5ea6\"]), [\"\u5f00\u76d8\", \"\u6536\u76d8\"]]\n# slice(None) \u8868\u793a\u7b5b\u9009\u8fd9\u4e00\u7d22\u5f15\u5217\u6240\u6709\u7684\u5185\u5bb9\ndf_new.loc[([\"2019-10-01\", \"2019-10-02\"], slice(None)), :]\ndf_new.loc[(slice(None), [\"\u4eac\u4e1c\", \"\u767e\u5ea6\"]), :]\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_9","title":"\u6570\u636e\u8f6c\u6362\u51fd\u6570","text":"<pre><code># map: \u53ea\u9002\u7528\u4e8eSeries\uff0c\u5b9e\u73b0\u6bcf\u4e2a\u503c -&gt; \u503c \u7684\u6620\u5c04\n# apply: \u7528\u4e8eSeries\u5b9e\u73b0\u6bcf\u4e2a\u503c\u7684\u5904\u7406\uff1b\u7528\u4e8eDataFrame\u5b9e\u73b0\u67d0\u4e2a\u8f74\u7684Series\u7684\u5904\u7406\n# applymap: \u53ea\u80fd\u7528\u4e8eDataFrame\uff0c\u7528\u4e8e\u5904\u7406\u8be5DataFrame\u7684\u6bcf\u4e2a\u5143\u7d20\n\nimport pandas as pd\nimport numpy as np\n\ndf = pd.read_excel(\"./\u516c\u53f8\u80a1\u7968.xlsx\")\n\ndf[\"\u516c\u53f8\"].unique()\n\n# \u5c06\u516c\u53f8\u540d\u79f0\u4ece\u4e2d\u6587\u6620\u5c04\u4e3a\u62fc\u97f3\nname_mapping = {\"\u767e\u5ea6\": \"BD\", \"\u963f\u91cc\": \"AL\", \"\u7231\u5947\u827a\": \"iQiyi\", \"\u4eac\u4e1c\": \"JD\"}\n\n# \u65b9\u6cd5\u4e00\uff1a\u4f7f\u7528\u5b57\u5178\ndf[\"\u516c\u53f8-\u82f1\u658701\"] = df[\"\u516c\u53f8\"].map(name_mapping)\n\n# \u65b9\u6cd5\u4e8c\uff1a\u4f7f\u7528\u51fd\u6570\ndf[\"\u516c\u53f8-\u82f1\u658702\"] = df[\"\u516c\u53f8\"].map(lambda x: name_mapping[x])\n\n\n# Series - apply\ndf[\"\u516c\u53f8-\u82f1\u658703\"] = df[\"\u516c\u53f8\"].apply(lambda x: name_mapping[x])\n\n# DataFrame - apply\ndf[\"\u516c\u53f8-\u82f1\u658704\"] = df.apply(lambda x: name_mapping[x[\"\u516c\u53f8\"]], axis=1)\n\n\n# applymap \u7528\u4e8eDataFrame\u6240\u6709\u503c\u7684\u8f6c\u6362(\u4e0d\u662f\u67d0\u4e00\u884c\u67d0\u4e00\u5217\uff0c\u662f\u6240\u6709\u7684\u503c)\nsub_df = df[[\"\u6536\u76d8\", \"\u5f00\u76d8\", \"\u9ad8\", \"\u4f4e\", \"\u4ea4\u6613\u91cf\"]]\n\n# \u5c06\"\u6536\u76d8\", \"\u5f00\u76d8\", \"\u9ad8\", \"\u4f4e\", \"\u4ea4\u6613\u91cf\"\u4ece\u5c0f\u6570\u8f6c\u4e3a\u6574\u6570\ndf.loc[:, [\"\u6536\u76d8\", \"\u5f00\u76d8\", \"\u9ad8\", \"\u4f4e\", \"\u4ea4\u6613\u91cf\"]] = sub_df.applymap(lambda x: int(x))\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#apply","title":"apply","text":"<pre><code># pandas \u7684 groupby \u9075\u4ece split, apply, combine \u6a21\u5f0f\n\n# \u5f52\u4e00\u5316\uff1a\u5c06\u4e0d\u540c\u8303\u56f4\u7684\u6570\u503c\u6620\u5c04\u5230 [0,1] \u533a\u95f4\n# \u5f52\u4e00\u5316\u516c\u5f0f\uff1aX_normalized = (X - X_min) / (X_max - X_min)\n\nimport pandas as pd\n\npath_ratings = \"./ratings.csv\"\nratings = pd.read_csv(path_ratings)\n\n# \u6309\u7167\u7528\u6237ID\u5206\u7ec4\u5e76\u5bf9\u8bc4\u5206\u5217\u8fdb\u884c\u5f52\u4e00\u5316\u5904\u7406\n\n\ndef guiyi(df):\n    df[\"Rating\"] = df[\"Rating\"].apply(lambda x: int(x))\n    min_value = df[\"Rating\"].min()\n    max_value = df[\"Rating\"].max()\n    df[\"Rating_normal\"] = df[\"Rating\"].apply(lambda x: (x - min_value) / (max_value - min_value))\n    return df\n\n\nratings.groupby(\"UserId\").apply(guiyi)\n\n\n# \u83b7\u53d6\u5206\u7ec4\u540e\u7684TopN\u6570\u636e\npath_tianqi = \"./beijing_tianqi_2018.csv\"\ndf = pd.read_csv(path_tianqi)\n\n\ndf.loc[:, \"\u6700\u4f4e\u6e29\u5ea6\"] = df[\"\u6700\u4f4e\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\ndf.loc[:, \"\u6700\u9ad8\u6e29\u5ea6\"] = df[\"\u6700\u9ad8\u6e29\u5ea6\"].str.replace(\"\u2103\", \"\").astype(\"int32\")\n\n# \u65b0\u589e\u4e00\u5217\u6708\u4efd\ndf[\"\u6708\u4efd\"] = df[\"\u65e5\u671f\"].str[:7]\n\n\ndef get_wendu_topN(df, n):\n    return df.sort_values(by=\"\u6700\u9ad8\u6e29\u5ea6\")[[\"\u65e5\u671f\", \"\u6700\u9ad8\u6e29\u5ea6\"]][-n:]\n\n\n# \u6ce8\u610f\u4e0b\u9762\u51fd\u6570\u4f20\u53c2\u7684\u65b9\u5f0f\ndf.groupby(\"\u6708\u4efd\").apply(get_wendu_topN, n=2)\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_10","title":"\u6570\u636e\u900f\u89c6","text":"<pre><code>import pandas as pd\nimport numpy as np\n\npath_ratings = \"./ratings.csv\"\ndf = pd.read_csv(path_ratings)\n\n\ndf[\"pdate\"] = pd.to_datetime(df[\"Timestamp\"], unit=\"s\")\n\n# \u6309\u6708\u4efd\u548c\u8bc4\u5206\u5206\u7ec4\uff0c\u7edf\u8ba1PV\ndf_group = df.groupby([df[\"pdate\"].dt.month, \"Rating\"])[\"UserId\"].agg(pv=np.sum)\n\n# \u4e8c\u7ef4\u900f\u89c6\ndf_group.unstack()\n\n\n# stack \u548c unstack \u662f\u4e92\u9006\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4e92\u76f8\u8f6c\u5316\ndf_group.unstack().stack()\n\n\n# pivot \u65b9\u6cd5\u76f8\u5f53\u4e8e\u5bf9 df \u4f7f\u7528 set_index \u521b\u5efa\u5206\u5c42\u7d22\u5f15\uff0c\u7136\u540e\u8c03\u7528 unstack\ndf_reset = df_group.reset_index()\ndf_pivot = df_reset.pivot(\"pdate\", \"Rating\", \"pv\")\n\n\n# level=-1\u8868\u793a\u591a\u5c42\u7d22\u5f15\u7684\u6700\u5185\u5c42; 0\uff0c1\uff0c2\u5206\u522b\u4ee3\u8868\u7b2c\u4e00\u5c42\uff0c\u7b2c\u4e8c\u5c42\uff0c\u7b2c\u4e09\u5c42\n\n# \u8bed\u6cd5\uff1a\n# DataFrame.stack(level=-1, dropna=True) =&gt; \u5c06 index \u548c column \u8c03\u6362\n# DataFrame.unstack(level=-1, fill_value=None) =&gt; \u5c06 index \u548c column \u8c03\u6362\n# DataFrame.pivot(index=None, columns=None, values=None) =&gt; \u6307\u5b9aindex, columns, values\u5b9e\u73b0\u4e8c\u7ef4\u900f\u89c6\n</code></pre>"},{"location":"full-stack/data-analysis/pandas/#_11","title":"\u62d3\u5c55\u9605\u8bfb","text":"<ul> <li>Python pandas Tutorial</li> </ul>"},{"location":"full-stack/framework/airtest/","title":"airtest + poco","text":""},{"location":"full-stack/framework/airtest/#_1","title":"\u5b89\u88c5","text":"<pre><code>pip install -U airtest\npip install -U pocoui\n</code></pre> <p>NOTE:</p> <p>Poco\u4f9d\u8d56\u5e93\u662f pocoui \u800c\u4e0d\u662f poco\uff0c\u5982\u679c\u4f60\u53d1\u73b0\u4f60\u7684\u73af\u5883\u91cc\u9762\u540c\u65f6\u5b58\u5728 poco \u548c pocoui \uff0c\u8bf7\u52a1\u5fc5\u628a poco \u5378\u8f7d\u4e86\uff0c\u7559\u4e0b pocoui\u5373\u53ef</p>"},{"location":"full-stack/framework/airtest/#_2","title":"\u8bbe\u5907\u8fde\u63a5","text":"<ul> <li> <p>\u8bbe\u5907\u8fde\u63a5\u5b57\u7b26\u4e32     <pre><code>Android://&lt;adbhost[localhost]&gt;:&lt;adbport[5037]&gt;/&lt;serialno&gt;\n</code></pre></p> <p>\u5176\u4e2d\uff0cadbhost \u662f adb server \u6240\u5728\u4e3b\u673a\u7684 ip \uff0c\u9ed8\u8ba4\u662f\u672c\u673a 127.0.0.1 \uff0cadb port \u9ed8\u8ba4\u662f 5037 \uff0c serialno \u662f android\u624b\u673a\u7684\u5e8f\u5217\u53f7</p> <pre><code># \u4ec0\u4e48\u90fd\u4e0d\u586b\u5199\uff0c\u4f1a\u9ed8\u8ba4\u53d6\u5f53\u524d\u8fde\u63a5\u4e2d\u7684\u7b2c\u4e00\u53f0\u624b\u673a\nAndroid:///\n\n# \u8fde\u63a5\u672c\u673a\u9ed8\u8ba4\u7aef\u53e3\u8fde\u7684\u4e00\u53f0\u8bbe\u5907\u53f7\u4e3a79d03fa\u7684\u624b\u673a\nAndroid://127.0.0.1:5037/79d03fa\n\n# \u7528\u672c\u673a\u7684adb\u8fde\u63a5\u4e00\u53f0adb connect\u8fc7\u7684\u8fdc\u7a0b\u8bbe\u5907\uff0c\u6ce8\u610f10.254.60.1:5555\u5176\u5b9e\u662fserialno\nAndroid://127.0.0.1:5037/10.254.60.1:5555\n\n\n# \u6a21\u62df\u5668\u7b49\u7279\u6b8a\u8bbe\u5907\u3001\u4f7f\u7528\u4e86\u8fde\u63a5\u53c2\u6570\u65f6\uff1a\n\n# \u6a21\u62df\u5668\u8fde\u63a5\uff0c\u52fe\u9009\u4e86Use javacap\u6a21\u5f0f\nAndroid://127.0.0.1:5037/127.0.0.1:7555?cap_method=JAVACAP\n\n# \u6240\u6709\u7684\u9009\u9879\u90fd\u52fe\u9009\u4e0a\u4e4b\u540e\u8fde\u63a5\u7684\u8bbe\u5907\uff0c\u7528&amp;&amp;\u6765\u8fde\u63a5\u591a\u4e2a\u53c2\u6570\u5b57\u7b26\u4e32\nAndroid://127.0.0.1:5037/79d03fa?cap_method=JAVACAP&amp;&amp;ori_method=ADBORI&amp;&amp;touch_method=ADBTOUCH\n</code></pre> </li> <li> <p>\u8fde\u63a5\u65b9\u5f0f     <pre><code># \u65b9\u5f0f\u4e00\uff1a\nauto_setup(__file__, devices=[\"Android://127.0.0.1:5037/SJE5T17B17\"],logdir=True, project_root=r\"D:\\test\\logs\", compress=90)\n\n# \u65b9\u5f0f\u4e8c\uff1a\nconnect_device(\"Android:///SJE5T17B17?cap_method=javacap&amp;touch_method=adb\")\n\n# \u65b9\u5f0f\u4e09\uff1a\ninit_device(platform=\"Android\",uuid=\"SJE5T17B17\", cap_method=\"JAVACAP\")\n</code></pre></p> <p>\u793a\u4f8b\uff1a <pre><code>from airtest.core.api import *\ndevice = connect_device(\"Android://127.0.0.1:5037/JVR6R18915000603\")\npoco = AndroidUiautomationPoco(device)\npoco.device.wake()\n</code></pre></p> </li> <li> <p>\u65ad\u5f00\u8bbe\u5907     <pre><code>dev = connect_device(\"android:///\")\ndev.disconnect() # \u80fd\u5e2e\u52a9\u6211\u4eec\u4e3b\u52a8\u91ca\u653e\u6389\u4e00\u4e9b\u540e\u9762\u6d4b\u8bd5\u4e0d\u4f1a\u518d\u7528\u5230\u7684\u8d44\u6e90\uff0c\u6bd4\u5982\u4e00\u4e9badb\u8fde\u63a5\u7b49\n</code></pre></p> </li> <li> <p>\u83b7\u53d6\u672c\u5730\u6240\u6709\u53ef\u8fde\u63a5\u8bbe\u5907     <pre><code>from airtest.core.api import *\nfrom airtest.core.android.adb import *\nauto_setup(__file__)\nadb = ADB()\ndevice_list = adb.devices()\n</code></pre></p> </li> </ul>"},{"location":"full-stack/framework/airtest/#_3","title":"\u5750\u6807\u7cfb","text":"<ul> <li> <p>\u5f52\u4e00\u5316\u5750\u6807\u7cfb</p> <p>Poco\u7684\u5750\u6807\u7cfb\u4e0eAirtest\u4e0d\u4e00\u6837\uff0cAirtest\u4f7f\u7528\u7684\u662f\u7edd\u5bf9\u5750\u6807\u7cfb\uff0c\u5728Airtest\u7684\u811a\u672c\u91cc\uff0c\u6211\u4eec\u53ef\u4ee5\u4f20\u5165\u7c7b\u4f3c touch([500,500]) \u8fd9\u6837\u7684\u7edd\u5bf9\u5750\u6807\uff1b\u4f46Poco\u53ea\u80fd\u63a5\u53d7\u7edd\u5bf9\u5750\u6807\uff08\u5f52\u4e00\u5316\u5750\u6807\u7cfb\uff09\uff0c\u5982\u4e0a\u8ff0\u793a\u4f8b\u4e2d\u7684 poco.click([0.5,0.5]) \u5f52\u4e00\u5316\u5750\u6807\u7cfb\u5c31\u662f\u5c06\u5c4f\u5e55\u5bbd\u548c\u9ad8\u6309\u7167\u5355\u4f4d\u4e00\u6765\u7b97\uff0c\u8fd9\u6837UI\u5728poco\u4e2d\u7684\u5bbd\u548c\u9ad8\u5176\u5b9e\u5c31\u662f\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u7684\u767e\u5206\u6bd4\u5927\u5c0f\u4e86\uff0c\u597d\u5904\u5c31\u662f\u4e0d\u540c\u5206\u8fa8\u7387\u8bbe\u5907\u4e4b\u95f4\uff0c\u540c\u4e00\u4e2aUI\u7684\u5f52\u4e00\u5316\u5750\u6807\u7cfb\u4e0b\u7684\u4f4d\u7f6e\u548c\u5c3a\u5bf8\u662f\u4e00\u6837\u7684\uff0c\u6709\u52a9\u4e8e\u7f16\u5199\u8de8\u8bbe\u5907\u6d4b\u8bd5\u7528\u4f8b\u3002 \u5f52\u4e00\u5316\u5750\u6807\u7cfb\u7684\u7a7a\u95f4\u662f\u5747\u5300\u7684\uff0c\u5c4f\u5e55\u6b63\u4e2d\u592e\u4e00\u5b9a\u662f(0.5, 0.5)\uff0c\u5176\u4ed6\u6807\u91cf\u548c\u5411\u91cf\u7684\u8ba1\u7b97\u65b9\u6cd5\u540c\u6b27\u5f0f\u7a7a\u95f4\u3002</p> <pre><code>origin(0, 0)\n\n0 ----------------&gt;1\n|\n|\n|\n|\n|\nv\n1\n</code></pre> </li> <li> <p>\u7edd\u5bf9\u5750\u6807\u4e0e\u76f8\u5bf9\u5750\u6807\u4e92\u76f8\u8f6c\u6362     <pre><code># \u83b7\u53d6\u8bbe\u5907\u5c4f\u5e55\u5206\u8fa8\u7387(\u7ad6\u5c4f)\nheight = G.DEVICE.display_info['height']\nwidth = G.DEVICE.display_info['width']\n\n# \u5df2\u77e5\u7edd\u5bf9\u5750\u6807[311,1065]\uff0c\u8f6c\u6362\u6210\u76f8\u5bf9\u5750\u6807\nx1 = 311/width\ny1 = 1065/height\npoco.click([x1,y1])\n\n# \u5df2\u77e5\u76f8\u5bf9\u5750\u6807[0.3,0.55]\uff0c\u8f6c\u6362\u6210\u7edd\u5bf9\u5750\u6807\nx2 = 0.3*width\ny2 = 0.55*height\ntouch([x2,y2])\n\n# \u5982\u679c\u662f\u6a2a\u5c4f\u8bbe\u5907\u7684\u8bdd\uff0c\u5219\u5206\u8fa8\u7387\u5982\u4e0b\nheight = G.DEVICE.display_info['width']\nwidth = G.DEVICE.display_info['height']\n\n\n# \u5224\u65ad\u5f53\u524d\u5c4f\u5e55\u4e3a\u6a2a\u5c4f\u8fd8\u662f\u7ad6\u5c4f\uff0c\u5e76\u83b7\u53d6\u5f53\u524d\u5c4f\u5e55\u7684\u5206\u8fa8\u7387\nif G.DEVICE.display_info['orientation'] in [1,3]:\n    height = G.DEVICE.display_info['width']\n    width = G.DEVICE.display_info['height']\nelse:\n    height = G.DEVICE.display_info['height']\n    width = G.DEVICE.display_info['width']\n</code></pre></p> </li> </ul>"},{"location":"full-stack/framework/airtest/#_4","title":"\u521d\u59cb\u5316","text":"<ul> <li> <p>\u5355\u53f0\u8bbe\u5907     <pre><code>from airtest.core.api import *\nfrom poco.drivers.android.uiautomation import AndroidUiautomationPoco\nauto_setup(__file__,devices=[\"android://127.0.0.1:5037/127.0.0.1:7555\"],logdir=True)\npoco = AndroidUiautomationPoco(use_airtest_input=True, screenshot_each_action=False)\npoco(text=\"\u7f51\u6613\u4e91\u97f3\u4e50\").click()\n</code></pre></p> <p>NOTE:</p> <p>1.use_airtest_input=True\u662f\u6307\uff0c\u4f7f\u7528Airtest\u53bb\u6267\u884c\u70b9\u51fb\u64cd\u4f5c(\u5426\u5219\u662f\u8c03\u7528Android\u63a5\u53e3\u53bb\u70b9\u51fb)\uff0c\u597d\u5904\u662f\uff0c\u4f1a\u5728\u65e5\u5fd7\u91cc\u9762\u8bb0\u5f55\u4e00\u6761log\u8bb0\u5f55\uff0c\u8fd9\u6837\u751f\u6210\u62a5\u544a\u65f6\uff0c\u5c31\u80fd\u5728\u62a5\u544a\u4e0a\u663e\u793a\u8fd9\u4e2a\u70b9\u51fb\u8bb0\u5f55</p> <p>2.screenshot_each_action\u662f\u6307\uff0c\u662f\u5426\u5f00\u542f\u6bcf\u4e2apoco\u6b65\u9aa4\u7684\u622a\u56fe</p> </li> <li> <p>\u591a\u53f0\u8bbe\u5907     <pre><code>from airtest.core.api import *\nfrom airtest.core.android import Android\nfrom poco.drivers.android.uiautomation import AndroidUiautomationPoco\nauto_setup(__file__,devices=[\"android://127.0.0.1:5037/127.0.0.1:7555\",\"android://127.0.0.1:5037/0123456789\"])\n\ndev1 = Android('127.0.0.1:7555')\ndev2 = Android('0123456789')\npoco1 = AndroidUiautomationPoco(dev1)\npoco2 = AndroidUiautomationPoco(dev2)\n\npoco1(text=\"\u7f51\u6613\u4e91\u97f3\u4e50\").click()\npoco2(text=\"\u7f51\u6613\u4e91\u97f3\u4e50\").click()\n</code></pre></p> </li> <li> <p>\u8bbe\u5907\u521d\u59cb\u5316\u987a\u5e8f     <pre><code>from airtest.core.api import *\n\n# \u8fde\u63a5\u8bbe\u5907\nauto_setup(__file__,logdir=True,devices=[\"Android://127.0.0.1:5037/emulator-5554?cap_method=JAVACAP\"])\n\n#\u542f\u52a8\u5e94\u7528\nstart_app(\"com.NetEase\")\nsleep(6.0)\n\n# \u521d\u59cb\u5316poco\nfrom poco.drivers.unity3d import UnityPoco\npoco = UnityPoco()\npoco(\"btn_start\").click()\n\n# \u83b7\u53d6\u8bbe\u5907\u54c1\u724c\nbrand = subprocess.check_output(['adb', 'shell', 'getprop', 'ro.product.brand'], text=True).strip() \n# \u83b7\u53d6\u8bbe\u5907\u578b\u53f7\nmodel = subprocess.check_output(['adb', 'shell', 'getprop', 'ro.product.model'], text=True).strip() \n# \u83b7\u53d6\u8bbe\u5907\u8fde\u63a5\u65f6\u7528\u5230\u7684\u7c7b\ndevice().__class__.__name__.lower() =&gt; ios/android\n</code></pre>     \u6b63\u786e\u7684\u987a\u5e8f\u662f\uff1a\u5148\u8fde\u63a5\u8bbe\u5907\uff08\u4e00\u822c\u5728 auto_setup \u63a5\u53e3\u91cc\u9762\u8fde\u63a5\uff09--&gt; \u518d\u6253\u5f00\u6e38\u620f\u5e94\u7528\uff08\u4e00\u822c\u7528 start_app \u63a5\u53e3\uff09--&gt; \u7b49\u5e94\u7528\u5f00\u542f\u5b8c\u6bd5\uff0c\u6700\u540e\u624d\u521d\u59cb\u5316 poco</p> <p>\u8fd9\u91cc\u7b80\u5355\u89e3\u91ca\u4e0b\uff0c\u4e3a\u4ec0\u4e48\u6211\u4eec\u8981\u5148\u6253\u5f00\u6e38\u620f\u5e94\u7528\uff0c\u518d\u6765\u521d\u59cb\u5316\u5bf9\u5e94\u7684poco\u5462\uff1f\u8fd9\u662f\u56e0\u4e3a\u6e38\u620f\u5e94\u7528\u91cc\uff0c\u4e8b\u5148\u5d4c\u5165\u4e86Poco-SDK\uff0c\u5f53\u6e38\u620f\u5b8c\u5168\u542f\u52a8\u65f6\uff0c\u6211\u4eec\u7684Poco\u670d\u52a1\u624d\u4f1a\u8ddf\u7740\u542f\u52a8\u8d77\u6765\uff0c\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u7b49\u6e38\u620f\u5b8c\u5168\u542f\u52a8\uff08start_app \u540e\u9762\u5e26\u5145\u8db3\u7684 sleep \uff09\u4e4b\u540e\uff0c\u624d\u80fd\u5f00\u59cb\u521d\u59cb\u5316\u6e38\u620f\u7684poco\u3002 \u800cAndroid\u548ciOS\u539f\u751f\u5e94\u7528\u5219\u6ca1\u6709\u8fd9\u4e00\u70b9\u9650\u5236\uff0c\u53ea\u8981\u6211\u4eec\u5148\u8fde\u63a5\u4e0aAndroid/iOS\u8bbe\u5907\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u521d\u59cb\u5316Android poco\u6216\u8005iOS poco\u5566</p> </li> <li> <p>\u591a\u673a\u534f\u4f5c     <pre><code>from airtest.core.api import G\nfrom airtest.core.api import connect_device\ndev1 = connect_device(\"Android://127.0.0.1:5037/serialno1\")  # \u8fde\u4e0a\u7b2c\u4e00\u53f0\u624b\u673a\ndev2 = connect_device(\"Android://127.0.0.1:5037/serialno2\")  # \u7b2c\u4e8c\u53f0\u624b\u673a\n\nprint(G.DEVICE_LIST)  # \u6b64\u65f6\u8bbe\u5907\u5217\u8868\u4e3a[dev1, dev2]\n\n# \u4f20\u5165\u6570\u5b570\u5207\u6362\u5f53\u524d\u64cd\u4f5c\u7684\u624b\u673a\u5230\u7b2c1\u53f0\nset_current(0)\n\n# \u5207\u6362\u5f53\u524d\u64cd\u4f5c\u7684\u624b\u673a\u5230\u5e8f\u5217\u53f7\u4e3aserialno2\u7684\u624b\u673a\nset_current(\"serialno2\")\n\n# \u4f7f\u7528device()\u63a5\u53e3\u83b7\u53d6\u5f53\u524d\u8fde\u63a5\u4e2d\u7684\u8bbe\u5907Android\u5bf9\u8c61\ncurrent_dev = device()\n\n\nfrom airtest.core.api import G\nfrom poco.drivers.android.uiautomation import AndroidUiautomationPoco\nprint(G.DEVICE_LIST)  # \u5047\u8bbe\u5f53\u524d\u603b\u5171\u67092\u53f0\u624b\u673a\npoco1 = AndroidUiautomationPoco(G.DEVICE_LIST[0])\npoco2 = AndroidUiautomationPoco(G.DEVICE_LIST[1])\n</code></pre></p> </li> <li> <p>\u4f7f\u7528 python xxxx.py \u8fd0\u884c\u811a\u672c</p> <p>\u76f4\u63a5\u4f7f\u7528Python\u8fd0\u884c\u811a\u672c\u65f6\uff0c\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u65b9\u5f0f\uff1a <pre><code>from airtest.core.api import *\nfrom airtest.cli.parser import cli_setup\n\nif not cli_setup():\n    auto_setup(__file__, logdir=True, devices=[\n        \"Android:///?cap_method=javacap&amp;ori_method=adbori\",\n    ])\n\n# do something\n# touch((x, y))\n</code></pre></p> <p>\u5f53\u4f7f\u7528 python xxx.py \u6765\u8fd0\u884c\u672c\u6587\u4ef6\uff0c\u4e14\u4e0d\u5e26\u4efb\u4f55\u547d\u4ee4\u884c\u53c2\u6570\u65f6\uff0c\u5219\u81ea\u52a8\u4f7f\u7528 auto_setup \u8fd9\u4e2a\u63a5\u53e3\u6765\u5bf9airtest\u76f8\u5173\u7684\u53c2\u6570\u8fdb\u884c\u521d\u59cb\u5316\u3002\u8fd9\u6837\u53ea\u9700\u8981\u5728\u5199py\u811a\u672c\u65f6\uff0c\u586b\u5199\u597d\u6307\u5b9a\u7684\u53c2\u6570\u5c31\u80fd\u76f4\u63a5\u7528 python xx.py \u6307\u4ee4\u6765\u8fd0\u884c\u811a\u672c\u3002 \u540c\u65f6\uff0c\u539f\u5148\u4f20\u7edf\u7684 airtest run xx.air \u2013-devices Android:/// \u547d\u4ee4\u884c\u8fd0\u884c\u65b9\u5f0f\u4e5f\u4e0d\u53d7\u5f71\u54cd\uff0c\u53ea\u8981\u811a\u672c\u68c0\u6d4b\u5230\u4f20\u5165\u4e86\u547d\u4ee4\u884c\u53c2\u6570\uff08\u5373\u4ee3\u7801\u4e2d\u7684if not cli_setup()\u5224\u65ad\uff09\uff0c\u5c31\u4f9d\u7136\u4f18\u5148\u4f7f\u7528\u547d\u4ee4\u884c\u53c2\u6570\u6765\u521d\u59cb\u5316Airtest\u73af\u5883\u3002</p> </li> </ul>"},{"location":"full-stack/framework/airtest/#android-app","title":"Android APP \u5e38\u7528\u64cd\u4f5c","text":"<pre><code>from airtest.core.api import *\n\n# \u5b89\u88c5app\ninstall(\"./com.sina.weibo.apk\")\ninstall_app(r\"D:\\demo\\test.apk\",install_options=[\"-r\", \"-t\"])\ndevice().adb.pm_install(APK_FILE)\n\n# NOTE\uff1ainstall \u65b9\u6cd5\u9700\u8981\u63d0\u4f9b\u5e94\u7528\u7684 APK \u6587\u4ef6\u8def\u5f84\uff0c\u800c install_app \u65b9\u6cd5\u5219\u9700\u8981\u63d0\u4f9b\u5e94\u7528\u7684\u5305\u540d\n\n\n# \u6e05\u7406app\u6570\u636e\nclear_app(\"org.cocos2d.blackjack\")\n\n# \u542f\u52a8APP\nstart_app(\"org.cocos2d.blackjack\")\n\n# \u5173\u95edAPP\nstop_app(\"com.sina.weibo\")\n\n# \u5378\u8f7dapp\nuninstall(\"./com.sina.weibo.apk\")\n\n# \u5207\u6362app\nshell(\"monkey -p com.taobao.taobao -c android.intent.category.LAUNCHER 1\")\n\n\n# \u5224\u65adapk\u662f\u5426\u9700\u8981\u8986\u76d6\u5b89\u88c5\nfrom airtest.utils.apkparser import APK\n\ndef need_upgrade(device: Android, package: str, apk_path: str):\n    \"\"\"\n    \u68c0\u67e5\u624b\u673a\u4e2d\u7684package name\u7684\u7248\u672c\u53f7\uff0c\u4e0e\u672c\u5730apk\u6587\u4ef6\u7248\u672c\u53f7\u8fdb\u884c\u5bf9\u6bd4\uff0c\u5982\u679c\u672c\u5730\u6587\u4ef6\u7248\u672c\u53f7\u66f4\u9ad8\uff0c\u8bf4\u660e\u9700\u8981\u8986\u76d6\u5b89\u88c5\n    :param device: Android() \u5bf9\u8c61\n    :param package: \u4f8b\u5982\uff1acom.netease.cloudmusic\n    :param apk_path: \u672c\u5730apk\u6587\u4ef6\u8def\u5f84\n    :return:\n    \"\"\"\n    apk_version = int(APK(apk_path).androidversion_code)\n    installed_version = device.adb.get_package_version(package)\n    if installed_version is None or apk_version &gt; int(installed_version):\n        print(\"local version code is {}, installed version code is {}\".format(apk_version, installed_version))\n        return True\n    return False\n\n\n# \u8986\u76d6\u5b89\u88c5\nfrom airtest.core.api import *\n# \u5b89\u88c5\u53c2\u6570 -r \u8868\u793a\u8986\u76d6\u5b89\u88c5\ninstall(r\"D:\\demo\\test.apk\", install_options=[\"-r\", \"-t\"])\n\n\n# \u5524\u9192\u5c4f\u5e55\nwake()\n\n# \u8fd4\u56deHOME\nhome()\n\n# \u6587\u672c\u8f93\u5165\ntext(\"123\")\n\n# \u622a\u56fe\nsnapshot(\"screen_shot.png\")\n\n# \u6e05\u7406\u540e\u53f0\ndev = device()\n#\u4e00\u822cAndroid\u8bbe\u5907\u53ef\u4ee5\u4ece\u5e95\u90e8\u5411\u4e0a\u6ed1\u52a8\u5524\u51fa\u8bbe\u5907\u7a97\ndev.swipe_along([(500, 2295),(500,1500),(500,1000), (500, 100)])\n\n#\u5524\u51fa\u8bbe\u5907\u7a97\u540e\uff0c\u5f53\u51fa\u73b0\u4e86\u201c\u5173\u95ed\u6240\u6709\u6700\u8fd1\u6253\u5f00\u7684\u5e94\u7528\u201d\u63a7\u4ef6\uff0c\u70b9\u51fb\u5373\u53ef\u5168\u90e8\u6e05\u9664\u6240\u6709app\u540e\u53f0\nif poco(\"com.huawei.android.launcher:id/clear_all_recents_image_button\").exists():\n        poco(\"com.huawei.android.launcher:id/clear_all_recents_image_button\").click()\n\n\n\n# \u4f20\u5165\u67d0\u4e2a\u6309\u952e\u54cd\u5e94\nkeyevent(\"BACK\") # \u8fd4\u56de\u952e\nkeyevent(\"HOME\") # \u4e3b\u9875\u952e\nkeyevent(\"MENU\") # \u83dc\u5355\u952e\nkeyevent(\"VOLUME_UP\") # \u97f3\u91cf\u589e\u5927\nkeyevent(\"VOLUME_DOWN\") # \u97f3\u91cf\u51cf\u5c0f\nkeyevent(\"POWER\") # \u7535\u6e90\u952e\nkeyevent(\"CAMERA\") # \u62cd\u7167\u952e\nkeyevent(\"SEARCH\") # \u641c\u7d22\u952e\nkeyevent(\"KEYCODE_DEL\") # \u5220\u9664\u952e\n\n\nandroid = Android()\nandroid.path_app(\"com.netease.cloudmusic\") # \u8fd4\u56de\u5e94\u7528\u7684\u5b8c\u6574\u8def\u5f84\nandroid.check_app(\"com.netease.cloudmusic\") # \u68c0\u67e5\u5e94\u7528\u662f\u5426\u5b58\u5728\u4e8e\u5f53\u524d\u8bbe\u5907\u4e0a\nandroid.is_screenon() # \u68c0\u67e5\u5c4f\u5e55\u662f\u5426\u6253\u5f00\nandroid.is_locked() # \u68c0\u67e5\u8bbe\u5907\u662f\u5426\u9501\u5b9a\nandroid.get_current_resolution() # \u83b7\u53d6\u5f53\u524d\u8bbe\u5907\u7684\u5206\u8fa8\u7387\nandroid.get_default_device() # \u83b7\u53d6\u5f53\u524d\u8bbe\u5907\u7684\u5e8f\u5217\u53f7\nandroid.list_app(third_only=True) # \u5217\u51fa\u8bbe\u5907\u4e0a\u5b89\u88c5\u7684\u7b2c\u4e09\u65b9\u5e94\u7528\u5217\u8868\n\n\ndev = device()  # \u83b7\u53d6\u5230\u5f53\u524d\u8bbe\u5907\u7684Android\u5bf9\u8c61\nprint(dev.get_display_info())  # \u67e5\u770b\u5f53\u524d\u8bbe\u5907\u7684\u663e\u793a\u4fe1\u606f\nprint(dev.list_app())  # \u6253\u5370\u51fa\u5f53\u524d\u5b89\u88c5\u7684app\u5217\u8868\n\n# \u5bf9\u5f53\u524d\u8bbe\u5907\u6267\u884c\u6307\u4ee4 adb shell ls\nprint(shell(\"ls\"))\n\n# \u5bf9\u7279\u5b9a\u8bbe\u5907\u6267\u884cadb\u6307\u4ee4\ndev = connect_device(\"Android:///device1\")\ndev.shell(\"ls\")\n\n# \u5207\u6362\u5230\u67d0\u53f0\u8bbe\u5907\uff0c\u6267\u884cadb\u6307\u4ee4\nset_current(0)\nshell(\"ls\")\nshell(\"pm list packages -3\") # \u5217\u51fa\u8bbe\u5907\u4e0a\u5b89\u88c5\u7684\u7b2c\u4e09\u65b9\u5e94\u7528\u5217\u8868\n\n# NOTE\uff1a\u5b9e\u9645\u4e0a\uff0cairtest\u7684 shell() \uff0c\u5c31\u662f \u5e2e\u5fd9\u8865\u5145\u4e86 adb -s \u624b\u673a\u5e8f\u5217\u53f7 shell \u8fd9\u4e00\u90e8\u5206 \uff0c\u540e\u9762\u7684\u5185\u5bb9\u5c31\u6309\u6b63\u5e38shell\u6307\u4ee4\u6765\u4f20\u5c31\u884c\u4e86\n\n# \u6587\u4ef6\u64cd\u4f5c\nfrom airtest.core.api import *\nfrom airtest.core.android import *\nauto_setup(__file__)\n\u200b\ndev = device()\n\ndev.adb.pull(phone_file,local_path) # \u4ece\u624b\u673a\u4e0a\u590d\u5236\u6587\u4ef6\u5230\u672c\u5730\ndev.adb.push(local_file,phone_path) # \u5c06\u672c\u5730\u6587\u4ef6\u63a8\u9001\u5230\u624b\u673a\nshell(\"rm %s\" % (del_file)) # \u5220\u9664\u624b\u673a\u4e0a\u7684\u6587\u4ef6\n</code></pre> <p>Airtest\u5c01\u88c5\u7684\u5b89\u88c5\u63a5\u53e3\uff0c\u5305\u542b\u4ee5\u4e0b\u5b89\u88c5\u53c2\u6570\u53ef\u4ee5\u4f7f\u7528\uff1a</p> <ul> <li>-t\uff0c\u5141\u8bb8\u6d4b\u8bd5\u5305</li> <li>-l\uff0c\u9501\u5b9a\u5e94\u7528\u7a0b\u5e8f</li> <li>-s\uff0c\u628a\u5e94\u7528\u7a0b\u5e8f\u5b89\u88c5\u5230sd\u5361\u4e0a</li> <li>-g\uff0c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u6388\u4e88\u6240\u6709\u8fd0\u884c\u65f6\u7684\u6743\u9650</li> <li>-r\uff0c\u66ff\u6362\u5df2\u5b58\u5728\u7684\u5e94\u7528\u7a0b\u5e8f\uff08\u8986\u76d6\u5b89\u88c5\uff09</li> <li>-d\uff0c\u5141\u8bb8\u964d\u7ea7\u8986\u76d6\u5b89\u88c5</li> </ul>"},{"location":"full-stack/framework/airtest/#poco","title":"poco \u5143\u7d20\u5b9a\u4f4d","text":"<ul> <li>\u5143\u7d20\u5c42\u7ea7\u5173\u7cfb</li> <li>\u5b50\u8282\u70b9\uff1achild</li> <li>\u6240\u6709\u5b50\u8282\u70b9\uff1achildren</li> <li>\u5b50\u5b59\u8282\u70b9\uff1aoffspring</li> <li>\u7236\u8282\u70b9\uff1aparent</li> <li> <p>\u5144\u5f1f\u8282\u70b9\uff1asibling</p> </li> <li> <p>\u5143\u7d20\u5b9a\u4f4d     <pre><code>poco('bg_mission') # name\u5c5e\u6027\u5b9a\u4f4d\npoco('bg_mission', type='Button') # name + type \u5b9a\u4f4d\npoco('main_node').child('list_item').offspring('item')\n\npoco(name=\"\u6dd8\u5b9d\") # \u57fa\u672c\u9009\u62e9\u5668\npoco(\"plays\").child(\"playBasic\") # \u76f8\u5bf9\u9009\u62e9\u5668\npoco(\"Content\").child(type=\"Text\")[0] # \u7a7a\u95f4\u9009\u62e9\u5668\n\nitems = poco('main_node').child('list_item').offspring('item')\nprint(items[0].child('material_name').get_text())\nprint(items[1].child('material_name').get_text())\n\n\npoco(\"android.widget.FrameLayout\").child(\"android.widget.LinearLayout\")\npoco(\"android.widget.FrameLayout\").children()[2]\n\n\n#\u3010\u5229\u7528\u5b50\u5b59\u8282\u70b9\u5173\u7cfb\u5b9a\u4f4d\u5143\u7d20\u3011\u7edf\u8ba1\u8f93\u51fa\u70ed\u6b4c\u699c\u5f53\u524d\u754c\u9762\u4e2d\u6b4c\u66f2\u6570\u91cf\nnum=len(poco(\"com.netease.cloudmusic:id/musicInfoList\").offspring(nameMatches=\"com.*?songName\"))    \nprint(\"\u5f53\u524d\u754c\u9762\u6709{}\u9996\u6b4c\".format(num))\n\n\n#\u3010\u5229\u7528\u5b50\u8282\u70b9\u5173\u7cfb\u5b9a\u4f4d\u5143\u7d20\u3011\u7edf\u8ba1\u8f93\u51fa\u5f53\u524d\u754c\u9762\u7684\u70ed\u95e8\u8282\u76ee\u5355\u6570\u91cf\nnum=0\nfor x in poco(\"CollectionView\").child(\"UIA.Podcasts.ShelfItem.show\"):\n    print(x.child().child().get_name())\n    num+=1\n\n\n#\u3010\u5229\u7528\u5b50\u5b59\u8282\u70b9\u5173\u7cfb\u5bfb\u627e\u5143\u7d20\u3011\u901a\u8fc7\u8f93\u51fa\u5b50\u5b59\u8282\u70b9\u53bb\u67e5\u627e\u201c\u53d1\u73b0\u201d\u6309\u94ae\nfor i in poco(\"com.netease.cloudmusic:id/bottomNav\").offspring(nameMatches=\"com.*?desc\"):\n    print(i.get_text())\n\n\n#\u3010\u5229\u7528\u5b50\u5b59\u8282\u70b9\u5173\u7cfb\u4ee5\u53ca\u7a7a\u95f4\u987a\u5e8f\u5b9a\u4f4d\u5143\u7d20\u3011\u70b9\u51fb\"\u53d1\u73b0\"\u6309\u94ae\npoco(\"com.netease.cloudmusic:id/bottomNav\").offspring(nameMatches=\"com.*?desc\")[1].click()\nsleep(1.0)\n\n\n#\u3010\u901a\u8fc7\u5144\u5f1f\u8282\u70b9\u5173\u7cfb\u5b9a\u4f4d\u5143\u7d20\u3011\u70b9\u51fb\u53d1\u73b0\u9875\u4e2d\u201c\u7cbe\u9009\u201d\u65c1\u8fb9\u7684\u201c\u6392\u884c\u699c\u201d\u6309\u952e\npoco(\"\u7cbe\u9009\").sibling()[1].click()\n\n\n#\u3010\u5229\u7528\u5b50\u5b59\u8282\u70b9\u5173\u7cfb\u5bfb\u627e\u5143\u7d20\u3011\u8f93\u51fa\u70ed\u6b4c\u699c\u4e2d\u6bcf\u9996\u6b4c\u7684\u540d\u5b57\nprint(\"\u5f53\u524d\u754c\u9762\u7684\u70ed\u6b4c\u699c\u6b4c\u66f2\u6709\uff1a\")\nfor i in poco(\"com.netease.cloudmusic:id/musicInfoList\").offspring(nameMatches=\"com.*?songName\"):\n    print(i.get_text())\n\n\n#\u3010\u5229\u7528\u5b50\u5b59\u8282\u70b9\u5173\u7cfb\u5b9a\u4f4d\u5143\u7d20\u3011\u7edf\u8ba1\u8f93\u51fa\u70ed\u6b4c\u699c\u5f53\u524d\u754c\u9762\u4e2d\u6b4c\u66f2\u6570\u91cf\nnum=len(poco(\"com.netease.cloudmusic:id/musicInfoList\").offspring(nameMatches=\"com.*?songName\"))    \nprint(\"\u5f53\u524d\u754c\u9762\u6709{}\u9996\u6b4c\".format(num))\n\n\n#\u3010\u5229\u7528\u5b50\u8282\u70b9\u5173\u7cfb\u5b9a\u4f4d\u5143\u7d20\u3011\u8f93\u51fa\u76ee\u524d\u64ad\u653e\u5668\u5728\u64ad\u653e\u7684\u6b4c\u66f2\u540d\nprint(\"\u4e0b\u65b9\u4e3a\u6b63\u5728\u64ad\u653e\u7684\u6b4c\u66f2\uff1a\")    \nnow_song = poco(\"com.netease.cloudmusic:id/minibar_song_container\").child().children()   \nprint(now_song.get_text())\n\n\n# \u6b63\u5219\u5b9a\u4f4d\npoco(textMatches='^\u636e\u70b9.*$', type='Button', enable=True)\npoco(nameMatches=\".*portalTitle\",textMatches=\".*\u63a8\u8350\")\nfor i in poco(nameMatches=\"com.*?songInfo\"):\n    print(i.get_text())\n</code></pre></p> <p>\u9664\u4e86\u6700\u5e38\u89c1\u7684 textMatches \u3001 nameMatches \u548c typeMatches \uff0c\u5176\u5b9e\u5927\u90e8\u5206\u7684\u5c5e\u6027\u90fd\u53ef\u4ee5\u7528\u8fd9\u79cd\u65b9\u5f0f\u6765\u4f20\u9012\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u53ea\u8981\u80fd\u591f\u7528 poco(xx=\u9884\u671f\u5c5e\u6027\u503c) \u6765\u9009\u62e9\u7684\u63a7\u4ef6\uff0c\u5c31\u53ef\u4ee5\u7528 poco(xxMatches=\u9884\u671f\u5c5e\u6027\u503c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f) \u6765\u8fdb\u884c\u5339\u914d\u5b9a\u4f4d</p> <p>Poco\u63a7\u4ef6\u7684\u5b9a\u4f4d\u65b9\u5f0f\u6709\u5f88\u591a\u79cd\uff0c\u4f46\u662f\u6211\u4eec\u901a\u5e38\u4e0d\u63a8\u8350\u4f7f\u7528\u76f8\u5bf9\u9009\u62e9\u5668\u548c\u63a7\u4ef6\u987a\u5e8f\u9009\u62e9\u5668\u8fdb\u884c\u5b9a\u4f4d\uff0c\u56e0\u4e3a\u590d\u6742\u7684\u5c42\u7ea7\u5173\u7cfb\u52a0\u4e0a\u7a7a\u95f4\u7d22\u5f15\u987a\u5e8f\uff0c\u5f88\u5bb9\u6613\u51fa\u73b0\u8fd0\u884c\u6548\u7387\u5dee\uff0c\u6216\u8005\u56e0\u4e3a\u7d22\u5f15\u503c\u53d8\u5316\u800c\u5bfc\u81f4\u51fa\u73b0\u627e\u4e0d\u5230\u63a7\u4ef6\u7684\u95ee\u9898\u3002</p> <p>\u6211\u4eec\u975e\u5e38\u63a8\u8350\u591a\u4f7f\u7528\u57fa\u672c\u9009\u62e9\u5668\u548c\u6b63\u5219\u5339\u914d\u8868\u8fbe\u5f0f\u6765\u5b9a\u4f4d\u63a7\u4ef6</p> <p>\u89e6\u7c7b\u65c1\u901a\uff0c\u4f7f\u75281\u4e2a\u8282\u70b9\u7684\u67d0\u4e2a\u5c5e\u6027\u503c\uff0c\u4e0d\u4ec5\u4ec5\u6307text\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u662fname\u5c5e\u6027\u6216\u8005\u5176\u5b83\u5c5e\u6027\uff0c\u53ea\u8981\u5b83\u5728\u5f53\u524d\u9875\u9762\u662f\u552f\u4e00\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u5c5e\u6027\u6765\u5b9a\u4f4d\u5230\u6211\u4eec\u7684\u63a7\u4ef6\uff1b\u751a\u81f3 \u501f\u52a9\u8282\u70b9\u7684\u591a\u4e2a\u5c5e\u6027\u503c\u6765\u8fdb\u884c\u7cbe\u51c6\u5b9a\u4f4d\u63a7\u4ef6\uff0c\u90fd\u662f\u53ef\u4ee5\u7684 \u3002\u6211\u4eec\u975e\u5e38\u5efa\u8bae\u5927\u5bb6\u591a\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u6765\u7f16\u5199\u6211\u4eec\u7684Poco\u5b9a\u4f4d\u811a\u672c\u3002</p> </li> </ul>"},{"location":"full-stack/framework/airtest/#poco_1","title":"poco \u5e38\u7528\u64cd\u4f5c","text":"<ul> <li> <p>\u904d\u5386     <pre><code>items = poco('main_node').child('list_item').offspring('item')\nfor item in items:\n    item.child('icn_item')\n</code></pre></p> </li> <li> <p>\u8bfb\u53d6\u5c5e\u6027     <pre><code>poco('bg_mission').attr('type')\npoco('bg_mission').attr('text')\npoco('bg_mission').exists()\npoco('bg_mission').get_text()\npoco(\"star_single\").get_name()\npoco(\"star_single\").get_position() # \u83b7\u53d6\u8282\u70b9\u7684\u4f4d\u7f6e\u5750\u6807\npoco(\"star_single\").get_bounds() # \u83b7\u53d6\u8282\u70b9\u7684\u9876\u90e8\u3001\u53f3\u4fa7\u3001\u5e95\u90e8\u548c\u5de6\u4fa7\u7684\u5f52\u4e00\u5316\u5750\u6807\u7cfb\npoco(\"star_single\").get_size()\n</code></pre></p> </li> <li> <p>\u8bbe\u7f6e\u63a7\u4ef6\u7684\u6587\u672c\u4fe1\u606f     <pre><code>poco(\"pos_input\").set_text(\"123\")\npoco(\"pos_input\").setattr('text',\"456\")\n</code></pre></p> </li> <li> <p>\u5220\u9664\u6587\u672c     <pre><code># \u5229\u7528\u6309\u952e\u7801\u8fdb\u884c\u9010\u5b57\u5220\u9664\nfor i in range(10):\n    keyevent(\"67\") # \u7b49\u540c\u4e8ekeyevent(\"KEYCODE_DEL\")\n\n# \u5229\u7528Poco\u7684set_text\u7f6e\u7a7a\u8fdb\u884c\u5220\u9664\npoco(\"com.netease.cloudmusic:id/search_src_text\").set_text(\" \")\n</code></pre></p> </li> <li> <p>\u70b9\u51fb     <pre><code>poco('bg_mission').click()\npoco('bg_mission').click('center')\npoco('bg_mission').click([0.5, 0.5])    # equivalent to center\npoco('bg_mission').focus([0.5, 0.5]).click()  # equivalent to above expression\n\npoco(\"star_single\").click() # \u63a7\u4ef6\u5355\u51fb\npoco(\"star_single\").double_click() # \u63a7\u4ef6\u53cc\u51fb\npoco('star_single').long_click() # \u63a7\u4ef6\u957f\u6309\npoco('star_single').long_click(duration=5)\n</code></pre></p> </li> <li> <p>\u6ed1\u52a8     <pre><code>joystick = poco('movetouch_panel').child('point_img')\njoystick.swipe('up')\njoystick.swipe([0.2, -0.2])  # swipe sqrt(0.08) unit distance at 45 degree angle up-and-right\njoystick.swipe([0.2, -0.2], duration=0.5)\n\npoco(\"Handle\").swipe([0,0.2]) # \u5411\u4e0b\u6ed1\u52a80.2\u4e2a\u5355\u4f4d\u8ddd\u79bb\npoco(\"Handle\").swipe([0,-0.2]) # \u5411\u4e0a\u6ed1\u52a80.2\u4e2a\u5355\u4f4d\u8ddd\u79bb\npoco(\"Handle\").swipe(\"down\") # \u5411\u4e0b\u6ed1\u52a80.1\u4e2a\u5355\u4f4d\u8ddd\u79bb\npoco(\"Handle\").swipe(\"up\") # \u5411\u4e0a\u6ed1\u52a80.1\u4e2a\u5355\u4f4d\u8ddd\u79bb\n</code></pre></p> </li> <li> <p>\u62d6\u62fd     <pre><code>poco(\"playDragAndDrop\").child(\"star\")[0].drag_to(poco(\"shell\")) # \u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u63a7\u4ef6\u4e0a\npoco(\"playDragAndDrop\").child(\"star\")[1].drag_to([0.503, 0.705]) # \u62d6\u52a8\u5230\u56fa\u5b9a\u76ee\u6807\u4e0a\n\nshell = poco('shell').focus('center')\nfor star in poco('star'):\n    star.drag_to(shell)\ntime.sleep(1)\n\n# \u4e0b\u62c9\u5217\u8868\u7ec4\u4ef6\u91cc\u4ece\u4e00\u4e2a\u70b9\u62d6\u62fd\u5230\u53e6\u4e00\u4e2a\u70b9\u5b9e\u73b0\u6eda\u52a8\u6548\u679c\nlistView = poco('Scroll View')\nlistView.focus([0.5, 0.8]).drag_to(listView.focus([0.5, 0.2]))\n</code></pre></p> </li> <li> <p>\u6ed1\u52a8\u624b\u52bf =&gt; \u53ef\u7528\u4e8e\u89e3\u9501\u7b49\u590d\u6742\u624b\u52bf\u64cd\u4f5c     <pre><code>poco = Poco(...)\nui1 = poco('xxx')\nui2 = poco('yyy')\n\n# touch down on ui1 and hold for 1s\n# then drag to ui2 and hold for 1s\n# finally release(touch up)\nui1.start_gesture().hold(1).to(ui2).hold(1).up()\n\n\nfrom airtest.core.api import *\nfrom poco.drivers.unity3d import UnityPoco\nauto_setup(__file__)\npoco = UnityPoco()\n# \u6ed1\u4e00\u4e2aV\u5f62\u72b6\npoco.start_gesture([0.5, 0.5]).hold(1).to([0.6, 0.6]).hold(1).to([0.7, 0.5]).up()\n</code></pre></p> </li> <li> <p>\u5185\u90e8\u504f\u79fb</p> <p>\u5982\u679c\u9009\u4e2d\u63a7\u4ef6\u4e4b\u540e\uff0c\u4f60\u5e76\u4e0d\u60f3\u70b9\u51fb\u63a7\u4ef6\u7684\u4e2d\u5fc3\u4f4d\u7f6e\uff0c\u800c\u662f\u60f3\u70b9\u51fb\u63a7\u4ef6\u5185\u90e8\u7684\u5176\u5b83\u4f4d\u7f6e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 focus() \u65b9\u6cd5\u6765\u6307\u5b9a\u5185\u90e8\u504f\u79fb\u91cf <pre><code>poco('bg_mission').focus('center').click()  # click the center\npoco(\"star_single\").focus([0,0]).click() # \u70b9\u51fb\u661f\u661f\u63a7\u4ef6\u5de6\u4e0a\u89d2\u7684\u4f4d\u7f6e\npoco(\"star_single\").focus([0.5,0.5]).click() # \u70b9\u51fb\u661f\u661f\u63a7\u4ef6\u7684\u4e2d\u5fc3\u4f4d\u7f6e\uff0c\u7b49\u540c\u4e8epoco(\"star_single\").click()\npoco(\"star_single\").focus([-0.5,0.5]).click() # \u70b9\u51fb\u661f\u661f\u63a7\u4ef6\u7684\u5916\u90e8\u4f4d\u7f6e\n</code></pre></p> </li> <li> <p>\u5916\u90e8\u504f\u79fb</p> <p>\u9009\u4e2d1\u4e2a\u63a7\u4ef6\u4ee5\u540e\uff0c\u5982\u679c\u6211\u4eec\u60f3\u70b9\u51fb\u63a7\u4ef6\u4e4b\u5916\u7684\u4f4d\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 focus() \u65b9\u6cd5\u6765\u6307\u5b9a\u5916\u90e8\u504f\u79fb\u91cf\uff1b\u5e76\u4e14\u4f1a\u51fa\u73b0 \u70b9\u51fb\u5750\u6807\u7684\u503c\u5c0f\u4e8e0\u6216\u8005\u5927\u4e8e1 \u7684\u60c5\u51b5 <pre><code>pearl_text = poco(text=\"pearl\")\npearl_text.focus([0.5,-3]).long_click()\n\n# \u5c06 focus \u548c drag_to \u7ed3\u5408\u4f7f\u7528\u8fd8\u80fd\u4ea7\u751f\u5377\u52a8(scroll)\u7684\u6548\u679c\uff0c\u4e0b\u9762\u4f8b\u5b50\u5c55\u793a\u4e86\u5982\u4f55\u5c06\u4e00\u4e2a\u5217\u8868\u5411\u4e0a\u5377\u52a8\u534a\u9875\nscrollView = poco(type='ScollView')\nscrollView.focus([0.5, 0.8]).drag_to(scrollView.focus([0.5, 0.2]))\n</code></pre></p> </li> <li> <p>\u7b49\u5f85     <pre><code>poco('bg_mission').wait(5).click()  # wait 5 seconds at most\uff0cclick once the object appears\npoco('bg_mission').wait(5).exists()  # wait 5 seconds at most\uff0creturn Exists or Not Exists\n\n# \u572810s\u5185\u7b49\u5f85\u63a7\u4ef6\u51fa\u73b0\uff0c\u5982\u51fa\u73b0\uff0c\u5219\u8fdb\u884c\u957f\u6309\u64cd\u4f5c\npoco(texture=\"icon\").wait(timeout=10).long_click() # Poco\u63a7\u4ef6\u7684wait\u65b9\u6cd5\uff0c\u5373\u4f7f\u5728\u8bbe\u5b9a\u65f6\u95f4\u5185\u672a\u627e\u5230\u63a7\u4ef6\uff0c\u4e5f\u662f\u4e0d\u4f1a\u62a5\u9519\u7684\uff0c\u53ef\u4ee5\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c\u4e0b\u53bb\n\n# \u7b49\u5f85\u9ec4\u8272\u5c0f\u9c7c\u51fa\u73b0\npoco(\"yellow\").wait_for_appearance(timeout=20)\n# \u7b49\u5f85\u8ba1\u5206\u6587\u672c\u63a7\u4ef6\u6d88\u5931\npoco(text=\"Count:\").wait_for_disappearance(timeout=3)\n</code></pre></p> <p>NOTE\uff1a</p> <p>wait_for_appearance()\u548cwait_for_disappearance()\uff1b\u8fd9\u4e24\u4e2aAPI\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u7b49\u5f85\u9875\u9762\u4e0a \u67d01\u4e2aUI \u51fa\u73b0\u6216\u8005\u6d88\u5931\uff0c\u7b49\u5f85\u7684\u8d85\u65f6\u65f6\u95f4 timeout \u9ed8\u8ba4\u4e3a120\u79d2\uff0c\u5982\u679c\u5728\u8d85\u65f6\u65f6\u957f\u4e4b\u5185\u5143\u7d20\u6ca1\u6709\u51fa\u73b0\u6216\u8005\u6d88\u5931\u7684\u8bdd\uff0c\u4f1a\u62a5 PocoTargetTimeout \u7684\u9519\u8bef</p> </li> <li> <p>\u51bb\u7ed3UI     <pre><code>poco = UnityPoco()\n# \u901a\u8fc7\u51bb\u7ed3\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u63d0\u9ad8\u7ea610\u500d\u901f\u5ea6\uff0c\u64cd\u4f5c\u7684\u6b21\u6570\u8d8a\u591a\uff0c\u63d0\u6548\u8d8a\u591a\nwith poco.freeze() as frozen_poco:\n    for item in frozen_poco('xxx'):\n        item.click()\n</code></pre>     poco\u7684\u6240\u6709\u64cd\u4f5c\u51e0\u4e4e\u6bcf\u6b21\u64cd\u4f5c\u524d\uff0c\u90fd\u8981\u901a\u8fc7\u53d1\u9001rpc\u8bf7\u6c42\u628aApp\u7684hierarchy(UI\u6811)\u4ece\u624b\u673a\u62c9\u5230PC\uff0c\u5982\u5c5e\u6027\u7c7b\u64cd\u4f5cattr()\u3001\u5404\u79cd\u7b49\u5f85\u3001\u5404\u79cd\u70b9\u51fb\u7b49\uff0c\u8fd9\u5c06\u975e\u5e38\u8017\u8d39\u65f6\u95f4\u3002\u8fd9\u4e48\u505a\u7684\u539f\u56e0\u662fPoco\u65e0\u6cd5\u4fdd\u8bc1App\u754c\u9762\u6709\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff0c\u6240\u4ee5\u6bcf\u6b21\u64cd\u4f5c\u524d\u90fd\u8981\u53bb\u83b7\u53d6\u5b9e\u65f6\u7684hierarchy(UI\u6811)\u3002     \u6240\u4ee5Poco\u63d0\u4f9b\u4e86freeze()\u65b9\u6cd5\uff0c\u5b83\u628ahierarchy(UI\u6811)\u62c9\u53d6\u4e00\u6b21\u540e\uff0c\u4fdd\u5b58\u5728PC\u5185\u5b58\u4e2d\uff0c\u4ee5\u540e\u518d\u6709\u4ea4\u4e92\u64cd\u4f5c\u65f6\uff0c\u4e0d\u518d\u53bb\u624b\u673a\u62c9\u53d6\uff0c\u800c\u662f\u76f4\u63a5\u8bfb\u53d6PC\u5185\u5b58\u4e2d\u4fdd\u5b58\u7684\u8fd9\u4efdhierarchy(UI\u6811)\u3002\u8fd9\u5c06\u6781\u5927\u63d0\u9ad8\u64cd\u4f5c\u6548\u7387\u4ece\u800c\u8282\u7701UI\u81ea\u52a8\u5316\u6267\u884c\u65f6\u95f4\u3002</p> <p>\u4e0d\u8fc7\u8fd9\u79cd\u65b9\u6cd5\u6709\u4e00\u4e2a\u7f3a\u70b9\uff0c\u5c31\u662f\u5728\u4f60\u8fd9\u6bb5\u64cd\u4f5c\u65f6\u95f4\u5185\uff0cUI\u4e0d\u80fd\u6709\u53d8\u5316\u3002\u6bd4\u5982\u5f53\u4f60\u70b9\u51fb\u7b2c\u4e00\u4e2a\u590d\u9009\u6846\u540e\uff0c\u5728\u8be5\u590d\u9009\u6846\u4e0b\u9762\u53c8\u591a\u51fa\u6765\u4e00\u884c\u8f93\u5165\u6846\uff0c\u90a3\u4e48\u540e\u9762\u7684\u590d\u9009\u6846\u90fd\u8981\u5f80\u4e0b\u79fb\u3002\u5982\u679c\u6b64\u65f6\u4ecd\u7528\u4fdd\u5b58\u5728PC\u5185\u5b58\u4e2d\u7684hierarchy(UI\u6811)\uff0c\u5728\u4f60\u53bb\u70b9\u51fb\u7b2c2\u4e2a\u590d\u9009\u6846\u65f6\uff0c\u5b9e\u9645\u662f\u70b9\u5230\u4e86\u65b0\u51fa\u73b0\u7684\u8f93\u5165\u6846\u4e0a\u9762\u3002 \u6240\u4ee5\u4f7f\u7528freeze()\u7684\u573a\u666f\uff0c\u4e00\u5b9a\u8981\u786e\u4fdd\u671f\u95f4UI\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002</p> </li> <li> <p>\u5f55\u5c4f     <pre><code>from airtest.core.api import *\nfrom airtest.core.android.recorder import *\nfrom airtest.core.android.adb import *\n\nauto_setup(__file__,devices=[\"android://127.0.0.1:5037/emulator-5554\"])\n\nadb = ADB(serialno=\"emulator-5554\")\nrecorder = Recorder(adb)\n\n# \u5f00\u542f\u5f55\u5c4f\nrecorder.start_recording(max_time=10)\n\ntouch(Template(r\"tpl1603091574169.png\", record_pos=(0.113, -0.302), resolution=(900, 1600)))\nsleep(3.0)\n\n# \u7ed3\u675f\u5f55\u5c4f\nrecorder.stop_recording(output=\"test.mp4\")\n</code></pre></p> </li> <li> <p>\u81ea\u5b9a\u4e49\u6ed1\u52a8     <pre><code>from airtest.core.api import *\ndev = device()  # \u83b7\u53d6\u5f53\u524d\u624b\u673a\u8bbe\u5907\n# \u624b\u6307\u6309\u7167\u987a\u5e8f\u4f9d\u6b21\u6ed1\u8fc73\u4e2a\u5750\u6807\ndev.swipe_along([(100, 100), (200, 200), (300, 300)]) # \u6ed1\u52a8\u89e3\u9501\ndev.minitouch.swipe_along([(100, 100), (200, 200), (300, 300)]) # \u6ed1\u52a8\u89e3\u9501(\u8bf7\u6ce8\u610f\u8fd9\u4e2a\u63a5\u53e3\u76ee\u524d\u53ea\u6709\u5728\u4f7f\u7528\u4e86\u9ed8\u8ba4\u7684 minitouch \u6a21\u5f0f\uff08Android10\u4f7f\u7528 maxtouch \uff09\u65f6\u624d\u80fd\u4f7f\u7528)\n\n\n# \u4e24\u4e2a\u624b\u6307\u540c\u65f6\u70b9\u51fb\nfrom airtest.core.api import *\nfrom airtest.core.android.touch_methods.base_touch import *\nconnect_device(\"Android:///\")\n\nmultitouch_event = [\n    DownEvent((100, 100), 0),  # \u624b\u63071\u6309\u4e0b(100, 100)\n    DownEvent((200, 200), 1),  # \u624b\u63072\u6309\u4e0b(200, 200)\n    SleepEvent(1),\n    UpEvent(0), UpEvent(1)]  # 2\u4e2a\u624b\u6307\u5206\u522b\u62ac\u8d77\n\ndevice().touch_method.perform(multitouch_event)\n\n\n\n# \u4f7f\u7528swipe_along\u6ed1\u4e2a\u5708\nfrom airtest.core.api import *\n\nauto_setup(__file__)\n\n# \u83b7\u53d6\u5f53\u524d\u624b\u673a\u8bbe\u5907\ndev = device()\n# \u624b\u6307\u6309\u7167\u987a\u5e8f\u4f9d\u6b21\u6ed1\u8fc7\u591a\u4e2a\u5750\u6807\ndev.swipe_along([[959, 418],[1157, 564],[1044, 824],[751, 638],[945, 415]])\n</code></pre></p> </li> <li> <p>\u957f\u6309\u5220\u9664     <pre><code>from airtest.core.android.touch_methods.base_touch import *\ndev = device()\n\n# \u6848\u4f8b\u4e00\n# \u957f\u6309\u5220\u9664\u5e94\u7528\nlongtouch_event = [\n    DownEvent([908, 892]),# \u5f85\u5220\u9664\u5e94\u7528\u7684\u5750\u6807\n    SleepEvent(2),\n    MoveEvent([165,285]),# \u5220\u9664\u5e94\u7528\u7684\u5783\u573e\u6876\u5750\u6807\n    UpEvent(0)]\n\ndev.touch_proxy.perform(longtouch_event)\n\n# \u53d6\u6d88\u5378\u8f7d\npoco(\"android:id/button2\").click()\n</code></pre></p> </li> <li> <p>\u591a\u6307\u6ed1\u52a8     <pre><code># \u6848\u4f8b\u4e09\n# \u4e09\u6307\u6ed1\u52a8\nswipe_event2 = [DownEvent((100, 300), 0), DownEvent((100, 500), 1), DownEvent((100, 700), 2), SleepEvent(0.1)]\n\nfor i in range(5):\n    swipe_event2.append(MoveEvent((100 + 100*i, 300), 0))# \u7b2c\u4e00\u6839\u624b\u6307\n    swipe_event2.append(MoveEvent((100 + 100*i, 500), 1))# \u7b2c\u4e8c\u6839\u624b\u6307\n    swipe_event2.append(MoveEvent((100 + 100*i, 700), 2))# \u7b2c\u4e09\u6839\u624b\u6307\n    swipe_event2.append(SleepEvent(0.2))\n\nswipe_event2.append(UpEvent(0))\nswipe_event2.append(UpEvent(1))\nswipe_event2.append(UpEvent(2))\n\ndev.touch_proxy.perform(swipe_event2)\n\n\n# \u53cc\u6307\u634f\u5408\n# \u83b7\u53d6\u5f53\u524d\u624b\u673a\u8bbe\u5907\ndev = device()\n\n\n# \u5411\u5185\u634f\u5408\ndev.pinch(in_or_out='in', center=None, percent=0.5)\nsleep(1.0)\n\n\n# \u5411\u5916\u634f\u5408\ndev.pinch(in_or_out='out', center=None, percent=0.2)\nsleep(1.0)\n\ndev.pinch(in_or_out='out', center=None, percent=0.2)\nsleep(1.0)\n</code></pre></p> </li> </ul>"},{"location":"full-stack/framework/airtest/#_5","title":"\u5168\u5c40\u64cd\u4f5c","text":"<pre><code>poco.click([0.5,0.5]) # \u5355\u51fb\u753b\u9762\u4e2d\u5fc3\u4f4d\u7f6e\npoco.long_click([0.5,0.5]) # \u957f\u6309\u753b\u9762\u4e2d\u5fc3\u4f4d\u7f6e\npoco.swipe([0.9,0.5],[0.3,0.5]) # \u5411\u5de6\u6ed1\u52a8\nfrozen_poco = poco.freeze() # \u51bb\u7ed3\u5f53\u524d\u7684UI\u6811\uff0c\u53ef\u63d0\u9ad8poco\u67e5\u627e\u6548\u7387\npoco.use_render_resolution(True, (0 ,100 ,1080 ,2020)) # \u81ea\u5b9a\u4e49\u6e32\u67d3\u5206\u8fa8\u7387\uff0c\u4e3a\u66f4\u597d\u652f\u6301\u66f4\u591a\u4e0d\u517c\u5bb9\u7684\u5168\u9762\u5c4f\u8bbe\u5907\n\n\n# wait_for_all() \u662f\u5728\u8d85\u65f6\u65f6\u957f\u7ed3\u675f\u4e4b\u524d\uff0c\u9700\u8981 \u7b49\u5f85\u6240\u6709\u7ed9\u5b9a\u7684UI\u5bf9\u8c61\u90fd\u663e\u793a\u51fa\u6765 \uff0c\u5373\u4e00\u6b21\u8f6e\u8be2\u6240\u6709UI\npoco(\"wait_ui2\").click()\nyellow = poco(\"yellow\")\nblue = poco(\"blue\")\nblack = poco(\"black\")\npoco.wait_for_all([yellow,blue,black])\npoco(\"btn_back\").click()\n\n\n# wait_for_any() \u5219\u662f\u5728\u8d85\u65f6\u65f6\u957f\u7ed3\u675f\u4e4b\u524d\uff0c\u7b49\u5f85\u4efb\u610f\u4e00\u4e2aUI\u663e\u793a\u51fa\u6765\uff0c\u5373\u4e00\u6b21\u8f6e\u8be2\u4efb\u4f55\u4e00\u4e2a\u7ed9\u5b9a\u7684UI\nbomb = poco(\"bomb\")\nyellow = poco(\"yellow\")\nblue = poco(\"blue\")\nwhile True:\n    fish = poco.wait_for_any([bomb,yellow,blue])\n    print(fish.get_name())\n\n\n# \u5c0f\u6e38\u620f\uff1a\u70b9\u51fb\u84dd\u8272\u5c0f\u9c7c\u548c\u9ec4\u8272\u5c0f\u9c7c\uff0c\u4e0d\u80fd\u70b9\u51fb\u70b8\u5f39\nfrom poco.drivers.unity3d import UnityPoco\nfrom poco.exceptions import PocoTargetTimeout\n\npoco = UnityPoco()\n\nbomb_count = 0\nwhile True:\n    blue_fish = poco('fish_emitter').child('blue')\n    yellow_fish = poco('fish_emitter').child('yellow')\n    bomb = poco('fish_emitter').child('bomb')\n    fish = poco.wait_for_any([blue_fish, yellow_fish, bomb])\n    if fish is bomb:\n        # skip the bomb and count to 3 to exit\n        bomb_count += 1\n        if bomb_count &gt; 3:\n            return\n    else:\n        # otherwise click the fish to collect.\n        fish.click()\n    time.sleep(2.5)\n\n\n\n# \u6ed1\u52a8\n# swipe from A to B\npoint_a = [0.1, 0.1]\ncenter = [0.5, 0.5]\npoco.swipe(point_a, center)\n\n# swipe from A by given direction\ndirection = [0.1, 0]\npoco.swipe(point_a, direction=direction)\n\n# \u9009\u4e2dUI\u6267\u884cswipe\n# \u5411\u4e0a\u6ed1\u52a8\u5217\u8868\u89c6\u56fe\npoco('Scroll View').swipe([0, -0.1])\n# \u4e0e\u4e0a\u9762\u8fd9\u6761\u4ee3\u7801\u4e00\u6837, \u5e76\u4e14\u8fd8\u53ef\u4ee5\u4f20\u5165down/left/right\npoco('Scroll View').swipe('up')  \n# \u5411\u4e0b\u6ed1\u52a8\u5217\u8868\u89c6\u56fe\npoco('Scroll View').swipe('down')\n\n# \u4e0d\u9009\u4e2dUI\u6267\u884cswipe\nx, y = poco('Scroll View').get_position()\nend = [x, y - 0.1]\ndir = [0, -0.1]\n# \u4ece\u70b9A\u6ed1\u52a8\u5230\u70b9B\npoco.swipe([x, y], end)  \n# \u4ece\u70b9A\u6cbf\u7740\u4e00\u5b9a\u7684\u65b9\u5411\u6ed1\u52a8\u4e00\u6bb5\u8ddd\u79bb   \npoco.swipe([x, y], direction=dir) \n\n\n\n# \u622a\u5c4f\nfrom base64 import b64decode\nb64img, fmt = poco.snapshot(width=720)\nopen('screen.{}'.format(fmt), 'wb').write(b64decode(b64img))\n\n\nfrom base64 import b64decode\nb64img, fmt = poco.snapshot(width=720)\nopen('screen.{}'.format(fmt), 'wb').write(b64decode(b64img))\n</code></pre>"},{"location":"full-stack/framework/airtest/#_6","title":"\u5f02\u5e38\u5904\u7406","text":"<ul> <li>InvalidOperationException</li> <li>PocoException</li> <li>PocoNoSuchNodeException</li> <li>PocoTargetRemovedException</li> <li>PocoTargetTimeout</li> </ul> <p>\u793a\u4f8b\uff1a <pre><code>from poco.exceptions import PocoTargetTimeout\ntry:\n    poco('guide_panel', type='ImageView').wait_for_appearance()\nexcept PocoTargetTimeout:\n    # bugs here as the panel not shown\n    raise\n\n\nfrom poco.exceptions import PocoNoSuchNodeException\nimg = poco('guide_panel', type='ImageView')\ntry:\n    if not img.exists():\n        img.click()\nexcept PocoNoSuchNodeException:\n    # If attempt to operate inexistent nodes, an exception will be thrown\n    pass\n</code></pre></p>"},{"location":"full-stack/framework/airtest/#_7","title":"\u5e94\u7528\u6388\u6743","text":"<pre><code>#\u5141\u8bb8\u5e94\u7528\u7684\u7535\u8bdd\u6743\u9650\nshell(\"pm grant com.sina.weibo android.permission.READ_PHONE_STATE\")\n\n#\u64a4\u9500\u5e94\u7528\u7684\u7535\u8bdd\u6743\u9650\nshell(\"pm revoke com.sina.weibo android.permission.READ_PHONE_STATE\")\n\n#\u5141\u8bb8\u5e94\u7528\u5b58\u50a8\u7684\u8bfb\u5199\u6743\u9650\nshell(\"pm grant com.sina.weibo android.permission.READ_EXTERNAL_STORAGE\")\nshell(\"pm grant com.sina.weibo android.permission.WRITE_EXTERNAL_STORAGE\")\n\n#\u64a4\u9500\u5e94\u7528\u5b58\u50a8\u7684\u8bfb\u5199\u6743\u9650\nshell(\"pm revoke com.sina.weibo android.permission.READ_EXTERNAL_STORAGE\")\nshell(\"pm revoke com.sina.weibo android.permission.WRITE_EXTERNAL_STORAGE\")\n</code></pre> <p>\u5176\u4ed6\u6743\u9650\uff1a</p> <ul> <li>\u5e94\u7528\u7684\u7535\u8bdd\u6743\u9650\uff1aandroid.permission.READ_PHONE_STATE</li> <li>\u5e94\u7528\u5b58\u50a8\u7684\u8bfb\u53d6\u6743\u9650\uff1aandroid.permission.READ_EXTERNAL_STORAGE</li> <li>\u5e94\u7528\u5b58\u50a8\u7684\u5199\u5165\u6743\u9650\uff1aandroid.permission.WRITE_EXTERNAL_STORAGE</li> <li>\u5e94\u7528\u6253\u5f00\u4f4d\u7f6e\u6743\u9650\uff1aandroid.permission.ACCESS_COARSE_LOCATION</li> <li>\u5e94\u7528\u6253\u5f00\u6444\u50cf\u5934\u6743\u9650\uff1aandroid.permission.CAMERA</li> <li>\u5e94\u7528\u8bbf\u95ee\u9ea6\u514b\u98ce\uff1aandroid.permission.RECORD_AUDIO</li> <li>\u5e94\u7528\u8bfb\u53d6\u8054\u7cfb\u4eba\u6570\u636e\uff1aandroid.permission.READ_CONTACTS</li> <li>\u5e94\u7528\u8bfb\u53d6\u77ed\u4fe1\u6570\u636e\uff1aandroid.permission.READ_SMS</li> <li>\u5e94\u7528\u8bfb\u53d6\u8bbe\u5907\u7684\u65e5\u5386\u8868\uff1aandroid.permission.READ_CALENDAR</li> <li>\u5e94\u7528\u5199\u5165\u8bbe\u5907\u7684\u65e5\u5386\u8868\uff1aandroid.permission.WRITE_CALENDAR</li> </ul>"},{"location":"full-stack/framework/airtest/#_8","title":"\u63a7\u4ef6\u622a\u56fe","text":"<pre><code>\u65b9\u5f0f\u4e00\uff1a\nfrom airtest.core.api import *\nfrom airtest.aircv import *\n\nauto_setup(__file__)\n\nfrom poco.drivers.android.uiautomation import AndroidUiautomationPoco\npoco = AndroidUiautomationPoco(use_airtest_input=True, screenshot_each_action=False)\n\n#\u83b7\u53d6\u5c4f\u5e55\u5206\u8fa8\u7387\nandroid = device()\nxy=android.get_current_resolution()\n\nscreen = G.DEVICE.snapshot()\n\n#\u4f7f\u7528poco\u53bb\u5bfb\u627e\u63a7\u4ef6\nif poco(text=\"\u6e38\u620f\u589e\u5f3a\u5668\").exists():\n    a=poco(text=\"\u6e38\u620f\u589e\u5f3a\u5668\").get_position()#\u83b7\u53d6\u63a7\u4ef6\u7684\u4e2d\u5fc3\u5750\u6807\n    b=poco(text=\"\u6e38\u620f\u589e\u5f3a\u5668\").get_size()#\u83b7\u53d6\u63a7\u4ef6\u7684\u5b9e\u9645\u957f\u5bbd\n\n    #\u8ba1\u7b97\u5de6\u4e0a\u89d2\u5750\u6807\uff0c\u8f6c\u5316\u6210\u7edd\u5bf9\u5750\u6807\n    x1=int((a[0]-0.5*b[0])*xy[0])\n    y1=int((a[1]-0.5*b[1])*xy[1])\n\n    #\u8ba1\u7b97\u53f3\u4e0b\u89d2\u5750\u6807\uff0c\u8f6c\u5316\u6210\u7edd\u5bf9\u5750\u6807\n    x2=int((a[0]+0.5*b[0])*xy[0])\n    y2=int((a[1]+0.5*b[1])*xy[1])\n\n    # \u5c40\u90e8\u622a\u56fe\n    screen = aircv.crop_image(screen,(x1,y1,x2,y2))\n    # \u4fdd\u5b58\u5c40\u90e8\u622a\u56fe\u5230log\u6587\u4ef6\u5939\u4e2d\n    try_log_screen(screen)\n\n\n\u65b9\u5f0f\u4e8c\uff1a\nfrom airtest.core.api import *\nfrom airtest.aircv import *\n\nauto_setup(__file__)\nscreen = G.DEVICE.snapshot()\n\n# \u5c40\u90e8\u622a\u56fe\nscreen = aircv.crop_image(screen,(0,160,1067,551))\n# \u4fdd\u5b58\u5c40\u90e8\u622a\u56fe\u5230log\u6587\u4ef6\u5939\u4e2d\ntry_log_screen(screen)\n</code></pre>"},{"location":"full-stack/framework/airtest/#_9","title":"\u6d4b\u8bd5\u62a5\u544a","text":"<ul> <li>\u8bb0\u5f55\u81ea\u5b9a\u4e49\u51fd\u6570\u5230\u62a5\u544a     <pre><code>from airtest.core.api import *\nauto_setup(__file__)\n\n@logwrap\ndef open_calculator():\n    wake()\n    start_app(\"com.sonymobile.exactcalculator\")\n\nopen_calculator()\n\n\n# \u8bb0\u5f55\u65e5\u5fd7\u5e76\u9644\u52a0\u622a\u56fe =&gt; snapshot=True\n@logwrap\ndef open_calculator(snapshot=True):\n    wake()\n    start_app(\"com.sonymobile.exactcalculator\")\n</code></pre></li> <li> <p>simple_report(filepath, logpath=True, logfile=\"log.txt\", output=\"log.html\") \u63a5\u53e3\uff0c\u5b83\u5176\u5b9e\u662f1\u4e2a\u7b80\u5316\u7248\u7684\u751f\u6210\u62a5\u544a\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u51cf\u5c11\u540c\u5b66\u4eec\u7684\u7406\u89e3\u6210\u672c\u548c\u4f7f\u7528\u6210\u672c</p> </li> <li> <p>filepath\uff1a\u6307\u5b9a\u811a\u672c\u7684\u8def\u5f84</p> </li> <li>logpath\uff1a\u6307\u5b9alog\u5185\u5bb9\u7684\u8def\u5f84</li> <li>logfile\uff1a\u6307\u5b9alog.txt\u6587\u4ef6\u7684\u8def\u5f84</li> <li> <p>output\uff1a\u6307\u5b9aHTML\u62a5\u544a\u7684\u751f\u6210\u8def\u5f84\uff0c\u5fc5\u987b\u4ee5 .html \u7ed3\u5c3e     <pre><code>from airtest.core.api import *\nfrom airtest.report.report import simple_report\nfrom poco.drivers.android.uiautomation import AndroidUiautomationPoco\n\ndef demo():\n    # \u8fde\u63a5\u8bbe\u5907\u4ee5\u53ca\u521d\u59cb\u5316\u5de5\u4f5c log\u6587\u4ef6\u5939\u9ed8\u8ba4\u751f\u6210\u5728\u5f53\u9762\u76ee\u5f55\u4e0b \n    auto_setup(__file__, logdir=True, devices=[\"Android:///\",],)\n\n    # \u521d\u59cb\u5316poco\n    poco = AndroidUiautomationPoco(use_airtest_input=True, screenshot_each_action=False)\n    # \u6267\u884c\u4e00\u4e9b\u64cd\u4f5c \u786e\u4fdd\u624b\u673aapp\u5df2\u767b\u5f55\u5e76\u8df3\u8f6c\u5230app\u521d\u59cb\u5316\u754c\u9762\n    try:\n        # \u4ee5\u4e0b\u64cd\u4f5c\u6267\u884c\uff1a\u6211\u7684-\u300b\u6211\u559c\u6b22\u7684\u97f3\u4e50-\u300b\u70b9\u51fb\u64ad\u653e\n        poco(text=\"\u6211\u7684\").click()\n        poco(text=\"\u6211\u559c\u6b22\u7684\u97f3\u4e50\").click()\n        # \u7075\u6d3b\u7ed3\u5408ide\u63d0\u4f9b\u7684poco ui\u6811\u83b7\u53d6\u64ad\u653e\u6309\u94aename\u5c5e\u6027\u503c \n        poco(name=\"com.netease.cloudmusic:id/minPlayBtn\").click()\n    except Exception as err:\n        # \u8bb0\u5f55\u62a5\u9519\u5230logdir\u4e0b\u7684log.txt\u6587\u4ef6\u4e2d\uff0c\u5e76\u622a\u56fe\u4fdd\u5b58\u53d1\u751f\u9519\u8bef\u65f6\u7684\u624b\u673a\u5c4f\u5e55\n        log(err, desc=\"Finale Error\", snapshot=True)\n    # \u65e0\u8bba\u8fd0\u884c\u662f\u5426\u6210\u529f \u8f93\u51fa\u62a5\u544a\n    finally:\n        # \u9ed8\u8ba4\u751f\u6210html\u62a5\u544a\u5230\u811a\u672c\u6240\u5728\u7684\u540c\u7ea7\u76ee\u5f55\u4e0b\n        simple_report(__file__, logpath=True, output=\"test/app/log.html\")\n\nif __name__ == '__main__':\n    demo()\n</code></pre></p> </li> <li> <p>class LogToHtml(script_root, log_root=\"\",static_root=\"\",export_dir=None,script_name=\"\",logfile=\"log.txt\",lang=\"en\",plugins=None)</p> </li> <li> <p>script_root\uff0c\u6307\u5b9a\u811a\u672c\u8def\u5f84</p> </li> <li>log_root\uff0c\u6307\u5b9alog\u6587\u4ef6\u7684\u8def\u5f84</li> <li>static_root\uff0c\u6307\u5b9a\u90e8\u7f72\u9759\u6001\u8d44\u6e90\u7684\u670d\u52a1\u5668\u8def\u5f84</li> <li>export_dir\uff0c\u8bbe\u7f6e\u5bfc\u51fa\u62a5\u544a\u7684\u5b58\u653e\u8def\u5f84</li> <li>script_name\uff0c\u811a\u672c\u540d\u79f0</li> <li>logfile\uff0c\u6307\u5b9alog\u6587\u4ef6log.txt\u7684\u8def\u5f84</li> <li>lang\uff0c\u6307\u5b9a\u62a5\u544a\u7684\u8bed\u8a00\uff08\u4e2d\u6587\uff1azh\uff1b\u82f1\u6587\uff1aen\uff09</li> <li> <p>plugins\uff0c\u6307\u5b9a\u62a5\u544a\u63d2\u4ef6\uff0c\u4f7f\u7528\u4e86poco\u6216\u8005airtest-selenium\u4f1a\u7528\u5230     <pre><code>from airtest.report.report import LogToHtml\nh1 = LogToHtml(script_root=__file__, log_root=\"test/app/log\", lang=\"zh\", plugins=[\"poco.utils.airtest.report\"])\nh1.report(output_file=\"test/app/log.html\")\n\n\n# \u81ea\u52a8\u8fde\u63a5\u91cd\u542f\u540e\u7684\u8bbe\u5907\u5e76\u7ee7\u7eed\u6267\u884c\u81ea\u52a8\u5316\u811a\u672c\nfrom airtest.core.api import *\nfrom airtest.core.android.android import *\n\nauto_setup(__file__)\n\ndev = connect_device(\"android://127.0.0.1:5037/QV720MVQ52\")\n\nfrom poco.drivers.android.uiautomation import AndroidUiautomationPoco\npoco = AndroidUiautomationPoco(use_airtest_input=True, screenshot_each_action=False)\n\n# \u7b80\u5355\u6d4b\u8bd5\u7f51\u6613\u4e91\u97f3\u4e50APP\ndef simple_test():\n    clear_app(\"com.netease.cloudmusic\")\n    start_app(\"com.netease.cloudmusic\")\n\n    sleep(1.0)\n\n    poco(\"com.netease.cloudmusic:id/agree\").click()\n    sleep(1.0)\n    poco(\"com.netease.cloudmusic:id/permissionGrant\").click()\n    sleep(1.0)\n    poco(\"com.sonymobile.cta:id/permission_allow_button\").click()\n    sleep(1.0)\n\n    wait(Template(r\"tpl1667356693271.png\", record_pos=(0.0, -0.688), resolution=(1080, 2520)),timeout=30)\n\n    poco(\"com.netease.cloudmusic:id/agreeCheckbox\").click()\n    poco(\"com.netease.cloudmusic:id/trial\").click()\n    sleep(1.0)\n\n# \u7b80\u5355\u6d4b\u8bd5\u540e\u8ba9\u8bbe\u5907\u91cd\u542f\nsimple_test()\ndev.shell(\"reboot\")\nsleep(60.0)\n\n# \u8fd9\u91cc\u6267\u884c\u91cd\u542f\u540e\u7684\u81ea\u52a8\u5316\u64cd\u4f5c\nlog(\"\u8fd9\u91cc\u5f00\u59cb\u6267\u884c\u91cd\u542f\u540e\u7684\u81ea\u52a8\u5316\u64cd\u4f5c\")\n\n# \u91cd\u65b0\u8fde\u63a5\u8bbe\u5907\nconnect_device(\"android://127.0.0.1:5037/QV720MVQ52\")\n\n# \u7ed9\u8bbe\u5907\u89e3\u9501\nandroid = Android(\"QV720MVQ52\")\nandroid.unlock()\nswipe([552, 2407],[543, 664])\n\n# \u91cd\u65b0\u521d\u59cb\u5316Android poco\u5e76\u8fdb\u884c\u4e00\u4e9b\u81ea\u52a8\u5316\u6d4b\u8bd5\nfrom poco.drivers.android.uiautomation import AndroidUiautomationPoco\npoco = AndroidUiautomationPoco(use_airtest_input=True, screenshot_each_action=False)\nsleep(3.0)\nsimple_test()\n</code></pre></p> </li> <li> <p>logdir\u4e0elogpath</p> <p>\u751f\u6210Airtest\u62a5\u544a\u9700\u8981\u4f9d\u8d56\u811a\u672c\u8fd0\u884c\u8fc7\u7a0b\u4fdd\u5b58\u7684log\uff0c\u6240\u4ee5\u5982\u9700\u751f\u6210\u62a5\u544a\uff0c\u5c31\u9700\u8981\u4fdd\u5b58\u811a\u672c\u8fd0\u884c\u8fc7\u7a0b\u7684log\uff0cauto_setup  \u63a5\u53e3\u7684logdir\u53c2\u6570\u53ef\u4ee5\u8bbe\u7f6elog\u4fdd\u5b58\u8def\u5f84\uff1b\u4f7f\u7528simple_report\u751f\u6210\u62a5\u544a\u65f6\uff0c\u5c31\u53ef\u4ee5\u8bbe\u7f6elogpath\uff0c\u5230logdir\u6307\u5b9a\u7684log\u4fdd\u5b58\u8def\u5f84\u4e0b\u9762\u53bb\u627e\u811a\u672c\u5bf9\u5e94\u7684log\u5185\u5bb9</p> </li> </ul>"},{"location":"full-stack/framework/airtest/#yosemiteapk","title":"Yosemite.apk","text":"<p>\u5728Android\u5e73\u53f0\u4e0b\uff0cAirtest\u914d\u4e86\u4e00\u4e2a\u4e13\u7528\u7684\u8f93\u5165\u6cd5 Yosemite.apk\uff0c\u5f53\u6211\u4eec\u5728Android\u8bbe\u5907\u4e0a\u8fd0\u884c\u5230\u8f93\u5165\u6587\u672c\u7684\u63a5\u53e3\uff0c\u6bd4\u5982 text \u63a5\u53e3\u65f6\uff0c\u4f1a\u81ea\u52a8\u542f\u7528\u8fd9\u4e2a Yosemite \u8f93\u5165\u6cd5\u6765\u8fdb\u884c\u8f93\u5165 \u5f53Android\u8bbe\u5907\u542f\u7528 Yosemite \u8f93\u5165\u6cd5\u65f6\uff0c\u6211\u4eec\u5c31\u53ea\u80fd\u901a\u8fc7\u811a\u672c\u6765\u5bf9\u8bbe\u5907\u8fdb\u884c\u8f93\u5165\uff0c\u65e0\u6cd5\u624b\u5de5\u8f93\u5165\uff0c\u5982\u679c\u9700\u8981\u624b\u5de5\u8f93\u5165\uff0c\u53ef\u4ee5\u5728\u624b\u673a\u7cfb\u7edf\u7684\u8f93\u5165\u6cd5\u8bbe\u7f6e\u4e2d\uff0c\u628a\u8f93\u5165\u6cd5\u5207\u6362\u56de\u7cfb\u7edf\u8f93\u5165\u6cd5\u5373\u53ef\u6062\u590d \u5982\u679c\u6211\u4eec\u786e\u5b9a\u5728\u6d4b\u8bd5\u811a\u672c\u4e2d\uff0c\u4e0d\u4f1a\u6d89\u53ca\u4efb\u4f55\u6587\u672c\u8f93\u5165\u7684\u64cd\u4f5c\uff1b\u6216\u8005\u662f\u53ea\u9700\u8981\u8f93\u5165\u82f1\u6587\uff0c\u5e76\u4e14\u662f\u4ee5 adb shell input \u7684\u65b9\u5f0f\u6765\u8fdb\u884c\u8f93\u5165\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4e0d\u5728\u624b\u673a\u4e0a\u5b89\u88c5 Yosemite \u8f93\u5165\u6cd5 <pre><code># \u5728\u811a\u672c\u4e2d\u6307\u5b9a\u4e0d\u4f7f\u7528 Yosemite \u8f93\u5165\u6cd5\nfrom airtest.core.api import *\n# \u65b9\u5f0f\u4e00\nauto_setup(__file__,devices=[\"android:///?ime_method=ADBIME\"])\n\n\n# \u65b9\u5f0f\u4e8c\ninit_device(\"Android\", ime_method=\"ADBIME\")\n</code></pre></p>"},{"location":"full-stack/framework/airtest/#airtest-text","title":"Airtest\u7684 text \u63a5\u53e3","text":"<p>Airtest\u6846\u67b6\u7ed9\u6211\u4eec\u63d0\u4f9b\u7684\u8f93\u5165\u63a5\u53e3\u662f text \u63a5\u53e3\uff0c\u5728\u4f7f\u7528 text \u63a5\u53e3\u4e4b\u524d\uff0c\u6211\u4eec \u5fc5\u987b\u5148\u70b9\u51fb\u8f93\u5165\u6846\uff0c\u6fc0\u6d3b\u4e0b\u8f93\u5165\u5149\u6807 text \u63a5\u53e3\u6709\u4e00\u4e2a\u9ed8\u8ba4\u53c2\u6570 enter=True\uff0c\u4f1a\u5728\u8f93\u5165\u5b8c\u6bd5\u540e\u81ea\u52a8\u6309\u4e00\u4e0b\u56de\u8f66\u952e\uff08\u76f8\u5f53\u4e8e keyevent(\"ENTER\")\uff09\uff0c\u5047\u5982\u4e0d\u9700\u8981\uff0c\u8bf7\u4f20\u5165 enter=False <pre><code>text(\"test\", enter=False)\n</code></pre></p> <p>\u90e8\u5206\u8f93\u5165\u6846\uff0c\u9700\u8981\u5728\u8f93\u5165\u5185\u5bb9\u540e\uff0c\u70b9\u51fb\u8f93\u5165\u952e\u76d8\u4e0a\u7684 \u641c\u7d22 \u6309\u94ae\u624d\u80fd\u591f\u6fc0\u6d3b\u641c\u7d22\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4f20\u5165 search=True \u53c2\u6570 <pre><code>text(\"test\", search=True)\n</code></pre></p> <p>\u5982\u679c\u6211\u4eec\u5728\u4f7f\u7528\u7c7b\u4f3c text(\"11\") \u8fd9\u6837\u7684\u811a\u672c\uff0c\u4e0d\u80fd\u6b63\u786e\u56de\u8f66\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0b\u8ff0\u65b9\u5f0f\u6765\u6dfb\u52a0\u8fd9\u4e2a\u56de\u8f66\u7684\u6548\u679c <pre><code>text(\"11\")\nime=G.DEVICE.yosemite_ime\nime.code(6)\n</code></pre></p> <p>text \u8f93\u5165\u5931\u8d25\uff0c\u5927\u6982\u7387\u90fd\u7ed5\u4e0d\u8fc7\u4e0b\u9762\u51e0\u4e2a\u95ee\u9898\uff1a</p> <ul> <li>\u624b\u673a\u963b\u6b62\u4e86 Yosemite.apk \u7684\u5b89\u88c5\u548c\u8fd0\u884c</li> <li>\u6ca1\u6709\u5c06 Yosemite \u8f93\u5165\u6cd5\u8bbe\u7f6e\u4e3a\u624b\u673a\u9ed8\u8ba4\u8f93\u5165\u6cd5</li> <li>\u8f93\u5165\u8d26\u53f7\u5bc6\u7801\u4e4b\u7c7b\u7684\uff0c\u6ca1\u6709\u5173\u95ed\u624b\u673a\u7684 \u5b89\u5168\u8f93\u5165 / \u5b89\u5168\u952e\u76d8 \u8bbe\u7f6e</li> <li>\u90e8\u5206\u624b\u673a\u7684\u517c\u5bb9\u6027\u95ee\u9898</li> <li>\u90e8\u5206\u6a21\u62df\u5668\u672a\u5173\u95ed \u7269\u7406\u952e\u76d8 \u7684\u95ee\u9898</li> </ul> <pre><code># \u9664\u4e86Airtest\u6846\u67b6\u63d0\u4f9b\u7684 text \u63a5\u53e3\uff0cPoco\u6846\u67b6\u4e5f\u63d0\u4f9b\u4e86\u8f93\u5165\u7684 set_text \u63a5\u53e3\npoco(\"com.android.mms:id/recipients_editor\").click()\npoco(\"com.android.mms:id/recipients_editor\").set_text(\"test\")\n\npoco(\"com.android.mms:id/recipients_editor\").set_text(\" \") # \u5feb\u901f\u6e05\u7a7a\u8f93\u5165\u6846\n\n\n# \u8f93\u5165\u6cd5\u5207\u6362(ADB\u6307\u5b9a\u5207\u6362\u67d0\u4e2a\u8f93\u5165\u6cd5\uff0c\u9700\u8981 \u5148\u542f\u52a8\uff0c\u518d\u8bbe\u7f6e)\nadb shell ime enable \u8f93\u5165\u6cd5ID\nadb shell ime set \u8f93\u5165\u6cd5ID\n\n\u5982\u4e0b\uff1a\nadb shell ime enable com.netease.nie.yosemite/.ime.ImeService\nadb shell ime set com.netease.nie.yosemite/.ime.ImeService\n\n# \u67e5\u770b\u5f53\u524d\u4f7f\u7528\u7684\u8f93\u5165\u6cd5\nadb shell settings get secure default_input_method\n\n\n# \u5207\u6362\u8f93\u5165\u6cd5\u7684Python\u5b9e\u73b0\nfrom airtest.core.api import *\nauto_setup(__file__)\nym = \"com.netease.nie.yosemite/.ime.ImeService\"\nsh = \"com.sohu.inputmethod.sogouoem/.SogouIME\"\n\ndef set_ime(ime):\n    shell(\"ime enable \" + ime)\n    shell(\"ime set \" + ime)\n\nset_ime(ym)\ntext(\"123\", enter=False)\nset_ime(sh)\n\n\n# \u83b7\u53d6\u5f53\u524d\u8f93\u5165\u6cd5\nfrom airtest.core.api import *\nauto_setup(__file__)\ndev = device()\nprint(dev.yosemite_ime._get_ime_list())\n</code></pre>"},{"location":"full-stack/framework/airtest/#_10","title":"\u65ad\u8a00","text":"<ul> <li>assert_exists =&gt; assert_equal(poco(\"star_single\").exists(),True,\"\u65ad\u8a00\u661f\u661f\u63a7\u4ef6\u5b58\u5728\")</li> <li>assert_not_exists</li> <li>assert_equal =&gt; assert_equal(poco(xxx).exists(),True,\"xxx\u63a7\u4ef6\u5b58\u5728\")</li> <li>assert_not_equal</li> <li>assert_true</li> <li>assert_false</li> <li>assert_is</li> <li>assert_is_not</li> <li>assert_is_none</li> <li>assert_is_not_none</li> <li>assert_in</li> <li>assert_not_in</li> <li>assert_is_instance</li> <li>assert_not_is_instance</li> </ul>"},{"location":"full-stack/framework/airtest/#_11","title":"\u5168\u5c40\u53d8\u91cf","text":"<p>\u5728airtest.core.settings\u91cc\uff0c\u63d0\u4f9b\u4e86\u90e8\u5206\u5168\u5c40\u9ed8\u8ba4\u5c5e\u6027\uff0c\u5176\u4e2d\u6211\u4eec\u5217\u4e3e\u51fa\u51e0\u4e2a\u5e38\u89c1\u5c5e\u6027\u548c\u5b83\u4eec\u7684\u9ed8\u8ba4\u503c\uff1a - \u53d8\u91cf\u53c2\u6570   - LOG_DIR = None # \u7528\u4e8e\u81ea\u5b9a\u4e49log\u5185\u5bb9\u7684\u4fdd\u5b58\u8def\u5f84   - LOG_FILE = \"log.txt\" # \u7528\u4e8e\u81ea\u5b9a\u4e49\u8bb0\u5f55log\u5185\u5bb9\u7684txt\u6587\u6863\u7684\u540d\u79f0   - RESIZE_METHOD = staticmethod(cocos_min_strategy) # \u5206\u8fa8\u7387\u9002\u914d\u89c4\u5219   - CVSTRATEGY = [\"mstpl\", \"tpl\", \"surf\", \"brisk\"] # \u56fe\u50cf\u8bc6\u522b\u7b97\u6cd5   - THRESHOLD = 0.7 # [0, 1] # \u56fe\u50cf\u8bc6\u522b\u9619\u503c   - OPDELAY = 0.1 # \u6b65\u9aa4\u4e4b\u95f4\u7684\u65f6\u95f4\u95f4\u9694   - FIND_TIMEOUT = 20 # \u56fe\u7247\u67e5\u627e\u8d85\u65f6\u65f6\u957f   - FIND_TIMEOUT_TMP = 3 # \u56fe\u7247\u67e5\u627e\u8d85\u65f6\u65f6\u957f   - PROJECT_ROOT = os.environ.get(\"PROJECT_ROOT\", \"\") # \u9879\u76ee\u6839\u76ee\u5f55   - SNAPSHOT_QUALITY = 10 # 1-100 # \u622a\u56fe\u538b\u7f29\u7cbe\u5ea6   - IMAGE_MAXSIZE = os.environ.get(\"IMAGE_MAXSIZE\", None) # \u622a\u56fe\u5c3a\u5bf8\u5927\u5c0f   - SAVE_IMAGE = True # \u4fdd\u5b58\u8fd0\u884c\u8fc7\u7a0b\u7684\u622a\u56fe</p> <ul> <li>\u5168\u5c40\u53d8\u91cf\u8bbe\u7f6e\u65b9\u6cd5     <pre><code>from airtest.core.api import *\nST.THRESHOLD = 0.8\n\nfrom airtest.core.settings import Settings as ST\nfrom airtest.core.helper import set_logdir\nST.LOG_FILE = \"log123.txt\"\nset_logdir(r'D:\\test\\1234.air\\logs')\n\nfrom airtest.core.settings import Settings as ST\n\n# \u8bbe\u7f6e\u5168\u5c40\u622a\u56fe\u5c3a\u5bf8\u4e0d\u8d85\u8fc7600*600\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4e3a\u539f\u56fe\u5c3a\u5bf8\nST.IMAGE_MAXSIZE = 600\n\n# \u4e0d\u5355\u72ec\u8bbe\u7f6e\u7684\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u91c7\u7528ST\u4e2d\u7684\u5168\u5c40\u53d8\u91cf\u7684\u6570\u503c\uff0c\u5373600*600\nsnapshot(msg=\"test12\")\n\n# \u8bbe\u7f6e\u5355\u5f20\u622a\u56fe\u7684\u6700\u5927\u5c3a\u5bf8\u4e0d\u8d85\u8fc71200*1200\nsnapshot(filename=\"test2.png\", msg=\"test02\", quality=90, max_size=1200)\n</code></pre></li> </ul>"},{"location":"full-stack/framework/airtest/#adb","title":"\u5e38\u7528 adb \u547d\u4ee4","text":"<p><pre><code>adb devices # \u67e5\u770b\u5df2\u8fde\u63a5\u8bbe\u5907\nadb version # \u67e5\u770badb\u7248\u672c\nadb shell pm list packages # \u67e5\u770b\u8bbe\u5907\u4e0a\u7684\u6240\u6709\u5e94\u7528\nadb shell pm list packages -3 # \u67e5\u770b\u8bbe\u5907\u4e0a\u7684\u7b2c\u4e09\u65b9\u5e94\u7528\nadb shell pm list packages -s # \u67e5\u770b\u8bbe\u5907\u4e0a\u7684\u7cfb\u7edf\u5e94\u7528\nadb install \"D:/demo/tutorial-blackjack-release-signed.apk\" # \u5b89\u88c5APK\nadb uninstall com.netease.cloudmusic # \u5378\u8f7d\u5e94\u7528\nadb shell dumpsys package com.netease.cloudmusic # \u67e5\u770b\u5e94\u7528\u8be6\u7ec6\u4fe1\u606f\nadb pull /sdcard/sr.mp4 ~/tmp/ # \u590d\u5236\u8bbe\u5907\u91cc\u7684\u6587\u4ef6\u5230\u7535\u8111\nadb push ~/sr.mp4 /sdcard/ # \u590d\u5236\u7535\u8111\u91cc\u7684\u6587\u4ef6\u5230\u8bbe\u5907\nadb shell input keyevent 26 # \u6a21\u62df\u7535\u6e90\u952e\nadb shell input keyevent 3 # \u6a21\u62dfHOME\u952e\nadb shell input keyevent 4 # \u6a21\u62df\u8fd4\u56de\u952e\nadb shell input keyevent 224 # \u70b9\u4eae\u5c4f\u5e55\nadb shell input keyevent 223 # \u7184\u706d\u5c4f\u5e55\nadb shell input swipe 200 1000 200 500 # \u6a21\u62df\u6ed1\u52a8\u89e3\u9501\uff08200 1000 200 500 \u5206\u522b\u8868\u793a\u8d77\u59cb\u70b9x\u5750\u6807 \u8d77\u59cb\u70b9y\u5750\u6807 \u7ed3\u675f\u70b9x\u5750\u6807 \u7ed3\u675f\u70b9y\u5750\u6807\uff09\nadb shell input text airtest # \u8f93\u5165\u6587\u672c\nadb -s PFT4PBLF75GQHYBM shell getprop ro.product.model # \u67e5\u770b\u8bbe\u5907\u53f7\nadb -s PFT4PBLF75GQHYBM shell wm size # \u67e5\u770b\u8bbe\u5907\u5206\u8fa8\u7387\nadb -s PFT4PBLF75GQHYBM shell getprop ro.build.version.release # \u67e5\u770bAndroid\u7cfb\u7edf\u7248\u672c\n</code></pre> \u60f3\u4e86\u89e3\u66f4\u591a\u8be6\u7ec6\u7684ADB\u64cd\u4f5c\u7684\u540c\u5b66\uff0c\u6211\u4eec\u63a8\u8350\u5927\u5bb6\u9605\u8bfb\u8fd9\u7bc7GitHub\u6587\u6863\uff1ahttps://github.com/mzlogin/awesome-adb</p>"},{"location":"full-stack/framework/airtest/#tips","title":"Tips","text":"<ul> <li> <p>\u7528Poco\u6d4b\u8bd5\u5c0f\u7a0b\u5e8f</p> <p>\u5fae\u4fe1\u548cQQ\u5185\u7f6e\u7684\u6d4f\u89c8\u5668\u5185\u6838\u4e0d\u662fAndroid\u539f\u751f\u7684WebView\uff0c\u800c\u662f\u4ed6\u4eec\u81ea\u5bb6\u7684 X5 WebView \u5185\u6838\u3002\u6211\u4eec\u9700\u8981\u5207\u6362\u5230\u7cfb\u7edfWebView\u5185\u6838\uff0c\u8fd9\u6837Poco\u624d\u80fd\u66f4\u597d\u5730\u8bc6\u522b\u51fa\u5c0f\u7a0b\u5e8f\u7684\u5404\u79cdUI\u63a7\u4ef6</p> <p>\u5982\u4f55\u8fdb\u884c\u8bbe\u7f6e\uff1a \u2460 \u6253\u5f00\u5fae\u4fe1\u4e2d\u4efb\u610f\u4e00\u4e2a\u804a\u5929\u6846\uff0c\u8f93\u5165 debugtbs.qq.com\uff0c\u70b9\u51fb\u8fdb\u5165TBS\u8c03\u8bd5\u9875\u9762\uff0c\u518d\u70b9\u51fb\u9875\u9762\u5185\u7684\u201c\u5b89\u88c5\u7ebf\u4e0a\u5185\u6838\u201d \u2461 \u5b89\u88c5\u6210\u529f\u540e\uff0c\u6211\u4eec\u9700\u8981\u91cd\u542f\u5fae\u4fe1\u624d\u53ef\u4ee5\u751f\u6548\uff1b \u2462 \u518d\u6b21\u8fdb\u53bb\u521a\u624d\u7684TBS\u8c03\u8bd5\u9875\u9762\uff0c\u68c0\u67e5\u6211\u4eec\u7684\u8bbe\u7f6e\u662f\u5426\u751f\u6548\uff0c\u70b9\u51fb\u201c\u67e5\u770b\u7248\u672c\u4fe1\u606f\u201d\uff0c\u7248\u672c\u4fe1\u606f\u4e3a 0(null) \u5219\u8bbe\u7f6e\u6210\u529f</p> <p>\u8bbe\u7f6e\u6210\u529f\u4ee5\u540e\u5373\u53ef\u7528Poco\u5bf9\u5c0f\u7a0b\u5e8f\u8fdb\u884c\u6d4b\u8bd5\uff08TBS\u8c03\u8bd5\u53ea\u9002\u7528\u4e8eAndroid\u7cfb\u7edf\uff0ciOS\u6682\u4e0d\u652f\u6301\uff09</p> <p>\u793a\u4f8b\uff1a <pre><code>from airtest.core.api import *\n\nfrom poco.drivers.android.uiautomation import AndroidUiautomationPoco\npoco = AndroidUiautomationPoco(use_airtest_input=True, screenshot_each_action=False)\nauto_setup(__file__)\n\n# \u4f20\u5165\u5fae\u4fe1\u7684\u5305\u540d\u542f\u52a8\u5fae\u4fe1app\nstart_app(\"com.tencent.mm\")\n\n# \u4e0b\u6ed1\u8fdb\u53bb\u5c0f\u7a0b\u5e8f\u9875\u9762\nswipe((550,250),(550,1200))\nsleep(2.0)\n\n# \u70b9\u51fb\u4e0b\u53a8\u623f\u5c0f\u7a0b\u5e8f\npoco(\"com.tencent.mm:id/cud\").offspring(\"com.tencent.mm:id/dai\").child(\"android.widget.RelativeLayout\").offspring(\"com.tencent.mm:id/le\").offspring(\"com.tencent.mm:id/lh\").child(\"android.widget.LinearLayout\")[2].offspring(\"com.tencent.mm:id/eko\").child(\"android.widget.RelativeLayout\")[0].offspring(\"com.tencent.mm:id/cik\").click()\nsleep(2.0)\n\n# \u70b9\u51fb\u641c\u7d22\u6846\npoco(text=\"\u4eca\u5929\u60f3\u5403\u70b9\u4ec0\u4e48\uff1f\").click()\nsleep(1.0)\n\n# \u518d\u6b21\u70b9\u51fb\u641c\u7d22\u6846\npoco(\"android.widget.EditText\").click()\nsleep(1.0)\n\n# \u8f93\u5165\u641c\u7d22\u8bcd\u201c\u86cb\u7cd5\u201d\npoco(\"android.widget.EditText\").set_text(\"\u86cb\u7cd5\")\n\n# \u70b9\u51fb\u641c\u7d22\npoco(text=\"\u641c\u7d22\").click()\n\n# \u6253\u5370\u627e\u5230\u7b2c\u4e00\u4e2a\u914d\u65b9\u7684\u6807\u9898\nprint(poco(text=\"\u8d85\u5bb9\u6613\u4e0a\u624b\u7684\u53e4\u65e9\u86cb\u7cd5\").get_text())\n</code></pre></p> </li> <li> <p>\u5e94\u7528swipe\u8df3\u8fc7APP\u7684\u4ecb\u7ecd\u9875     <pre><code>\u65b9\u5f0f\u4e00\uff1a\n# \u83b7\u53d6\u8bbe\u5907\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6\nwidth, height = device().get_current_resolution()\n# \u6821\u51c6\u6ed1\u52a8\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\nstart_pt = (width * 0.9, height / 2)\nend_pt = (width * 0.1, height / 2)\n# \u6ed1\u52a85\u6b21:\nfor i in range(5):\n    swipe(start_pt, end_pt)\n    sleep(1)  # \u7b49\u5f85\u8bbe\u5907\u7684\u54cd\u5e94\n\n\u65b9\u5f0f\u4e8c\uff1a\u6309\u6bd4\u4f8b\u6ed1\u52a8\nfor i in range(5):\n    poco.swipe([0.9,0.5], [0.1,0.5])\n    sleep(1)  # \u7b49\u5f85\u8bbe\u5907\u7684\u54cd\u5e94\n</code></pre></p> </li> </ul>"},{"location":"full-stack/framework/airtest/#pytest-airtest-poco","title":"\u573a\u666f\u5b9e\u8df5\uff1apytest + airtest + poco","text":"<p>\u4ee3\u7801demo: pytest + airtest + poco \u811a\u672c\u540d\u79f0\uff1atest_andorid_poco.py \u8bbe\u5907\u7c7b\u578b\uff1a\u8363\u8000Waterplay Android\u7248\u672c\uff1a7.0 \u6d4b\u8bd5APP\uff1a\u534e\u4e3a\u89c6\u9891 \u6d4b\u8bd5\u573a\u666f\uff1a\u83b7\u53d6\u534e\u4e3a\u89c6\u9891\u7535\u5f71Tab\u4e0b\u7684\u5168\u90e8\u7535\u5f71\u540d\u79f0 \u8fd0\u884c\u547d\u4ee4\uff1apytest test/app/test_andorid_poco.py -s <pre><code>import os\nimport pytest\nimport logging\nfrom airtest.core.api import *\nfrom airtest.core.android.adb import *\nfrom airtest.core.android.recorder import *\nfrom poco.proxy import UIObjectProxy\nfrom airtest.report.report import LogToHtml\nfrom airtest.report.report import simple_report\nfrom poco.drivers.android.uiautomation import AndroidUiautomationPoco\n\n\n__author__ = \"hehuabo\"\n\n\n# \u5168\u5c40\u914d\u7f6e\u6bcf\u4e2a\u64cd\u4f5c\u4e4b\u95f4\u7684\u5ef6\u8fdf\u65f6\u95f4\nST.OPDELAY = 1  \n\n# NOTE\uff1a\u64cd\u4f5c\u4e4b\u95f4\u95f4\u9694\u592a\u77ed\u53ef\u80fd\u5bfc\u81f4\u5f02\u5e38 =&gt; requests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=16583): Read timed out. (read timeout=0.3)\n\n\ndef loop_items(poco: AndroidUiautomationPoco, locater: UIObjectProxy):\n    seen_items = set()\n\n    while True:\n        items = locater\n        new_items_found = False\n\n        for item in items:\n            title = item.get_text()\n            if title not in seen_items:\n                logging.info(title)\n                seen_items.add(title)\n                new_items_found = True\n\n        if not new_items_found:\n            break\n\n        # \u6a21\u62df\u5c4f\u5e55\u5411\u4e0a\u6ed1\u52a8\n        poco.swipe([0.5, 0.8], [0.5, 0.2], duration=2.0)\n\n\n@pytest.fixture(scope=\"session\", autouse=True)\ndef clear_log():\n    # \u6e05\u7406\u65e5\u5fd7\n    if os.path.exists(\"test/app/log\"):\n        os.system(\"rm -r test/app/log/*\")\n\n\n@pytest.fixture(scope=\"session\", autouse=True)\ndef poco():\n    # device = connect_device(\"Android://127.0.0.1:5037/JVR6R18915000603\")\n    # poco = AndroidUiautomationPoco(device)\n\n    auto_setup(__file__, devices=[\"Android://127.0.0.1:5037/JVR6R18915000603\"], logdir=True, compress=90)\n    poco = AndroidUiautomationPoco(use_airtest_input=True, screenshot_each_action=False)\n\n    adb = ADB(serialno=\"JVR6R18915000603\")\n    recorder = Recorder(adb)\n\n    # \u5f00\u542f\u5f55\u5c4f\n    recorder.start_recording()\n\n    yield poco\n\n    home()\n    keyevent(\"POWER\")  # \u6309\u7535\u6e90\u952e\u9501\u5c4f\n\n    # \u7ed3\u675f\u5f55\u5c4f\n    recorder.stop_recording(output=\"test/app/log/test.mp4\")\n\n    # \u751f\u6210\u62a5\u544a\n    # simple_report(__file__, logpath=True, output=\"test/app/log.html\")\n\n    LogToHtml(\n        script_root=__file__,\n        log_root=\"test/app/log\",\n        lang=\"zh\",\n        plugins=[\"poco.utils.airtest.report\"],\n    ).report(output_file=\"test/app/log/log.html\")\n\n\n@pytest.fixture(scope=\"session\", autouse=True)\ndef run_app(poco: AndroidUiautomationPoco):\n    # \u5524\u9192\u5c4f\u5e55\n    wake()\n\n    # \u5c4f\u5e55\u89e3\u9501\n    for num in [1, 2, 5, 8]:\n        poco(text=f\"{num}\").click()\n\n    # \u6e05\u7406\u67d0\u4e2a\u5e94\u7528\u6570\u636e\n    clear_app(\"com.huawei.himovie\")\n    # \u542f\u52a8\u67d0\u4e2a\u5e94\u7528\n    start_app(\"com.huawei.himovie\")\n\n\ndef test_get_video_title(poco: AndroidUiautomationPoco):\n    poco(\"com.huawei.himovie:id/btn_confirm\").click()\n\n    poco(\"com.huawei.himovie:id/advert_dialog_close_image_view\").wait_for_appearance()\n    poco(\"com.huawei.himovie:id/advert_dialog_close_image_view\").click()\n\n    poco(text=\"\u7535\u5f71\").click()\n    poco(text=\"\u5168\u90e8\u7535\u5f71\").click()\n\n    seen_items = set()\n    while True:\n        try:\n            poco(\"android.widget.LinearLayout\").offspring(\"com.huawei.himovie:id/title\").wait_for_appearance()\n            items = poco(\"android.widget.LinearLayout\").offspring(\"com.huawei.himovie:id/title\")\n            new_items_found = False\n\n            for item in items:\n                title = item.get_text()\n                if title not in seen_items:\n                    logging.info(title)\n                    seen_items.add(title)\n                    new_items_found = True\n\n            if not new_items_found:\n                break\n\n            # \u6a21\u62df\u5c4f\u5e55\u5411\u4e0a\u6ed1\u52a8\n            poco.swipe([0.5, 0.8], [0.5, 0.2], duration=1.0)\n\n        except Exception as e:\n            logging.error(f\"Exception occurred during swipe: {e}\")\n            break\n</code></pre></p>"},{"location":"full-stack/framework/airtest/#win-wsl-airtestpoco","title":"\u7279\u6b8a\u5f00\u53d1\u73af\u5883\uff1aWin + WSL + airtest/poco","text":"<p>\u5728Win\u673a\u5668\u4e0a\u901a\u8fc7WSL\u8fdb\u884cAPP\u81ea\u52a8\u5316\u65f6\uff0c\u4f7f\u7528 <code>adb devices</code> \u65e0\u6cd5\u83b7\u53d6\u5230\u8bbe\u5907\uff0c\u6b64\u65f6\u9700\u8981\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u89e3\u51b3\uff08\u53c2\u89c1\uff1ahttps://jaro.blog/blog/adb-in-wsl2.html\uff09\uff1a 1. \u786e\u4fddWin\u548cWSL\u4e2d\u4f7f\u7528\u76f8\u540c\u7684adb\u7248\u672c\uff0c\u901a\u8fc7 <code>adb version</code>\u67e5\u770b 2. \u5728 Win \u4e0a\u6267\u884c\uff1a     <pre><code>adb kill-server\nadb -a -P 5037 nodaemon server\n</code></pre> 3. \u5728 Win \u4e0a\u6267\u884c <code>ipconfig</code> \u83b7\u53d6IP\u5730\u5740     <pre><code>\u4ee5\u592a\u7f51\u9002\u914d\u5668 vEthernet (WSL (Hyper-V firewall)):\n\n\u8fde\u63a5\u7279\u5b9a\u7684 DNS \u540e\u7f00 . . . . . . . :\n\u672c\u5730\u94fe\u63a5 IPv6 \u5730\u5740. . . . . . . . : fe80::414:6dac:f1ee:400d%34\nIPv4 \u5730\u5740 . . . . . . . . . . . . : 192.168.144.1\n\u5b50\u7f51\u63a9\u7801  . . . . . . . . . . . . : 255.255.240.0\n\u9ed8\u8ba4\u7f51\u5173. . . . . . . . . . . . . :\n</code></pre> 4. \u5728 WSL \u4e2d\u6267\u884c <code>sudo vim /etc/resolv.conf</code> \u66ff\u6362 nameserver \u4e3a\u4e0a\u9762\u83b7\u53d6\u5230\u7684IP\uff08192.168.144.1\uff09 5. \u5728 WSL \u4e2d\u7684 profile \uff08\u5982 ~/.zshrc\uff09\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff1a     <pre><code>export ADB_SERVER_SOCKET=tcp:192.168.144.1:5037\n</code></pre> 6. \u5728 WSL \u4e2d\u6267\u884c<code>adb devices</code>\u5373\u53ef\u6b63\u5e38\u83b7\u53d6\u8bbe\u5907 7. \u8c03\u6574\u8fde\u63a5\u8bbe\u5907\u7684\u5b57\u7b26\u4e32\uff0c\u4f7f\u7528\u4e0a\u9762\u7684IP\u4ee3\u66ff 127.0.0.1\uff0c\u5982\u4e0b\uff1a     <pre><code>device = connect_device(f\"Android://192.168.144.1:5037/{device_id}\")\npoco = AndroidUiautomationPoco(device)\n</code></pre></p>"},{"location":"full-stack/framework/airtest/#_12","title":"\u76f8\u5173\u5f15\u7528","text":"<ul> <li>\u6398\u91d1\uff1ahttps://juejin.cn/user/1275089221067928</li> <li>\u5b98\u7f51\u6559\u7a0b\uff1ahttps://airtest.doc.io.netease.com/tutorial/</li> </ul>"},{"location":"full-stack/framework/allure/","title":"allure","text":"<pre><code>allure serve -h 0.0.0.0 -p 8080 ./allure-result\n</code></pre>"},{"location":"full-stack/framework/fastapi/","title":"fastapi","text":""},{"location":"full-stack/framework/playwright/","title":"playwright","text":""},{"location":"full-stack/framework/playwright/#_1","title":"\u5b89\u88c5","text":"<ul> <li> <p>\u5b89\u88c5 playwright <pre><code>pip install playwright\n</code></pre></p> </li> <li> <p>\u5b89\u88c5 pytest-playwright \u63d2\u4ef6 <pre><code>pip install pytest-playwright\n</code></pre></p> </li> <li> <p>\u5b89\u88c5\u6d4f\u89c8\u5668 <pre><code># \u5b8c\u5168\u5b89\u88c5\nplaywright install\n\n# \u6307\u5b9a\u6d4f\u89c8\u5668\u5b89\u88c5\nplaywright install --with-deps chromium\nplaywright install --with-deps firefox\nplaywright install --with-deps webkit\n\n\n# \u9ed8\u8ba4\u5b89\u88c5\u76ee\u5f55\n~/.cache/ms-playwright\n\n# \u6307\u5b9a\u76ee\u5f55\u5b89\u88c5\nexport PLAYWRIGHT_BROWSERS_PATH=$HOME/{{CUSTOM_FOLDER}}\nplaywright install\n</code></pre></p> </li> </ul> <p>NOTE:</p> <p>Supported Microsoft Edge channels are: msedge, msedge-beta, msedge-dev, msedge-canary</p> <p></p>"},{"location":"full-stack/framework/playwright/#_2","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<pre><code># \u540c\u6b65\nfrom playwright.sync_api import sync_playwright\n\nwith sync_playwright() as p:\n    browser = p.chromium.launch()\n    page = browser.new_page()\n    page.goto(\"http://playwright.dev\")\n    print(page.title())\n    browser.close()\n\n\n# \u5f02\u6b65\nimport asyncio\nfrom playwright.async_api import async_playwright\n\nasync def main():\n    async with async_playwright() as p:\n        browser = await p.chromium.launch()\n        page = await browser.new_page()\n        await page.goto(\"http://playwright.dev\")\n        print(await page.title())\n        await browser.close()\n\nasyncio.run(main())\n</code></pre>"},{"location":"full-stack/framework/playwright/#_3","title":"\u663e\u5f0f\u7b49\u5f85","text":"<pre><code>page.wait_for_timeout(5000) # \u63a8\u8350\ntime.sleep(5) # \u4e0d\u63a8\u8350\n</code></pre> <p>NOTE:</p> <p>Most likely you don't need to wait manually, since Playwright has auto-waiting. If you still rely on it, you should use page.wait_for_timeout(5000) instead of time.sleep(5) and it is better to not wait for a timeout at all, but sometimes it is useful for debugging. In these cases, use our wait (wait_for_timeout) method instead of the time module. This is because we internally rely on asynchronous operations and when using time.sleep(5) they can't get processed correctly.</p> <p></p>"},{"location":"full-stack/framework/playwright/#_4","title":"\u6545\u969c\u6392\u9664","text":"<pre><code>playwright codegen https://www.baidu.com\n</code></pre> <p>NOTE:</p> <ol> <li> <p>\u5728 WSL \u73af\u5883\u4e2d\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4\u65f6\u4f1a\u63d0\u793a <code>Looks like you launched a headed browser without having a XServer running</code>\uff0c\u6b64\u65f6\u53ea\u9700\u8981\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u6267\u884c <code>wsl --update</code> \u66f4\u65b0WSL\u5373\u53ef\u3002\u8be6\u89c1\uff1aIs there any plan to suport UI automation with WSL2 environment?</p> </li> <li> <p>\u5f53\u51fa\u73b0 <code>Host system is missing dependencies to run browsers</code> \u62a5\u9519\u4fe1\u606f\u65f6\uff0c\u8bf7\u5c1d\u8bd5\u6267\u884c <code>playwright install-deps</code> \u6765\u5b89\u88c5\u76f8\u5173\u4f9d\u8d56\u3002 <pre><code># \u7f3a\u5c11XServer\u652f\u6301\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551 Looks like you lanched a headed browser without having a XServer runnig.                        \u2551\n\u2551 Set either 'headless: false' or use 'xvfb-run &lt;your-playwright-app&gt;' before running Playwright. \u2551\n\u2551                                                                                                 \u2551\n\u2551 &lt;3 Playwright Team                                                                              \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n# \u7f3a\u5c11\u4f9d\u8d56\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551 Host system is missing dependencies to run browsers. \u2551\n\u2551 Please install them with the following command:      \u2551\n\u2551                                                      \u2551\n\u2551     sudo npx playwright install-deps                 \u2551\n\u2551                                                      \u2551\n\u2551 Alternatively, use apt:                              \u2551\n\u2551     sudo apt-get install libatk1.0-0\\                \u2551\n\u2551         libatk-bridge2.0-0\\                          \u2551\n\u2551         libpango-1.0-0\\                              \u2551\n\u2551         libcairo2\\                                   \u2551\n\u2551         libatspi2.0-0                                \u2551\n\u2551                                                      \u2551\n\u2551 &lt;3 Playwright Team                                   \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n</code></pre></p> </li> </ol> <p></p> <p></p>"},{"location":"full-stack/framework/playwright/#pytest","title":"Pytest","text":"<ul> <li>CLI \u53c2\u6570 <pre><code>--headed:          Run tests in headed mode (default: headless).\n--browser:         Run tests in a different browser chromium, firefox, or webkit. It can be specified multiple times (default: all browsers).\n--browser-channel: Browser channel to be used.\n--slowmo:          Run tests with slow mo.\n--device:          Device to be emulated.\n--output:          Directory for artifacts produced by tests (default: test-results).\n--tracing:         Whether to record a trace for each test. on, off, or retain-on-failure (default: off).\n--video:           Whether to record video for each test. on, off, or retain-on-failure (default: off).\n--screenshot:      Whether to automatically capture a screenshot after each test. on, off, or only-on-failure (default: off).\n--base-url:        Start Pytest with the base-url argument to short goto url parameter value\n</code></pre></li> </ul> <ul> <li>Fixture <pre><code>Function scope: These fixtures are created when requested in a test function and destroyed when the test ends.\n\ncontext: New browser context for a test.\npage:    New browser page for a test.\n</code></pre> <pre><code>Session scope: These fixtures are created when requested in a test function and destroyed when all tests end.\n\nplaywright:                         Playwright instance.\nbrowser_type:                       BrowserType instance of the current browser.\nbrowser:                            Browser instance launched by Playwright.\nbrowser_name:                       Browser name as string.\nbrowser_channel:                    Browser channel as string.\nis_chromium, is_webkit, is_firefox: Booleans for the respective browser types.\n</code></pre> <pre><code>Customizing fixture options: For browser and context fixtures, use the following fixtures to define custom launch options.\n\nbrowser_type_launch_args: Override launch arguments for browser_type.launch(**kwargs). It should return a Dict.\nbrowser_context_args:     Override the options for browser.new_context(**kwargs). It should return a Dict.\n</code></pre></li> </ul> <ul> <li>Mark <pre><code>@pytest.mark.skip_browser(\"firefox\")\n@pytest.mark.only_browser(\"chromium\")\n</code></pre></li> </ul>"},{"location":"full-stack/framework/playwright/#_5","title":"\u8c03\u8bd5\u6a21\u5f0f","text":"<p>\u65b9\u5f0f\u4e00\uff1a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf PWDEBUG=1   - \u6d4f\u89c8\u5668\u4ee5\u6709\u5934\u6a21\u5f0f\u8fd0\u884c   - \u8d85\u65f6\u65f6\u95f4\u8bbe\u7f6e\u4e3a0\uff0c\u5373\u6c38\u4e0d\u8d85\u65f6</p> <pre><code>export PWDEBUG=1\npytest -s\n</code></pre> <p></p> <p>\u65b9\u5f0f\u4e8c\uff1a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf PWDEBUG=console   - \u6d4f\u89c8\u5668\u4ee5\u6709\u5934\u6a21\u5f0f\u8fd0\u884c   - \u8d85\u65f6\u65f6\u95f4\u8bbe\u7f6e\u4e3a0\uff0c\u5373\u6c38\u4e0d\u8d85\u65f6   - \u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u8c03\u8bd5\u652f\u6301\uff08\u5305\u542b playwright \u5bf9\u8c61\uff09 <pre><code>export PWDEBUG=console\npytest -s\n</code></pre></p> <p></p> <p>\u65b9\u5f0f\u4e09\uff1a\u5728\u5408\u9002\u4f4d\u7f6e\u63d2\u5165\u4ee3\u7801 <pre><code>sync  =&gt; page.pause()\nasync =&gt; await page.pause()\n</code></pre></p> <p></p> <p>\u65b9\u5f0f\u56db\uff1a\u6d4f\u89c8\u5668\u542f\u52a8\u65f6\u542f\u7528\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177 <pre><code>sync  =&gt; chromium.launch(devtools=True)\nasync =&gt; await chromium.launch(devtools=True)\n</code></pre></p> <p>\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u8c03\u8bd5:</p> <p>playwright.$(selector)       =&gt; Query Playwright selector, using the actual Playwright query engine</p> <p>playwright.$$(selector)      =&gt; Same as playwright.$, but returns all matching elements.</p> <p>playwright.inspect(selector) =&gt; Reveal element in the Elements panel (if DevTools of the respective browser supports it).</p> <p>playwright.locator(selector) =&gt; Query Playwright element using the actual Playwright query engine</p> <p>playwright.selector(element) =&gt; Generates selector for the given element.</p> <p></p> <p>\u65b9\u5f0f\u4e94\uff1apdb \u8c03\u8bd5 <pre><code>breakpoint()\n</code></pre></p> <p></p> <p>\u65b9\u5f0f\u516d\uff1aapi\u8c03\u8bd5 <pre><code>DEBUG=pw:api\npytest -s\n</code></pre></p> <p></p> <p>\u65b9\u5f0f\u4e03\uff1a--debug <pre><code>pytest --debug\n</code></pre></p>"},{"location":"full-stack/framework/playwright/#_6","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code>playwright open playwright.dev\n\nplaywright codegen playwright.dev\nplaywright codegen playwright.dev --save-storage=auth.json\nplaywright codegen playwright.dev --load-storage=auth.json\nplaywright codegen playwright.dev --viewport-size=800,600\nplaywright codegen playwright.dev --device=\"iPhone 11\"\nplaywright codegen playwright.dev --color-scheme=dark\n\nplaywright open --device=\"iPhone 11\" wikipedia.org\nplaywright open --viewport-size=800,600 --color-scheme=dark twitter.com\nplaywright open --timezone=\"Europe/Rome\" --geolocation=\"41.890221,12.492348\" --lang=\"it-IT\" maps.google.com\n\nplaywright screenshot --help\nplaywright screenshot --device=\"iPhone 11\" --color-scheme=dark --wait-for-timeout=3000 twitter.com twitter-iphone.png\nplaywright screenshot --full-page en.wikipedia.org wiki-full.png\nplaywright pdf https://en.wikipedia.org/wiki/PDF wiki.pdf\n\npytest --slowmo 100\npytest --browser chromium\npytest --browser-channel chrome\npytest --base-url http://localhost:8080\nplaywright show-trace trace.zip\npytest --headed -slowmo=2000 --tracing retain-on-failure --video retain-on-failure --screenshot only-on-failure\n</code></pre>"},{"location":"full-stack/framework/playwright/#browsernew_context","title":"browser.new_context","text":"<pre><code>@pytest.fixture(scope=\"session\")\ndef browser_context_args(browser_context_args, playwright, user_info):\n    browser_context_args.update({\"record_har_path\": \"config/record.har\", \"record_har_url_filter\": \"**/**\"})\n    browser_context_args.update({\"http_credentials\": {\"username\": \"bill\", \"password\": \"pa55w0rd\"}})\n    browser_context_args.update({\"proxy\": {\"server\": \"http://myproxy.com:3128\"}})\n    browser_context_args.update({\"color_scheme\": \"dark\"})\n    browser_context_args.update({\"user_agent\": 'My user agent'})\n    browser_context_args.update(playwright.devices['iPhone 12'])\n    browser_context_args.update({\"viewport\": {\"width\": 1920, \"height\": 1080}})\n    browser_context_args.update({\"locale\"=\"de-DE\", \"timezone_id\"=\"Europe/Berlin\"})\n    browser_context_args.update({\"permissions\": [\"notifications\"]})\n    browser_context_args.update({\"geolocation\": {\"longitude\": 48.858455, \"latitude\": 2.294474}, \"permissions\": [\"geolocation\"]})\n    browser_context_args.grant_permissions(['notifications'], origin='https://skype.com')\n    browser_context_args.clear_permissions()\n\n    storage_state = f\"config/storage_{user_info['username']}.json\"\n    if path.is_exists(storage_state):\n        browser_context_args.update({\"storage_state\": storage_state})\n\n    return browser_context_args\n</code></pre>"},{"location":"full-stack/framework/playwright/#_7","title":"\u5143\u7d20\u5b9a\u4f4d","text":"<pre><code># Text selector\npage.locator('\"Login\"')\npage.locator(\"text=Log in\")      # \u6a21\u7cca\u5339\u914d\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199\npage.locator(\"text='Log in'\")    # \u7cbe\u786e\u5339\u914d\uff0c\u533a\u5206\u5927\u5c0f\u5199\npage.locator(\"text=/Log\\s*in/i\") # \u6b63\u5219\u5339\u914d\n\n# CSS selector\npage.locator(\"button\")\npage.locator(\"#nav-bar .contact-us-item\")\n\n# Select by attribute, with css selector\npage.locator(\"[aria-label='Sign in']\")\npage.locator(\"[data-test=login-button]\")\npage.locator('css=[placeholder=\"Search GitHub\"]')\npage.locator('[placeholder=\"Search GitHub\"]')\npage.locator('css=nav &gt;&gt; text=Login')\n\n# Combine css and text selectors\npage.locator(\"button\", has_text=\"Sign up\")\npage.locator(\"article:has-text('Playwright')\")\npage.locator(\"#simpletable tr:has-text('Raj') td &gt;&gt; nth=3\")\npage.locator(\"#nav-bar :text('Contact us')\")          # \u6a21\u7cca\u5339\u914d\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199\npage.locator(\"#nav-bar :text-is('Contact us')\")       # \u7cbe\u786e\u5339\u914d\uff0c\u533a\u5206\u5927\u5c0f\u5199\npage.locator(\"#nav-bar :text-matches('reg?ex', 'i')\") # \u6b63\u5219\u5339\u914d\n\n# Element that contains another, with css selector\npage.locator(\".item-description:has(.item-promo-banner)\")\npage.locator(\"article:has(div.promo)\")\npage.locator(\"article\", has=page.locator(\"button.subscribe\"))\n\n# Filter\npage.locator(\".row\").locator(\":scope\", has_text=\"Hello\")\n\n# Selecting elements matching one of the conditions\npage.locator('button:has-text(\"Log in\"), button:has-text(\"Sign in\")')\npage.locator(\"//span[contains(@class, 'spinner__loading')]|//div[@id='confirmation']\")\n\n# Selecting based on layout, with css selector\npage.locator(\"input:right-of(:text('Username'))\")\npage.locator(\"[type=radio]:left-of(:text('Label 3'))\")\npage.locator(\"input:above(:text('Username'))\")\npage.locator(\"input:below(:text('Username'))\")\npage.locator(\"button:near(.promo-card)\")\npage.locator(\"button:near(:text('Username'), 120)\") # matches a button that is at most 120 pixels away from the element with the text \"Username\"\n\n# Only visible elements, with css selector\npage.locator(\".login-button:visible\")\npage.locator(\".login-button &gt;&gt; visible=true\")\npage.locator(\"a &gt;&gt; text=Sign up\")\n\n# Pick n-th match\npage.locator(\":nth-match(:text('Buy'), 3)\")\n\n# N-th element selector\npage.locator(\"button &gt;&gt; nth=0\")\n\n# XPath selector\npage.locator(\"xpath=//button\")\n\n# id, data-testid, data-test-id, data-test selectors\npage.locator('id=username')\npage.locator('data-test-id=submit')\n\n# Parent selector\nparent_locator = element_locator.locator('..')\n\n# Chaining selectors\npage.locator(\"tr\")\n    .filter(has_text=\"text in column 1\")\n    .filter(has=page.locator(\"tr\", has_text=\"column 2 button\"))\n\npage.locator(\"css=article &gt;&gt; css=.bar &gt; .baz &gt;&gt; css=span[attr=value]\")\npage.locator(\"css=article &gt;&gt; text=Hello\")\npage.locator(\"*css=article &gt;&gt; text=Hello\") # Intermediate matches\n\n# Selecting elements in Shadow DOM\npage.locator(\"article div\")         # Search for both Light DOM and Shadow DOM\npage.locator(\":light(article div)\") # Search Only for Light\n</code></pre>"},{"location":"full-stack/framework/playwright/#_8","title":"\u5143\u7d20\u5c5e\u6027","text":"<ul> <li>\u5143\u7d20\u4f4d\u7f6e</li> </ul> <pre><code>page.locator(\"#position\").bounding_box() =&gt; {\"x\": 88, \"y\": 338, \"width\": 130, \"height\": 40}\n</code></pre> <ul> <li>CSS\u6837\u5f0f <pre><code># \u65b9\u5f0f\u4e00\uff1a\npage.locator(\"#color\").evaluate(\"element =&gt; {return window.getComputedStyle(element).getPropertyValue('background-color')}\")\n\n# \u65b9\u5f0f\u4e8c\uff1a\nexpect(page.locator(\"#color\")).to_have_css(\"background-color\", \"rgb(138, 77, 118)\")\n</code></pre></li> </ul>"},{"location":"full-stack/framework/playwright/#_9","title":"\u5143\u7d20\u5217\u8868","text":"<pre><code># Locate elements, this locator points to a list.\nrows = page.locator(\"table tr\")\n\n# Pattern 1: use locator methods to calculate text on the whole list.\ntexts = rows.all_text_contents()\n\n# Pattern 2: do something with each element in the list.\ncount = rows.count()\nfor i in range(count):\n  print(rows.nth(i).text_content())\n\n# Pattern 3: resolve locator to elements on page and map them to their text content.\n# Note: the code inside evaluateAll runs in page, you can call any DOM apis there.\ntexts = rows.evaluate_all(\"list =&gt; list.map(element =&gt; element.textContent)\")\n</code></pre>"},{"location":"full-stack/framework/playwright/#frame","title":"Frame","text":"<pre><code>//iframe\n\n# Locate element inside frame\n# Get frame using any other selector\nusername = page.frame_locator('.frame-class').locator('#username-input')\nusername.fill('John')\n\n\n# Get frame using the frame's name attribute\nframe = page.frame('frame-login')\n\n# Get frame using frame's URL\nframe = page.frame(url=r'.*domain.*')\n\n# Interact with the frame\nframe.fill('#username-input', 'John')\n</code></pre>"},{"location":"full-stack/framework/playwright/#keyboard","title":"Keyboard","text":"<pre><code>await page.keyboard.type('Hello World!');\nawait page.keyboard.press('ArrowLeft');\n\nawait page.keyboard.down('Shift');\nfor (let i = 0; i &lt; ' World'.length; i++)\n  await page.keyboard.press('ArrowLeft');\nawait page.keyboard.up('Shift');\n\nawait page.keyboard.press('Backspace');\n\nawait page.keyboard.press('Shift+KeyA');\n// or\nawait page.keyboard.press('Shift+A');\n\n// on Windows and Linux\nawait page.keyboard.press('Control+A');\n// on macOS\nawait page.keyboard.press('Meta+A');\n</code></pre>"},{"location":"full-stack/framework/playwright/#table","title":"Table","text":"<pre><code># \u83b7\u53d6\u6574\u4e2aTable\u6570\u636e\nheaders = page.locator(\".mat-sort th\")\nrows = page.locator(\".mat-sort tr\")\ncols = page.locator(\".mat-sort td\")\n\ndatas = [[cols.nth(i).text_content() for i in range(j, cols.count(), 6)] for j in range(0, rows.count())]\n\n\n# \u9a8c\u8bc1\u5217\u6392\u5e8f\nfor i in range(headers.count()):\n    headers.nth(i).click()\n    sort = headers.nth(i).get_attribute(\"aria-sort\")\n\n    if sort == \"ascending\":\n        reverse = False\n    elif sort == \"descending\":\n        reverse = True\n\n    data = [\n        int(cols.nth(i).text_content()) if cols.nth(i).text_content().isdigit() else cols.nth(i).text_content()\n        for i in range(i, cols.count(), 6)\n    ]\n    assert data == sorted(data, reverse=reverse)\n\n\n# \u67e5\u627e\u591a\u6b21\npage.locator(\"#simpletable tr:has-text('Raj')\").locator(\"input\").check()\n\n# \u6309\u76f8\u5bf9\u4f4d\u7f6e\u67e5\u627e\npage.locator(\"#simpletable tr:right-of('Raj')\").check()\n\n\n# \u6293\u53d6\u6574\u4e2a\u8868\u683c\u5185\u5bb9\uff08\u5305\u62ec\u5206\u9875\u5185\u5bb9\uff09\npage.goto(\"/advancedtable\")\npage.wait_for_load_state()\n\nselect = page.locator(\"select\")\noptions = select.locator(\"option\").all_text_contents()\n\nfor option in options:\n    page.locator(\"select\").select_option(value=[option])\n    assert page.locator(\"#advancedtable tbody tr\").count() == int(option)\n\npage.locator(\"a[data-dt-idx='2']\").click()\n\ncount = page.locator(\"#advancedtable th\").count()\nrows = page.locator(\"#advancedtable tr\")\ncols = page.locator(\"#advancedtable td\")\ndatas = [[cols.nth(i).text_content() for i in range(j, cols.count(), count)] for j in range(0, rows.count())]\n\n# Note: page.locator(\".paginate_button.next\").is_enabled() is not worked here, looks so strange, so used class attribute instead\nwhile page.locator(\".paginate_button.next\").get_attribute(\"class\") != \"paginate_button next disabled\":\n    page.locator(\".paginate_button.next\").click()\n\n    rows = page.locator(\"#advancedtable tr\")\n    cols = page.locator(\"#advancedtable td\")\n    datas += [[cols.nth(i).text_content() for i in range(j, cols.count(), count)] for j in range(0, rows.count())]\n</code></pre>"},{"location":"full-stack/framework/playwright/#_10","title":"\u4e0a\u4f20&amp;\u4e0b\u8f7d","text":"<pre><code># Select one file\npage.locator('input#upload').set_input_files('myfile.pdf')\n\n# Select multiple files\npage.locator('input#upload').set_input_files(['file1.txt', 'file2.txt'])\n\n# Remove all the selected files\npage.locator('input#upload').set_input_files([])\n\n# Upload buffer from memory\npage.locator(\"input#upload\").set_input_files(\n    files=[\n        {\"name\": \"test.txt\", \"mimeType\": \"text/plain\", \"buffer\": b\"this is a test\"}\n    ],\n)\n\n\n# Start waiting for the download\nwith page.expect_download() as download_info:\n    # Perform the action that initiates download\n    page.locator(\"button#delayed-download\").click()\ndownload = download_info.value\n# Wait for the download process to complete\nprint(download.path())\n# Save downloaded file somewhere\ndownload.save_as(\"/path/to/save/download/at.txt\")\n\npage.on(\"download\", lambda download: print(download.path()))\n</code></pre>"},{"location":"full-stack/framework/playwright/#_11","title":"\u76f8\u5173\u62d3\u5c55","text":"<ul> <li>WSLg</li> <li>jQuery</li> <li>UI\u81ea\u52a8\u5316\u7ec3\u4e60\u573a</li> <li>Playwrights</li> <li>Playwright Python \u5b98\u65b9\u6587\u6863</li> <li>Key values for keyboard events</li> <li>playwright-pytest only supports the sync Playwright API at the moment</li> <li>Solution: Custom conftest.py for async API support</li> <li>Playwright with TypeScript, Jest &amp; Playwright test runner</li> <li>[2022]Playwright with Python and Pytest Full Course</li> </ul>"},{"location":"full-stack/framework/pytest/","title":"pytest","text":""},{"location":"full-stack/framework/pytest/#_1","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code>pytest Tips\uff1a\n\n1.\u5305\u542b\u6d4b\u8bd5\u7528\u4f8b\u7684\u6587\u4ef6\u540d\u4e2d\u5305\u542b test_ \u524d\u7f00\u6216\u540e\u7f00\n2.\u6d4b\u8bd5\u7528\u4f8b\u65b9\u6cd5\u540d\u5305\u542b test \u524d\u7f00\n3.\u5c06\u6240\u6709\u7528\u4f8b\u653e\u5230\u67d0\u4e2a\u7c7b\u4e2d\u7edf\u4e00\u7ba1\u7406\u65f6\uff0c\u8be5\u6d4b\u8bd5\u7c7b\u7684\u7c7b\u540d\u5fc5\u987b\u4e3a TestClass, \u5426\u5219 pytest \u65e0\u6cd5\u8bc6\u522b\u7c7b\u91cc\u9762\u7684\u6d4b\u8bd5\u7528\u4f8b (collected 0 items )\n4.\u6267\u884c\u5305\u542b\u6307\u5b9a\u6807\u8bb0\u7684\u65b9\u6cd5(\u81ea\u5b9a\u4e49\u6807\u8bb0\u5728 pytest.ini \u6587\u4ef6\u4e2d\u5b9a\u4e49)\n5.\u53ef\u4ee5\u624b\u52a8\u6307\u5b9a\u6587\u4ef6\u540d\u6216\u65b9\u6cd5\u540d\u6765\u6267\u884cpytest\u81ea\u52a8\u8bc6\u522b\u4e0d\u4e86\u7684\u6587\u4ef6\u6216\u65b9\u6cd5\n6.pytest \u4e2d\u7684v,k,m \u53c2\u6570\u53ef\u4ee5\u6df7\u5408\u4f7f\u7528\n\n\n\u3010\u5e2e\u52a9\u3011\npytest -h                                               # \u67e5\u770b\u5e2e\u52a9\u547d\u4ee4\n\n\n\n\u3010Discovery\u3011\npytest --collect-only                                   # \u53d1\u73b0\u6d4b\u8bd5\u7528\u4f8b\uff0c\u53ef\u8be5\u65b9\u5f0f\u67e5\u770b\u5bfc\u81f4 Test discovery failed \u7684\u76f8\u5173\u95ee\u9898\n\n\n\n\u3010\u6267\u884c\u3011\npytest                                                  # \u6267\u884c\u5f53\u524d\u76ee\u5f55\u53ca\u5176\u5b50\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u7528\u4f8b\npy.test                                                 # \u7b49\u6548\u4e8e pytest\npytest -v                                               # \u67e5\u770b\u6267\u884c\u7528\u4f8b\u7684\u8be6\u7ec6\u4fe1\u606f\npytest .\\test_calculator.py                             # \u6267\u884c\u6307\u5b9a\u7684\u6d4b\u8bd5\u6587\u4ef6\npytest .\\test_calculator.py::test_add                   # \u6267\u884c\u6307\u5b9a\u6587\u4ef6\u4e2d\u7684\u6307\u5b9a\u65b9\u6cd5\n\npytest -k \"add\"                                         # \u6267\u884c\u5305\u542badd\u5173\u952e\u5b57\u7684\u65b9\u6cd5\npytest -k \"add or subtract\"                             # \u6267\u884c\u5305\u542badd\u6216\u5305\u542bsubtract\u5173\u952e\u5b57\u7684\u65b9\u6cd5\npytest -k \"add and subtract\"                            # \u6267\u884c\u5305\u542badd\u4e14\u5305\u542bsubtract\u5173\u952e\u5b57\u7684\u65b9\u6cd5\n\npytest -m \"p0\"                                          # \u6267\u884c\u5305\u542bp0\u6807\u8bb0\u7684\u65b9\u6cd5\npytest -m \"not p0\"                                      # \u6267\u884c\u9664p0\u6807\u8bb0\u5916\u7684\u5176\u5b83\u7684\u65b9\u6cd5\npytest -m \"p0 or p1\"                                    # \u6267\u884c\u5305\u542bp0\u6216\u5305\u542bp1\u6807\u8bb0\u7684\u65b9\u6cd5\npytest -m \"p0 and bvt\"                                  # \u6267\u884c\u5305\u542bp0\u4e14\u5305\u542bbvt\u6807\u8bb0\u7684\u65b9\u6cd5\n\npytest -x                                               # \u4e00\u65e6\u7528\u4f8b\u51fa\u9519\u6216\u662f\u65ad\u8a00\u5931\u8d25\u7acb\u5373\u505c\u6b62\u6267\u884c\npytest --tb=no                                          # \u4e0d\u8f93\u51fa\u8be6\u7ec6\u8c03\u7528\u6808\u65e5\u5fd7\u4fe1\u606f\npytest --maxfail=2                                      # \u4e00\u65e6\u7528\u4f8b\u51fa\u9519\u6216\u662f\u65ad\u8a00\u5931\u8d25\u603b\u4e2a\u6570\u8fbe\u52302\u4e2a\u65f6\u7acb\u5373\u505c\u6b62\u6267\u884c\npytest -s                                               # \u8f93\u51fa\u7528\u4f8b\u4e2d\u7684print\u4fe1\u606f\npytest --capture=no                                     # \u8f93\u51fa\u7528\u4f8b\u4e2d\u7684print\u4fe1\u606f\npytest -q                                               # \u5b89\u9759\u6a21\u5f0f\n\n\n\u3010\u65e5\u5fd7\u3011\npytest test.py -o log_cli=true -o log_cli_level=INFO    # \u8986\u5199pytest.ini\u6587\u4ef6\u65e5\u5fd7\u914d\u7f6e\n\n\n\u3010\u63d2\u4ef6\u3011\npytest --count=2                                        # pytest-repeat =&gt; \u91cd\u590d\u8fd0\u884c2\u6b21\npytest --reruns 5 --reruns-delay 1                      # pytest-rerunfailures =&gt; Re-run 5\u6b21\uff0c\u6bcf\u6b21\u95f4\u96941\u79d2\npytest -n 10                                            # pytest-xdist =&gt; \u5e76\u884c\u6267\u884c\u6d4b\u8bd5\u7528\u4f8b\n\n\n\u3010\u8c03\u8bd5\u3011\npytest --trace tests\\demo\\test_assert.py                # \u4f7f\u7528\u5185\u7f6e\u7684 pdb \u8c03\u8bd5\u6d4b\u8bd5\u6a21\u5757 test_assert.py\npytest --trace tests\\demo\\test_assert.py::test_assert   # \u4f7f\u7528\u5185\u7f6e\u7684 pdb \u8c03\u8bd5\u6d4b\u8bd5\u6a21\u5757 test_assert.py \u4e2d\u7684 test_assert \u7528\u4f8b\n\npytest --setup-show                                     # \u67e5\u770b setup/teardown \u6267\u884c\u987a\u5e8f\npytest --markers                                        # \u67e5\u770b\u5df2\u6709\u7684 markers\n\n\n\n\u3010\u6d4b\u8bd5\u62a5\u544a\u3011\npytest -m \"unittest\" --alluredir=tests\\report\\allurereport   # \u4f7f\u7528allure-pytest\u63d2\u4ef6\u751f\u6210Allure\u6d4b\u8bd5\u62a5\u544a\nallure serve tests\\report\\allurereport                       # \u67e5\u770b Allure \u62a5\u544a\nallure serve -h 0.0.0.0 -p 8080 ./allure-result              # \u6307\u5b9ahost\u548c\u7aef\u53e3\n</code></pre>"},{"location":"full-stack/framework/pytest/#build-in-fixure","title":"Build-in Fixure","text":"<pre><code>@pytest.fixture(scope=\"session\", autouse=True)\ndef delete_output_dir(pytestconfig: Any) -&gt; None:\n    output_dir = pytestconfig.getoption(\"--output\")\n    if os.path.exists(output_dir):\n        try:\n            shutil.rmtree(output_dir)\n        except FileNotFoundError:\n            # When running in parallel, another thread may have already deleted the files\n            pass\n\n\ndef pytest_generate_tests(metafunc: Any) -&gt; None:\n    if \"browser_name\" in metafunc.fixturenames:\n        browsers = metafunc.config.option.browser or [\"chromium\"]\n        metafunc.parametrize(\"browser_name\", browsers, scope=\"session\")\n\n\ndef pytest_configure(config: Any) -&gt; None:\n    config.addinivalue_line(\n        \"markers\", \"skip_browser(name): mark test to be skipped a specific browser\"\n    )\n    config.addinivalue_line(\n        \"markers\", \"only_browser(name): mark test to run only on a specific browser\"\n    )\n\n\n# Making test result information available in fixtures\n# https://docs.pytest.org/en/latest/example/simple.html#making-test-result-information-available-in-fixtures\n@pytest.hookimpl(tryfirst=True, hookwrapper=True)\ndef pytest_runtest_makereport(item, call):\n\n    outcome = yield\n    rep = outcome.get_result()\n    setattr(item, \"rep_\" + rep.when, rep)\n\n\n@pytest.fixture(scope=\"function\", autouse=True)\ndef screenshot_on_failure(context: BrowserContext, request: FixtureRequest):\n\n    yield context\n\n    # If requst.node is missing rep_call, then some error happened during execution\n    # that prevented teardown, but should still be counted as a failure\n    failed = request.node.rep_call.failed if hasattr(request.node, \"rep_call\") else True\n\n    if failed:\n        for arg in request.node.funcargs.values():\n            if isinstance(arg, App):\n                allure.attach(body=arg.page.screenshot(), name=\"screenshot\", attachment_type=allure.attachment_type.PNG)\n\n\ndef _get_skiplist(item: Any, values: List[str], value_name: str) -&gt; List[str]:\n    skipped_values: List[str] = []\n    # Allowlist\n    only_marker = item.get_closest_marker(f\"only_{value_name}\")\n    if only_marker:\n        skipped_values = values\n        skipped_values.remove(only_marker.args[0])\n\n    # Denylist\n    skip_marker = item.get_closest_marker(f\"skip_{value_name}\")\n    if skip_marker:\n        skipped_values.append(skip_marker.args[0])\n\n    return skipped_values\n\n\ndef pytest_runtest_setup(item: Any) -&gt; None:\n    if not hasattr(item, \"callspec\"):\n        return\n    browser_name = item.callspec.params.get(\"browser_name\")\n    if not browser_name:\n        return\n\n    skip_browsers_names = _get_skiplist(\n        item, [\"chromium\", \"firefox\", \"webkit\"], \"browser\"\n    )\n\n    if browser_name in skip_browsers_names:\n        pytest.skip(\"skipped for this browser: {}\".format(browser_name))\n\n\ndef pytest_addoption(parser):\n    parser.addoption(\n        \"--cmdopt\", action=\"store\", default=\"type1\", help=\"my option: type1 or type2\"\n    )\n\n\n@pytest.fixture\ndef cmdopt(request):\n    return request.config.getoption(\"--cmdopt\")\n\n\ndef pytest_addoption(parser):\n    parser.addini(\"base_url\", help=\"base url of site under test\", default=\"https://letcode.in\")\n\n\ndef pytest_addoption(parser: Any) -&gt; None:\n    group = parser.getgroup(\"playwright\", \"Playwright\")\n    group.addoption(\n        \"--browser\",\n        action=\"append\",\n        default=[],\n        help=\"Browser engine which should be used\",\n        choices=[\"chromium\", \"firefox\", \"webkit\"],\n    )\n    group.addoption(\n        \"--headed\",\n        action=\"store_true\",\n        default=False,\n        help=\"Run tests in headed mode.\",\n    )\n    group.addoption(\n        \"--browser-channel\",\n        action=\"store\",\n        default=None,\n        help=\"Browser channel to be used.\",\n    )\n    group.addoption(\n        \"--slowmo\",\n        default=0,\n        type=int,\n        help=\"Run tests with slow mo\",\n    )\n    group.addoption(\n        \"--device\", default=None, action=\"store\", help=\"Device to be emulated.\"\n    )\n    group.addoption(\n        \"--output\",\n        default=\"test-results\",\n        help=\"Directory for artifacts produced by tests, defaults to test-results.\",\n    )\n    group.addoption(\n        \"--tracing\",\n        default=\"off\",\n        choices=[\"on\", \"off\", \"retain-on-failure\"],\n        help=\"Whether to record a trace for each test.\",\n    )\n\n\n@pytest.fixture(scope=\"session\")\ndef browser_channel(pytestconfig: Any) -&gt; Optional[str]:\n    return pytestconfig.getoption(\"--browser-channel\")\n</code></pre>"},{"location":"full-stack/framework/testng/","title":"testng","text":""},{"location":"full-stack/framework/vue/","title":"vue","text":""},{"location":"full-stack/monitor/grafana/","title":"grafana","text":""},{"location":"full-stack/monitor/sentry/","title":"sentry","text":""},{"location":"full-stack/stress/jmeter/","title":"jmeter","text":""},{"location":"full-stack/stress/loadrunner/","title":"loadrunner","text":""},{"location":"full-stack/stress/loadrunner/#testh","title":"test.h","text":"<pre><code>#include \"test.h\"\n\nAction()\n{\n\n    int HttpRetCode;\n\n    lr_start_transaction(\"test_api\");\n\n    web_custom_request(\"test_api\", \n        \"URL=https://www.baidu.com\",\n        \"Method=GET\",\n        LAST);\n\n\n        HttpRetCode = web_get_int_property(HTTP_INFO_RETURN_CODE);\n\n    if(HttpRetCode == 200){\n        lr_end_transaction(\"test_api\", LR_PASS);\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"full-stack/stress/locust/","title":"Locust","text":""},{"location":"full-stack/stress/locust/#_1","title":"\u5b89\u88c5","text":"<pre><code>pip3 install locust\n</code></pre>"},{"location":"full-stack/stress/locust/#_2","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code>locust -V\nlocust -h\n\nlocust -f locustfile.py -l                     # List all the user classes\nlocust -f locustfile.py --show-task-ratio      # Print the task execution ratio\nlocust -f locustfile.py --show-task-ratio-json # Print the task execution ratio with json format\n\nlocust -f locustfile.py\nlocust -f locustfile.py --host=https://reqres.in\nlocust -f locustfile.py -u 2 -r 2 -t 10s --headless\n\nlocust -f test/stress/locustfile.py --tags get\nlocust -f test/stress/locustfile.py --exclude-tags xml\n\nlocust -f test/stress/locustfile.py --config Configration/mycustom.conf\n\nlocust -f test/stress/locustfile.py --skip-log-setup\nlocust -f test/stress/locustfile.py --logfile locust.log\nlocust -f test/stress/locustfile.py --logfile locust.log --loglevel INFO\n\nlocust -f locustfile.py -u 1 -r 1 -t 10s --headless --print-stats --csv result.csv --csv-full-history --host=https://example.com\n\nlocust -f locustfile.py -u 1 -r 1 -t 10s --headless --print-stats --csv result.csv --csv-full-history --host=https://example.com -L CRITICAL --logfile mylog.log --html result\n\nlocust -f locustfile.py -u 1 -r 1 -t 10s --headless --html /mnt/locust/myrun.html --host=https://example.com\n\nlocust -f locustfile.py --master\nlocust -f locustfile.py --worker\n\nlocust -f locustfile.py --master --expect-worker 2\nlocust -f locustfile.py --worker\nlocust -f locustfile.py --worker\n\n\ndocker run -p 8089:8089 -v $PWD:/mnt/locust -d locustio/locust -f /mnt/locust/locustfile.py\ndocker run -p 8089:8089 -v $PWD:/mnt/locust -d locustio/locust -f /mnt/locust/locustfile.py --html /mnt/locust/myrun.html --headless --only-summary -r 1 -u 1 -t 10s\n</code></pre>"},{"location":"full-stack/stress/locust/#locust_1","title":"Locust \u7ec4\u4ef6","text":"<ul> <li> <p>User     <pre><code>from locust import User, task, constant\n\n\nclass LocustTest_01(User):\n    weight = 2\n    wait_time = constant(1)\n\n    @task\n    def launch_01(self):\n        print(\"Launching the URL launch_01\")\n\n    @task\n    def search_01(self):\n        print(\"Searching search_01\")\n\n\nclass LocustTest_02(User):\n    weight = 2\n    wait_time = constant(1)\n\n    @task\n    def launch_02(self):\n        print(\"Launching the URL launch_02\")\n\n    @task\n    def search_02(self):\n        print(\"Searching search_02\")\n</code></pre></p> <p>NOTE:</p> <ol> <li>RUN: locust -f test/stress/locustfile.py</li> <li>URL: http://0.0.0.0:8089</li> <li>ORDER: Random</li> </ol> </li> </ul> <p></p> <ul> <li> <p>HttpUser</p> <pre><code>from locust import HttpUser, task, constant\n\n\nclass LocustTest(HttpUser):\n\n    host = \"https://reqres.in\"\n    wait_time = constant(1)\n\n    @task\n    def get_users(self):\n        response = self.client.get(\"/api/users?page=2\")\n        # assert response.status_code == 200\n        print(response.text)\n        print(response.status_code)\n        print(response.headers)\n\n    @task\n    def create_user(self):\n        data = '{name: \"morpheus\", job: \"leader\"}'\n        response = self.client.post(\"/api/users\", data=data)\n        print(response.text)\n        print(response.status_code)\n        print(response.headers)\n</code></pre> </li> </ul> <p></p> <ul> <li> <p>TastSet</p> <ul> <li> <p>\u591a\u4e2a task     <pre><code>import random\nfrom locust import HttpUser, TaskSet, constant, task\n\n\nclass MyTaskSet(TaskSet):\n    @task\n    def get_status(self):\n        self.client.get(\"/200\")\n        print(\"Get status of 200\")\n\n    @task\n    def get_random_status(self):\n        status_code = random.choice([100, 200, 302, 401, 500])\n        self.client.get(f\"/{status_code}\")\n        print(f\"Get status of {status_code}\")\n\n\nclass LocustTest(HttpUser):\n    host = \"https://http.cat\"\n    wait_time = constant(1)\n    tasks = [MyTaskSet]\n</code></pre></p> </li> <li> <p>Nest TaskSet     <pre><code>from locust import HttpUser, TaskSet, constant, task\n\n\nclass MyTaskSet(TaskSet):\n    @task\n    def get_status(self):\n        self.client.get(\"/200\")\n        print(\"Get status of 200\")\n\n    @task\n    class MyNestTaskSet(TaskSet):\n        @task\n        def get_500_status(self):\n            self.client.get(\"/500\")\n            print(\"Get status of 500\")\n            self.interrupt(reschedule=False)\n\n\nclass LocustTest(HttpUser):\n    host = \"https://http.cat\"\n    wait_time = constant(1)\n    tasks = [MyTaskSet]\n</code></pre></p> </li> <li> <p>\u591a\u4e2a TaskSet     <pre><code>from locust import HttpUser, TaskSet, constant, task\n\n\nclass MyTaskSet(TaskSet):\n    @task\n    def get_status(self):\n        self.client.get(\"/200\")\n        print(\"Get status of 200\")\n        self.interrupt(reschedule=False)\n\n\nclass MyNestTaskSet(TaskSet):\n    @task\n    def get_500_status(self):\n        self.client.get(\"/500\")\n        print(\"Get status of 500\")\n        self.interrupt(reschedule=False)\n\n\nclass LocustTest(HttpUser):\n    host = \"https://http.cat\"\n    wait_time = constant(1)\n    tasks = [MyTaskSet, MyNestTaskSet]\n</code></pre> </p> </li> </ul> </li> <li> <p>SequentialTaskSet     <pre><code>from locust import SequentialTaskSet, HttpUser, constant, task\n\n\nclass MySequentialTaskSet(SequentialTaskSet):\n    @task\n    def get_200_status(self):\n        self.client.get(\"/200\")\n        print(\"Status of 200\")\n\n    @task\n    def get_500_status(self):\n        self.client.get(\"/500\")\n        print(\"Status of 500\")\n\n\nclass LocustTest(HttpUser):\n    host = \"https://http.cat\"\n    wait_time = constant(1)\n    tasks = [MySequentialTaskSet]\n</code></pre>     &gt; NOTE:     &gt;     &gt; Run tasks in order, one by one</p> </li> </ul> <p></p> <ul> <li>wait_time</li> <li>constant     <pre><code>from locust import User, task, constant\n\n\nclass LocustTest(User):\n\n    wait_time = constant(1)\n\n    @task\n    def launch(self):\n        print(f\"This will inject 1 second delay\")\n</code></pre></li> <li> <p>between     <pre><code>from locust import User, task, between\n\n\nclass LocustTest(User):\n\n    wait_time = between(2, 5)\n\n    @task\n    def launch(self):\n        print(f\"This will inject 2-5 seconds delay\")\n</code></pre></p> </li> <li> <p>constant_pacing     <pre><code>import time\nfrom locust import User, task, constant_pacing\n\n\nclass LocustTest(User):\n\n    wait_time = constant_pacing(3)\n\n    @task\n    def launch(self):\n        time.sleep(2)\n        print(f\"Constant Pacing Demo\")\n</code></pre></p> <p>NOTE:</p> <p>wait_time unit is seconds</p> </li> </ul> <p></p> <ul> <li> <p>on_start &amp; on_stop</p> <ul> <li> <p>User Level     <pre><code>from locust import User, task, constant\n\n\nclass LocustTest(User):\n\n    wait_time = constant(1)\n\n    def on_start(self):\n        print(\"starting\")\n\n    @task\n    def task_01(self):\n        print(\"My task01\")\n\n    def on_stop(self):\n        print(\"stopping\")\n</code></pre></p> </li> <li> <p>Task Level     <pre><code>from locust import SequentialTaskSet, HttpUser, constant, task\n\n\nclass MySequentialTaskSet(SequentialTaskSet):\n    def on_start(self):\n        print(\"start\")\n\n    @task\n    def get_200_status(self):\n        self.client.get(\"/200\")\n        print(\"Status of 200\")\n\n    @task\n    def get_500_status(self):\n        self.client.get(\"/500\")\n        print(\"Status of 500\")\n\n    def on_stop(self):\n        print(\"stop\")\n\n\nclass LocustTest(HttpUser):\n    host = \"https://http.cat\"\n    wait_time = constant(1)\n    tasks = [MySequentialTaskSet]\n</code></pre></p> <p>NOTE:</p> <ol> <li>User and TaskSet has on_start() and on_stop()</li> <li>Don't use @task decorator for these methods</li> <li>It executes only once</li> </ol> </li> </ul> </li> </ul> <p></p>"},{"location":"full-stack/stress/locust/#validation","title":"Validation","text":"<pre><code>from locust import HttpUser, task, constant, SequentialTaskSet\n\n\nclass MyTask(SequentialTaskSet):\n    @task\n    def get_xml(self):\n        result = self.client.get(\"/xml\", name=\"XML\")\n        print(result)\n\n    @task\n    def get_json(self):\n        expect = \"Wake up to WonderWidgets!\"\n\n        with self.client.get(\"/json\", catch_response=True, name=\"JSON\") as response:\n            result = True if expect in response.text else False\n            print(self.get_json.__name__, result)\n            response.success()\n\n    @task\n    def get_robots(self):\n        expect = \"*\"\n        result = \"Fail\"\n\n        with self.client.get(\"/robots.txt\", catch_response=True, name=\"Robots\") as response:\n            if expect in response.text:\n                result = \"Success\"\n                response.failure(\"Not a failure\")\n\n        print(self.get_robots.__name__, result)\n\n    @task\n    def get_failure(self):\n        expect = 404\n\n        with self.client.get(\"/status/404\", catch_response=True, name=\"HTTP 404\") as response:\n            if response.status_code == expect:\n                response.failure(\"Got 404\")\n            else:\n                response.success()\n\n\nclass LocustTest(HttpUser):\n    host = \"https://httpbin.org\"\n    wait_time = constant(1)\n    tasks = [MyTask]\n</code></pre>"},{"location":"full-stack/stress/locust/#data-parameterization","title":"Data Parameterization","text":"<pre><code>import random\nfrom locust import HttpUser, task, constant, SequentialTaskSet\n\n\nclass MyTask(SequentialTaskSet):\n    @task\n    def place_order(self):\n        test_data = [\n            {\n                \"custname\": \"test01\",\n                \"custtel\": \"12388888888\",\n                \"custemail\": \"test@test.com\",\n                \"size\": \"Small\",\n                \"topping\": \"bacon\",\n                \"delivery\": \"20:15\",\n                \"comments\": \"test\",\n            },\n            {\n                \"custname\": \"test02\",\n                \"custtel\": \"12388888888\",\n                \"custemail\": \"test@test.com\",\n                \"size\": \"Small\",\n                \"topping\": \"bacon\",\n                \"delivery\": \"20:15\",\n                \"comments\": \"test\",\n            },\n        ]\n\n        data = random.choice(test_data)\n\n        payload = \"\"\"\n        {{\n            \"custname\": {custname},\n            \"custtel\": {custtel},\n            \"custemail\": {custemail},\n            \"size\": {size},\n            \"topping\": {topping},\n            \"delivery\": {delivery},\n            \"comments\": {comments}\n        }}\n        \"\"\".format(\n            **data\n        )\n\n        name = f\"Order for {data['custname']}\"\n\n        with self.client.post(\"/post\", catch_response=True, name=name, data=payload) as response:\n            if response.status_code == 200 and data[\"custname\"] in response.text:\n                response.success()\n            else:\n                response.failure(\"Failure in processing the order\")\n\n\nclass LocustTest(HttpUser):\n    host = \"https://httpbin.org\"\n    wait_time = constant(1)\n    tasks = [MyTask]\n</code></pre>"},{"location":"full-stack/stress/locust/#tag","title":"Tag","text":"<pre><code>from locust import HttpUser, task, constant, SequentialTaskSet, tag\n\n\nclass MyTask(SequentialTaskSet):\n    @task\n    @tag(\"get\", \"xml\")\n    def get_xml(self):\n        result = self.client.get(\"/xml\", name=\"XML\")\n        print(result)\n\n    @task\n    @tag(\"get\", \"json\")\n    def get_json(self):\n        expect = \"Wake up to WonderWidgets!\"\n\n        with self.client.get(\"/json\", catch_response=True, name=\"JSON\") as response:\n            result = True if expect in response.text else False\n            print(self.get_json.__name__, result)\n            response.success()\n\n\nclass LocustTest(HttpUser):\n    host = \"https://httpbin.org\"\n    wait_time = constant(1)\n    tasks = [MyTask]\n\n\n# locust -f test/stress/locustfile.py --tags get\n# locust -f test/stress/locustfile.py --exclude-tags xml\n</code></pre>"},{"location":"full-stack/stress/locust/#correlation","title":"Correlation","text":"<pre><code>import re\nimport random\nfrom locust import HttpUser, SequentialTaskSet, task, constant\n\n\nclass MyTask(SequentialTaskSet):\n    def __init__(self, parent):\n        super().__init__(parent)\n        self.jsession = \"\"\n        self.random_product = \"\"\n\n    @task\n    def home_page(self):\n        with self.client.get(\"\", catch_response=True, name=\"T00_HomePage\") as response:\n            if \"Welcome to JPetStore 6\" in response.text and response.elapsed.total_seconds() &lt; 2.0:\n                response.success()\n            else:\n                response.failure(\"Home page took too long to load and/or text check has failed.\")\n\n    @task\n    def enter_store(self):\n        products = [\"Fish\", \"Dogs\", \"Cats\", \"Reptiles\", \"Birds\"]\n\n        with self.client.get(\"/actions/Catalog.action\", catch_response=True, name=\"T10_EnterStore\") as response:\n            for product in products:\n                if product in response.text:\n                    response.success()\n                else:\n                    response.failure(\"Products check failed.\")\n                    break\n            try:\n                jsession = re.search(r\"jsessionid=(.+?)\\?\", response.text)\n                self.jsession = jsession.group(1)\n            except AttributeError:\n                self.jsession = \"\"\n\n    @task\n    def signin_page(self):\n        self.client.cookies.clear()\n        url = \"/actions/Account.action;jsessionid=\" + self.jsession + \"?signonForm=\"\n\n        with self.client.get(url, catch_response=True, name=\"T20_SignInPage\") as response:\n            if \"Please enter your username and password.\" in response.text:\n                response.success()\n            else:\n                response.failure(\"Sign in page check failed\")\n\n    @task\n    def login(self):\n        self.client.cookies.clear()\n        url = \"/actions/Account.action\"\n        data = {\"username\": \"j2ee\", \"password\": \"j2ee\", \"signon\": \"Login\"}\n\n        with self.client.post(url, name=\"T30_SignIn\", data=data, catch_response=True) as response:\n            if \"Welcome ABC!\" in response.text:\n                response.success()\n                try:\n                    random_product = re.findall(r\"Catalog.action\\?viewCategory=&amp;categoryId=(.+?)\\\"\", response.text)\n                    self.random_product = random.choice(random_product)\n                except AttributeError:\n                    self.random_product = \"\"\n            else:\n                response.failure(\"Sign in Failed\")\n\n    @task\n    def random_product_page(self):\n        url = \"/actions/Catalog.action?viewCategory=&amp;categoryId=\" + self.random_product\n        name = \"T40_\" + self.random_product + \"_Page\"\n\n        with self.client.get(url, name=name, catch_response=True) as response:\n            if self.random_product in response.text:\n                response.success()\n            else:\n                response.failure(\"Product page not loaded\")\n\n    @task\n    def sign_out(self):\n        with self.client.get(\"/actions/Account.action?signoff=\", name=\"T50_SignOff\", catch_response=True) as response:\n            if response.status_code == 200:\n                response.success()\n            else:\n                response.failure(\"Log off failed\")\n        self.client.cookies.clear()\n\n\nclass LocustTest(HttpUser):\n    host = \"https://petstore.octoperf.com\"\n    wait_time = constant(1)\n    tasks = [MyTask]\n</code></pre>"},{"location":"full-stack/stress/locust/#logging","title":"Logging","text":"<pre><code>import logging\nfrom locust import HttpUser, SequentialTaskSet, task, constant\n\n\nclass MyTask(SequentialTaskSet):\n    @task\n    def home_page(self):\n        with self.client.get(\"\", catch_response=True, name=\"T00_HomePage\") as response:\n            if \"Welcome to JPetStore 6\" in response.text and response.elapsed.total_seconds() &lt; 2.0:\n                response.success()\n                logging.info(\"Home page load success\")\n            else:\n                response.failure(\"Home page took too long to load and/or text check has failed.\")\n                logging.error(\"Home page didn't load success\")\n\n\nclass LocustTest(HttpUser):\n    host = \"https://petstore.octoperf.com\"\n    wait_time = constant(1)\n    tasks = [MyTask]\n\n\n# locust -f test/stress/locustfile.py --skip-log-setup\n# locust -f test/stress/locustfile.py --logfile locust.log\n# locust -f test/stress/locustfile.py --logfile locust.log --loglevel INFO\n</code></pre> <p>Log Level:</p> <p>DEBUG, INFO, WARNING, ERROR, CRITICAL</p> <p></p>"},{"location":"full-stack/stress/locust/#configration","title":"Configration","text":"<ul> <li> <p>locust.config</p> <pre><code>[runtime settings]\nhost = http://example.com\nusers = 2\nspawn-rate = 1\nrun-time = 5s\nheadless = true\nonly-summary = true\n</code></pre> </li> <li> <p>locust.yaml</p> <pre><code>host: http://example.com\nusers: 2\nspawn-rate: 1\nrun-time: 5s\nheadless: true\nonly-summary: true\n</code></pre> </li> <li> <p>custom config     <pre><code>locust -f test/stress/locustfile.py --config Configration/mycustom.conf\n</code></pre></p> </li> <li> <p>env variable     <pre><code>export LOCUST_HOST=https://example.com\nexport LOCUST-USERS=2\nexport LOCUST_SPAWN_RATE=1\nexport LOCUST_HEADLESS=true\nexport LOCUST_TAGS=get\nexport LOCUST_MODE_MASTER=true\nexport LOCUST_MODE_WORKER=false\n</code></pre></p> </li> <li> <p>cmd parameter     <pre><code>locust -f test/stress/locustfile.py --host https://example.com -u 2 -r 1\n</code></pre></p> </li> </ul> <p>NOTE:</p> <p>Config Search Order: ~/locust.config &gt; ./locust.conf &gt; --config &gt; env vars &gt; cmd arguments</p> <p></p>"},{"location":"full-stack/stress/locust/#events-and-eventhook","title":"Events and EventHook","text":"<ul> <li>Events</li> <li>test_start</li> <li>test_stop</li> <li>on_locust_init</li> <li>request_failure</li> <li>request_success</li> <li>reset_stats</li> <li>rest_error</li> <li>report_to_master</li> <li> <p>...</p> <pre><code>from locust import HttpUser, task, constant, SequentialTaskSet, events\n\n\n@events.spawning_complete.add_listener\ndef spawn_users(user_count, **kwargs):\n    print(f\"Spawned... {user_count} users.\")\n\n\n@events.request_success.add_listener\ndef send_notification(**kwargs):\n    print(\"Sending the success notification\")\n\n\n@events.request_failure.add_listener\ndef send_notification(**kwargs):\n    print(\"Sending the failed notification\")\n\n\n@events.quitting.add_listener\ndef sla(environment, **kwargs):\n    if environment.stats.total.fail_ratio &gt; 0.01:\n        print(\"Test failed due to failure ratio &gt; 0.01%\")\n        environment.process_exit_code = 1\n        print(environment.process_exit_code)\n\n    else:\n        environment.process_exit_code = 0\n        print(environment.process_exit_code)\n\n\nclass MyTask(SequentialTaskSet):\n    @task\n    def home_page(self):\n        self.client.get(\"/\", name=\"T00_SuccessRequests\")\n        self.client.get(\"/failed\", name=\"T01_FailRequests\")\n\n\nclass LocustTest(HttpUser):\n    host = \"https://onlineboutique.dev\"\n    wait_time = constant(1)\n    tasks = [MyTask]\n</code></pre> </li> <li> <p>Eventhook     <pre><code>from locust.event import EventHook\nfrom locust import HttpUser, task, constant\n\nsend_email_notifcation = EventHook()\nsend_text_notification = EventHook()\n\n\ndef send_email(i, j, req_id, message=None, **kwargs):\n    print(f\"Sending {message} in Email for the request {req_id}\")\n\n\ndef send_sms(i, j, req_id, message=None, **kwargs):\n    print(f\"Sending {message} in SMS for the request {req_id}\")\n\n\nsend_email_notifcation.add_listener(send_email)\nsend_text_notification.add_listener(send_sms)\n\n\nclass LocustTest(HttpUser):\n    wait_time = constant(1)\n    host = \"https://onlineboutique.dev\"\n\n    @task\n    def home_page(self):\n        with self.client.get(\"/\", catch_response=True, name=\"T00_HomePage\") as response:\n            if response.status_code == 200:\n                send_email_notifcation.fire(i=1, j=2, req_id=1, message=\"success\")\n                send_text_notification.fire(i=1, j=2, req_id=2, message=\"success\")\n            else:\n                send_email_notifcation.fire(i=1, j=2, req_id=1, message=\"failed\")\n                send_text_notification.fire(i=1, j=2, req_id=2, message=\"failed\")\n\n        with self.client.get(\"/test\", catch_response=True, name=\"T01_FailHomePage\") as response:\n            if response.status_code == 200:\n                send_email_notifcation.fire(i=1, j=2, req_id=3, message=\"success\")\n                send_text_notification.fire(i=1, j=2, req_id=4, message=\"success\")\n            else:\n                send_email_notifcation.fire(i=1, j=2, req_id=3, message=\"failed\")\n                send_text_notification.fire(i=1, j=2, req_id=4, message=\"failed\")\n</code></pre></p> </li> </ul> <p></p>"},{"location":"full-stack/stress/locust/#distributed-load-testing","title":"Distributed Load Testing","text":"<pre><code>Master Run:\nlocust --config DistributedLoadTesting/master.conf\n\n\nWorker Run:\nlocust --config DistributedLoadTesting/worker.conf\n</code></pre> <ul> <li> <p>master.conf     <pre><code>[master conf]\nmaster = true\nexpect-workers = 2\n\n[runtime settings]\nhost = https://petstore.octoperf.com\nusers = 3\nspawn-rate = 1\nlocustfile = DistributedLoadTesting/petstore.py\nrun-time = 60s\nheadless = true\nonly-summary = true\n</code></pre></p> </li> <li> <p>worker.conf     <pre><code>[worker conf]\nworker = true\nlocustfile = DistributedLoadTesting/petstore.py\nmaster-host = xxx.xxx.xxx.xxx\n</code></pre></p> </li> </ul> <p>NOTE:</p> <ol> <li>Locust scripts must be present in all the master and worker machines</li> <li>number_of_users &gt; number_of_user_classes * number_of_workers</li> <li>if set expect-workers in master conf, you should let works ready first or start a new test if script not run automatically</li> </ol> <p></p>"},{"location":"full-stack/stress/locust/#locust-in-docker","title":"Locust in Docker","text":"<ul> <li> <p>Docker     <pre><code>docker run -p 8089:8089 -v $PWD:/mnt/locust -d locustio/locust -f /mnt/locust/locustfile.py\n\ndocker run -v $PWD:/mnt/locust locustio/locust -f /mnt/locust/locustfile.py --html /mnt/locust/myrun.html --headless --only-summary -r 1 -u 1 -t 10s\n</code></pre>     &gt; WebUI: http://localhost:8089</p> </li> <li> <p>Docker Compose     <pre><code>version: \"3.8\"\n\nservices:\n    master:\n        image: locustio/locust\n        ports:\n            - 8089:8089\n        volumes:\n            - ./:/mnt/locust\n        command: -f /mnt/locust/locustfile.py --master --expect-workers 2\n        # command: -f /mnt/locust/locustfile.py --master --expect-workers 2 --headless --only-summary -u 2 -r 1 -t 30s --html /mnt/locust/myrun.html\n\n    worker_01:\n        image: locustio/locust\n        volumes:\n            - ./:/mnt/locust\n        command: -f /mnt/locust/locustfile.py --worker --master-host master\n\n    worker_02:\n        image: locustio/locust\n        volumes:\n            - ./:/mnt/locust\n        command: -f /mnt/locust/locustfile.py --worker --master-host master\n</code></pre></p> </li> </ul> <p> </p>"},{"location":"full-stack/stress/locust/#_3","title":"\u62d3\u5c55\u9605\u8bfb","text":"<ul> <li>Locust Documentation</li> <li>Locust</li> <li>Learn Locust Series</li> </ul>"},{"location":"full-stack/stress/wrk/","title":"wrk","text":""},{"location":"full-stack/stress/wrk/#_1","title":"\u5b89\u88c5","text":"<pre><code>git clone https://github.com/wg/wrk.git\napt-get -y install gcc\ncd wrk\nmake\ncp wrk /usr/local/bin\n</code></pre>"},{"location":"full-stack/stress/wrk/#wrk_1","title":"wrk \u547d\u4ee4","text":"<pre><code>wrk -c4 -t4 -d5s --latency \"https://www.baidu.com/s?wd=test\"\nwrk -c4 -t4 -d5s -R 1000 --latency \"https://www.baidu.com/s?wd=test\"\n</code></pre> <p>NOTE:</p> <p>wrk2 \u4e2d -R \u4e3a\u5fc5\u586b\u9879</p> <p></p>"},{"location":"full-stack/stress/wrk/#_2","title":"\u76f8\u5173\u62d3\u5c55","text":"<ul> <li>wrk \u5907\u7528\u4e0b\u8f7d</li> <li>wrk \u4f7f\u7528\u53c2\u8003</li> </ul>"},{"location":"full-stack/tool/adb/","title":"adb","text":""},{"location":"full-stack/tool/fiddler/","title":"Fiddler","text":""},{"location":"full-stack/tool/figma/","title":"figma","text":""},{"location":"full-stack/tool/markdown/","title":"markdown","text":""},{"location":"full-stack/tool/markdown/#_1","title":"\u6807\u9898","text":""},{"location":"full-stack/tool/markdown/#heading-level-1","title":"Heading level 1","text":""},{"location":"full-stack/tool/markdown/#heading-level-2","title":"Heading level 2","text":""},{"location":"full-stack/tool/markdown/#heading-level-3","title":"Heading level 3","text":""},{"location":"full-stack/tool/markdown/#heading-level-4","title":"Heading level 4","text":""},{"location":"full-stack/tool/markdown/#heading-level-5","title":"Heading level 5","text":""},{"location":"full-stack/tool/markdown/#heading-level-6","title":"Heading level 6","text":""},{"location":"full-stack/tool/markdown/#_2","title":"\u6bb5\u843d","text":"<p>\u6bb5\u843d\u4e00</p> <p>\u6bb5\u843d\u4e8c</p> <p></p>"},{"location":"full-stack/tool/markdown/#_3","title":"\u6362\u884c","text":"<p>\u8fd9\u662f\u7b2c\u4e00\u884c \u8fd9\u662f\u7b2c\u4e8c\u884c</p> <p></p>"},{"location":"full-stack/tool/markdown/#_4","title":"\u7740\u91cd","text":"<p>\u524d\u540e\u5404\u4e24\u4e2a\u661f\u53f7\u8868\u793a\u7c97\u4f53</p> <p>\u524d\u540e\u5404\u4e00\u4e2a\u661f\u53f7\u8868\u793a\u659c\u4f53</p> <p>\u524d\u540e\u5404\u4e09\u4e2a\u661f\u53f7\u8868\u793a\u659c\u4f53\u548c\u52a0\u7c97</p> <p></p>"},{"location":"full-stack/tool/markdown/#_5","title":"\u5220\u9664\u7ebf","text":"<p>~~\u524d\u540e\u5404\u4e24\u4e2a\u6ce2\u6d6a\u7ebf\u8868\u793a\u5220\u9664\u7ebf~~</p> <p></p>"},{"location":"full-stack/tool/markdown/#_6","title":"\u4efb\u52a1\u6e05\u5355","text":"<ul> <li> \u8dd1\u6b65</li> <li> \u770b\u7535\u89c6</li> <li> \u9605\u8bfb</li> </ul>"},{"location":"full-stack/tool/markdown/#_7","title":"\u5757\u5f15\u7528","text":""},{"location":"full-stack/tool/markdown/#_8","title":"\u5355\u4e2a\u6bb5\u843d\u5757","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u5355\u4e2a\u6bb5\u843d\u7684\u5757\u5f15\u7528</p> <p></p>"},{"location":"full-stack/tool/markdown/#_9","title":"\u591a\u4e2a\u6bb5\u843d\u5757","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u5177\u6709\u591a\u4e2a\u6bb5\u843d\u7684\u5757\u5f15\u7528</p> <p>\u5728\u6bb5\u843d\u4e4b\u95f4\u7684\u7a7a\u767d\u884c\u4e0a\u6dfb\u52a0\u4e00\u4e2a &gt; \u5373\u53ef</p> <p></p>"},{"location":"full-stack/tool/markdown/#_10","title":"\u5d4c\u5957\u6bb5\u843d\u5757","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u5d4c\u5957\u7684\u5757\u5f15\u7528 - \u7236</p> <p>\u8fd9\u662f\u4e00\u4e2a\u5d4c\u5957\u7684\u5757\u5f15\u7528 - \u5b50</p> <p></p>"},{"location":"full-stack/tool/markdown/#_11","title":"\u6df7\u5408\u591a\u79cd\u6837\u5f0f\u7684\u4ee3\u7801\u5757","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u591a\u79cd\u6837\u5f0f\u7684\u5757\u5f15\u7528</p> <p></p>"},{"location":"full-stack/tool/markdown/#head4","title":"Head4","text":"<p>\u5e74\u9f84</p> <p>\u59d3\u540d</p>"},{"location":"full-stack/tool/markdown/#_12","title":"\u5217\u8868","text":""},{"location":"full-stack/tool/markdown/#_13","title":"\u6709\u5e8f\u5217\u8868","text":"<ol> <li>\u6709\u5e8f\u5217\u8868</li> <li>\u6709\u5e8f\u5217\u8868</li> <li>\u6709\u5e8f\u5217\u8868</li> <li>\u6709\u5e8f\u5217\u8868</li> </ol>"},{"location":"full-stack/tool/markdown/#_14","title":"\u5e26\u6709\u7f29\u8fdb\u7684\u6709\u5e8f\u5217\u8868","text":"<ol> <li>\u5e26\u6709\u7f29\u8fdb\u7684\u6709\u5e8f\u5217\u8868</li> <li>\u7f29\u8fdb1</li> <li>\u7f29\u8fdb2</li> <li>\u5e26\u6709\u7f29\u8fdb\u7684\u6709\u5e8f\u5217\u8868</li> </ol>"},{"location":"full-stack/tool/markdown/#_15","title":"\u65e0\u5e8f\u5217\u8868","text":"<ul> <li>\u65e0\u5e8f\u5217\u8868</li> <li>\u65e0\u5e8f\u5217\u8868</li> <li>\u65e0\u5e8f\u5217\u8868</li> <li>\u65e0\u5e8f\u5217\u8868</li> </ul>"},{"location":"full-stack/tool/markdown/#_16","title":"\u6df7\u5408\u591a\u79cd\u6837\u5f0f\u7684\u5217\u8868","text":"<ul> <li>\u8fd9\u662f\u7b2c\u4e00\u4e2a\u5217\u8868\u9879</li> <li> <p>\u8fd9\u662f\u7b2c\u4e8c\u4e2a\u5217\u8868\u9879</p> <p>\u8981\u5728\u4fdd\u7559\u5217\u8868\u8fde\u7eed\u6027\u7684\u540c\u65f6\u5728\u5217\u8868\u4e2d\u6dfb\u52a0\u53e6\u4e00\u4e2a\u5143\u7d20\uff0c\u8bf7\u5c06\u8be5\u5143\u7d20\u7f29\u8fdb\u56db\u4e2a\u7a7a\u683c\u6216\u4e00\u4e2a\u5236\u8868\u7b26</p> </li> <li> <p>\u8fd9\u662f\u7b2c\u4e09\u4e2a\u5217\u8868\u9879     &gt; \u5728\u7b2c\u4e09\u4e2a\u5217\u8868\u9879\u7684\u4e0b\u65b9\u52a0\u4e00\u4e2a\u5757\u5f15\u7528</p> </li> </ul> <p></p>"},{"location":"full-stack/tool/markdown/#_17","title":"\u4ee3\u7801\u5757","text":""},{"location":"full-stack/tool/markdown/#html","title":"html","text":"<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n  &lt;/head&gt;\n</code></pre>"},{"location":"full-stack/tool/markdown/#javascript","title":"javascript","text":"<pre><code>function foo(params){\n    console.log(\"hello\");\n}\n</code></pre>"},{"location":"full-stack/tool/markdown/#json","title":"json","text":"<pre><code>{\n  \"firstName\": \"John\",\n  \"lastName\": \"Smith\",\n  \"age\": 25\n}\n</code></pre>"},{"location":"full-stack/tool/markdown/#python","title":"python","text":"<pre><code>import arrow\nfrom .. import const\nfrom datetime import timedelta\n\n\ndef get_unixtime(length: int = 10) -&gt; int:\n\n    if length == 10:\n        return int(arrow.now(tz=const.TZINFO).timestamp())\n\n    elif length == 13:\n        return int(arrow.now(tz=const.TZINFO).timestamp() * 1000)\n</code></pre>"},{"location":"full-stack/tool/markdown/#java","title":"java","text":"<pre><code>public class HelloWorld {\n\n    public static void main(String[]args){\n       System.out.printIn(\"Hello World!\");\n    }\n}\n</code></pre>"},{"location":"full-stack/tool/markdown/#shell","title":"shell","text":"<pre><code>echo \"hello world\" &gt; hello.txt\n</code></pre>"},{"location":"full-stack/tool/markdown/#sql","title":"sql","text":"<pre><code>select * from user;\n</code></pre>"},{"location":"full-stack/tool/markdown/#text","title":"text","text":"<pre><code>hello world\n</code></pre>"},{"location":"full-stack/tool/markdown/#css","title":"css","text":"<pre><code>textarea {\n    font-family:inherit;\n    font-size:inherit;\n    font-weight:inherit;\n    vertical-align: baseline;\n    *vertical-align: middle;\n}\n</code></pre>"},{"location":"full-stack/tool/markdown/#xml","title":"xml","text":"<pre><code>&lt;div class=\"user-icon-content no-login\"&gt;\n    &lt;div class=\"user-icon\"&gt;&lt;/div&gt;\n    &lt;div class=\"user-text\"&gt;\u767b\u5f55&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"full-stack/tool/markdown/#_18","title":"\u5355\u884c\u4ee3\u7801\u5757","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u5728\u5355\u884c\u4e2d\u63d2\u5165\u4ee3\u7801\u5757\u7684\u573a\u666f\uff0c\u5982\u4f7f\u7528\u547d\u4ee4<code>pip install WeTest</code> \u5b89\u88c5\u5e93\u3002</p> <p></p>"},{"location":"full-stack/tool/markdown/#_19","title":"\u6c34\u5e73\u5206\u5272\u7ebf","text":""},{"location":"full-stack/tool/markdown/#_20","title":"\u94fe\u63a5","text":""},{"location":"full-stack/tool/markdown/#url","title":"URL\u6216\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u5feb\u901f\u8f6c\u6362\u4e3a\u94fe\u63a5","text":"<p>https://markdown.p2hp.com</p> <p>fake@example.com</p> <p></p>"},{"location":"full-stack/tool/markdown/#_21","title":"\u52a0\u7c97\u94fe\u63a5","text":"<p>\u52a0\u7c97\u94fe\u63a5 EFF.</p> <p>\u659c\u4f53\u94fe\u63a5 Markdown Guide.</p> <p></p>"},{"location":"full-stack/tool/markdown/#_22","title":"\u81ea\u52a8\u7f51\u5740\u94fe\u63a5","text":"<p>https://baiyyee.github.io/</p>"},{"location":"full-stack/tool/markdown/#url_1","title":"\u7981\u7528\u81ea\u52a8URL\u94fe\u63a5","text":"<p><code>https://baiyyee.github.io/</code></p> <p></p>"},{"location":"full-stack/tool/markdown/#_23","title":"\u8f6c\u4e49\u5b57\u7b26","text":"<p>* \u5982\u679c\u6ca1\u6709\u53cd\u659c\u6760\uff0c\u8fd9\u5c06\u662f\u65e0\u5e8f\u5217\u8868\u4e2d\u7684\u9879\u76ee\u7b26\u53f7</p> <p></p>"},{"location":"full-stack/tool/markdown/#_24","title":"\u8868\u683c","text":"<p>\u8981\u6dfb\u52a0\u8868\uff0c\u8bf7\u4f7f\u7528\u4e09\u4e2a\u6216\u591a\u4e2a\u8fde\u5b57\u7b26\uff08---\uff09\u521b\u5efa\u6bcf\u5217\u7684\u6807\u9898\uff0c\u5e76\u4f7f\u7528\u7ba1\u9053\uff08|\uff09\u5206\u9694\u6bcf\u5217\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u5728\u8868\u7684\u4efb\u4e00\u7aef\u6dfb\u52a0\u7ba1\u9053\u3002</p> ID \u59d3\u540d \u5e74\u9f84 1 HHB 18 <p></p>"},{"location":"full-stack/tool/markdown/#_25","title":"\u5bf9\u9f50","text":"ID \u59d3\u540d \u8eab\u4efd\u8bc1 1 HHB 18000000000000000000 99999999 Huabo He 1000000000000000000000000000000000000000000 \u5de6\u5bf9\u9f50 \u5c45\u4e2d\u5bf9\u9f50 \u53f3\u5bf9\u9f50"},{"location":"full-stack/tool/markdown/#_26","title":"\u811a\u6ce8","text":"<p>Docker \u4e00\u822c\u662f\u90e8\u7f72\u5230Linux[^linux]\u670d\u52a1\u5668\u4e0a\u3002</p> <p>[^linux]: Linux\uff0c\u5168\u79f0GNU/Linux\uff0c\u662f\u4e00\u79cd\u514d\u8d39\u4f7f\u7528\u548c\u81ea\u7531\u4f20\u64ad\u7684\u7c7bUNIX\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5176\u5185\u6838\u7531\u6797\u7eb3\u65af\u00b7\u672c\u7eb3\u7b2c\u514b\u7279\u00b7\u6258\u74e6\u5179\u4e8e1991\u5e7410\u67085\u65e5\u9996\u6b21\u53d1\u5e03\uff0c\u5b83\u4e3b\u8981\u53d7\u5230Minix\u548cUnix\u601d\u60f3\u7684\u542f\u53d1\uff0c\u662f\u4e00\u4e2a\u57fa\u4e8ePOSIX\u7684\u591a\u7528\u6237\u3001\u591a\u4efb\u52a1\u3001\u652f\u6301\u591a\u7ebf\u7a0b\u548c\u591aCPU\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u5b83\u80fd\u8fd0\u884c\u4e3b\u8981\u7684Unix\u5de5\u5177\u8f6f\u4ef6\u3001\u5e94\u7528\u7a0b\u5e8f\u548c\u7f51\u7edc\u534f\u8bae\u3002\u5b83\u652f\u630132\u4f4d\u548c64\u4f4d\u786c\u4ef6\u3002Linux\u7ee7\u627f\u4e86Unix\u4ee5\u7f51\u7edc\u4e3a\u6838\u5fc3\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u662f\u4e00\u4e2a\u6027\u80fd\u7a33\u5b9a\u7684\u591a\u7528\u6237\u7f51\u7edc\u64cd\u4f5c\u7cfb\u7edf\u3002Linux\u6709\u4e0a\u767e\u79cd\u4e0d\u540c\u7684\u53d1\u884c\u7248\uff0c\u5982\u57fa\u4e8e\u793e\u533a\u5f00\u53d1\u7684debian\u3001archlinux\uff0c\u548c\u57fa\u4e8e\u5546\u4e1a\u5f00\u53d1\u7684Red Hat Enterprise Linux\u3001SUSE\u3001Oracle Linux\u7b49\u3002</p> <p></p>"},{"location":"full-stack/tool/markdown/#_27","title":"\u56fe\u7247","text":""},{"location":"full-stack/tool/markdown/#_28","title":"\u56fe\u7247","text":""},{"location":"full-stack/tool/markdown/#hover-on","title":"\u56fe\u7247 (\u5305\u542bhover on\u6587\u6848)","text":""},{"location":"full-stack/tool/markdown/#_29","title":"\u94fe\u63a5\u56fe\u50cf (\u70b9\u51fb\u8df3\u8f6c)","text":""},{"location":"full-stack/tool/markdown/#reference","title":"Reference:","text":"<ul> <li>Markdown \u57fa\u672c\u8bed\u6cd5</li> <li>Markdown \u6269\u5c55\u8bed\u6cd5</li> <li>Markdown \u8bed\u6cd5\u9ad8\u4eae</li> </ul>"},{"location":"full-stack/tool/maven/","title":"maven","text":""},{"location":"full-stack/tool/nginx/","title":"nginx","text":""},{"location":"full-stack/tool/postman/","title":"Postman","text":""},{"location":"full-stack/tool/pypi/","title":"pypi","text":""},{"location":"full-stack/tool/pypi/#_1","title":"\u6b65\u9aa4","text":"<p>1.\u5b89\u88c5\u4f9d\u8d56 <code>pip</code>, <code>build</code>, <code>twine</code> <pre><code>python3 -m pip install --upgrade pip\npython3 -m pip install --upgrade build\npython3 -m pip install --upgrade twine\n</code></pre></p> <p>2.\u6309\u6a21\u677f\u65b0\u5efa\u9879\u76ee <pre><code>packaging_tutorial/\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 example_package_YOUR_USERNAME_HERE/\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u2514\u2500\u2500 example.py\n\u2514\u2500\u2500 tests/\n</code></pre></p> <p>3.\u6784\u5efa\u9879\u76ee <pre><code>python3 -m build\n</code></pre></p> <p>4.\u6ce8\u518c PyPI \u8d26\u53f7, \u6309\u9700\u521b\u5efaToken (\u53ef\u7528\u4e8e\u548cGithub Actions\u8054\u52a8\u6765\u81ea\u52a8\u53d1\u5305) <pre><code>\u6ce8\u518c PyPI \u8d26\u53f7: https://pypi.org/account/register\n\u521b\u5efaToken: https://pypi.org/manage/account\n</code></pre></p> <p>5.\u4e0a\u4f20\u9879\u76ee <pre><code>python3 -m twine upload dist/*\n</code></pre></p> <p></p>"},{"location":"full-stack/tool/pypi/#pip","title":"pip","text":"<pre><code>\u5b89\u88c5\u65b9\u5f0f\uff1a\npip3 install git+https://github.com/luvletter2333/ItChat.git\npip3 install -e .\npip3 install pandas\npip3 install pandas -i https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre>"},{"location":"full-stack/tool/pypi/#_2","title":"\u76f8\u5173\u62d3\u5c55","text":"<ul> <li>\u5b8c\u6574 Demo</li> <li>Packaging Python Projects</li> <li>Github Actions \u81ea\u52a8\u53d1\u5e03</li> </ul>"},{"location":"full-stack/tool/python-package/","title":"Python Package","text":"Package Desciption pixelmatch A pixel-level image comparison library pandas Powerful data structures for data analysis, time series, and statistics fastapi FastAPI framework, high performance, easy to learn, fast to code, ready for production typer Typer, build great CLIs. Easy to code. Based on Python type hints rich Rich is a Python library for rich text and beautiful formatting in the terminal pipreqs Pip requirements.txt generator based on imports in project diagrams Diagram as Code"},{"location":"full-stack/tool/rabbitmq/","title":"rabbitmq","text":""},{"location":"full-stack/tool/redis/","title":"redis","text":""},{"location":"full-stack/tool/sonarqube/","title":"SonarQube","text":""},{"location":"full-stack/tool/sonarqube/#_1","title":"\u62d3\u5c55\u9605\u8bfb","text":"<ul> <li>SonarQube Doc</li> </ul>"},{"location":"full-stack/tool/sqlite/","title":"sqlite","text":"<ul> <li>show tables <pre><code>select name from sqlite_schema where type='table' and name not like 'sqlite_%'\nselect sqlite_version();\n</code></pre></li> </ul>"},{"location":"full-stack/wiki/network/","title":"Network","text":"<ul> <li>HTTP Code</li> </ul>"},{"location":"notes/config/apt-source-list/","title":"/etc/apt/sources.list","text":""},{"location":"notes/config/apt-source-list/#_1","title":"\u963f\u91cc\u6e90","text":"<pre><code>deb http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse\n</code></pre>"},{"location":"notes/config/apt-source-list/#_2","title":"\u6e05\u534e\u6e90","text":"<pre><code>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse\ndeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\ndeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\ndeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\ndeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\ndeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\n</code></pre>"},{"location":"notes/config/apt-source-list/#_3","title":"\u4e2d\u79d1\u5927","text":"<pre><code>deb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\n</code></pre>"},{"location":"notes/config/apt-source-list/#163","title":"163\u6e90","text":"<pre><code>deb http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse\n</code></pre>"},{"location":"notes/config/apt-source-list/#_4","title":"\u76f8\u5173\u5f15\u7528","text":"<ul> <li>apt \u56fd\u5185\u6e90\u6c47\u603b</li> </ul>"},{"location":"notes/config/install-ohmyzsh/","title":"https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh","text":"<pre><code>#!/bin/sh\n#\n# This script should be run via curl:\n#   sh -c \"$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"\n# or via wget:\n#   sh -c \"$(wget -qO- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"\n# or via fetch:\n#   sh -c \"$(fetch -o - https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"\n#\n# As an alternative, you can first download the install script and run it afterwards:\n#   wget https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh\n#   sh install.sh\n#\n# You can tweak the install behavior by setting variables when running the script. For\n# example, to change the path to the Oh My Zsh repository:\n#   ZSH=~/.zsh sh install.sh\n#\n# Respects the following environment variables:\n#   ZDOTDIR - path to Zsh dotfiles directory (default: unset). See [1][2]\n#             [1] https://zsh.sourceforge.io/Doc/Release/Parameters.html#index-ZDOTDIR\n#             [2] https://zsh.sourceforge.io/Doc/Release/Files.html#index-ZDOTDIR_002c-use-of\n#   ZSH     - path to the Oh My Zsh repository folder (default: $HOME/.oh-my-zsh)\n#   REPO    - name of the GitHub repo to install from (default: ohmyzsh/ohmyzsh)\n#   REMOTE  - full remote URL of the git repo to install (default: GitHub via HTTPS)\n#   BRANCH  - branch to check out immediately after install (default: master)\n#\n# Other options:\n#   CHSH       - 'no' means the installer will not change the default shell (default: yes)\n#   RUNZSH     - 'no' means the installer will not run zsh after the install (default: yes)\n#   KEEP_ZSHRC - 'yes' means the installer will not replace an existing .zshrc (default: no)\n#\n# You can also pass some arguments to the install script to set some these options:\n#   --skip-chsh: has the same behavior as setting CHSH to 'no'\n#   --unattended: sets both CHSH and RUNZSH to 'no'\n#   --keep-zshrc: sets KEEP_ZSHRC to 'yes'\n# For example:\n#   sh install.sh --unattended\n# or:\n#   sh -c \"$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\" \"\" --unattended\n#\nset -e\n\n# Make sure important variables exist if not already defined\n#\n# $USER is defined by login(1) which is not always executed (e.g. containers)\n# POSIX: https://pubs.opengroup.org/onlinepubs/009695299/utilities/id.html\nUSER=${USER:-$(id -u -n)}\n# $HOME is defined at the time of login, but it could be unset. If it is unset,\n# a tilde by itself (~) will not be expanded to the current user's home directory.\n# POSIX: https://pubs.opengroup.org/onlinepubs/009696899/basedefs/xbd_chap08.html#tag_08_03\nHOME=\"${HOME:-$(getent passwd $USER 2&gt;/dev/null | cut -d: -f6)}\"\n# macOS does not have getent, but this works even if $HOME is unset\nHOME=\"${HOME:-$(eval echo ~$USER)}\"\n\n\n# Track if $ZSH was provided\ncustom_zsh=${ZSH:+yes}\n\n# Use $zdot to keep track of where the directory is for zsh dotfiles\n# To check if $ZDOTDIR was provided, explicitly check for $ZDOTDIR\nzdot=\"${ZDOTDIR:-$HOME}\"\n\n# Default value for $ZSH\n# a) if $ZDOTDIR is supplied and not $HOME: $ZDOTDIR/ohmyzsh\n# b) otherwise, $HOME/.oh-my-zsh\nif [ -n \"$ZDOTDIR\" ] &amp;&amp; [ \"$ZDOTDIR\" != \"$HOME\" ]; then\n  ZSH=\"${ZSH:-$ZDOTDIR/ohmyzsh}\"\nfi\nZSH=\"${ZSH:-$HOME/.oh-my-zsh}\"\n\n# Default settings\nREPO=${REPO:-ohmyzsh/ohmyzsh}\nREMOTE=${REMOTE:-https://github.com/${REPO}.git}\nBRANCH=${BRANCH:-master}\n\n# Other options\nCHSH=${CHSH:-yes}\nRUNZSH=${RUNZSH:-yes}\nKEEP_ZSHRC=${KEEP_ZSHRC:-no}\n\n\ncommand_exists() {\n  command -v \"$@\" &gt;/dev/null 2&gt;&amp;1\n}\n\nuser_can_sudo() {\n  # Check if sudo is installed\n  command_exists sudo || return 1\n  # Termux can't run sudo, so we can detect it and exit the function early.\n  case \"$PREFIX\" in\n  *com.termux*) return 1 ;;\n  esac\n  # The following command has 3 parts:\n  #\n  # 1. Run `sudo` with `-v`. Does the following:\n  #    \u2022 with privilege: asks for a password immediately.\n  #    \u2022 without privilege: exits with error code 1 and prints the message:\n  #      Sorry, user &lt;username&gt; may not run sudo on &lt;hostname&gt;\n  #\n  # 2. Pass `-n` to `sudo` to tell it to not ask for a password. If the\n  #    password is not required, the command will finish with exit code 0.\n  #    If one is required, sudo will exit with error code 1 and print the\n  #    message:\n  #    sudo: a password is required\n  #\n  # 3. Check for the words \"may not run sudo\" in the output to really tell\n  #    whether the user has privileges or not. For that we have to make sure\n  #    to run `sudo` in the default locale (with `LANG=`) so that the message\n  #    stays consistent regardless of the user's locale.\n  #\n  ! LANG= sudo -n -v 2&gt;&amp;1 | grep -q \"may not run sudo\"\n}\n\n# The [ -t 1 ] check only works when the function is not called from\n# a subshell (like in `$(...)` or `(...)`, so this hack redefines the\n# function at the top level to always return false when stdout is not\n# a tty.\nif [ -t 1 ]; then\n  is_tty() {\n    true\n  }\nelse\n  is_tty() {\n    false\n  }\nfi\n\n# This function uses the logic from supports-hyperlinks[1][2], which is\n# made by Kat March\u00e1n (@zkat) and licensed under the Apache License 2.0.\n# [1] https://github.com/zkat/supports-hyperlinks\n# [2] https://crates.io/crates/supports-hyperlinks\n#\n# Copyright (c) 2021 Kat March\u00e1n\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\nsupports_hyperlinks() {\n  # $FORCE_HYPERLINK must be set and be non-zero (this acts as a logic bypass)\n  if [ -n \"$FORCE_HYPERLINK\" ]; then\n    [ \"$FORCE_HYPERLINK\" != 0 ]\n    return $?\n  fi\n\n  # If stdout is not a tty, it doesn't support hyperlinks\n  is_tty || return 1\n\n  # DomTerm terminal emulator (domterm.org)\n  if [ -n \"$DOMTERM\" ]; then\n    return 0\n  fi\n\n  # VTE-based terminals above v0.50 (Gnome Terminal, Guake, ROXTerm, etc)\n  if [ -n \"$VTE_VERSION\" ]; then\n    [ $VTE_VERSION -ge 5000 ]\n    return $?\n  fi\n\n  # If $TERM_PROGRAM is set, these terminals support hyperlinks\n  case \"$TERM_PROGRAM\" in\n  Hyper|iTerm.app|terminology|WezTerm|vscode) return 0 ;;\n  esac\n\n  # These termcap entries support hyperlinks\n  case \"$TERM\" in\n  xterm-kitty|alacritty|alacritty-direct) return 0 ;;\n  esac\n\n  # xfce4-terminal supports hyperlinks\n  if [ \"$COLORTERM\" = \"xfce4-terminal\" ]; then\n    return 0\n  fi\n\n  # Windows Terminal also supports hyperlinks\n  if [ -n \"$WT_SESSION\" ]; then\n    return 0\n  fi\n\n  # Konsole supports hyperlinks, but it's an opt-in setting that can't be detected\n  # https://github.com/ohmyzsh/ohmyzsh/issues/10964\n  # if [ -n \"$KONSOLE_VERSION\" ]; then\n  #   return 0\n  # fi\n\n  return 1\n}\n\n# Adapted from code and information by Anton Kochkov (@XVilka)\n# Source: https://gist.github.com/XVilka/8346728\nsupports_truecolor() {\n  case \"$COLORTERM\" in\n  truecolor|24bit) return 0 ;;\n  esac\n\n  case \"$TERM\" in\n  iterm           |\\\n  tmux-truecolor  |\\\n  linux-truecolor |\\\n  xterm-truecolor |\\\n  screen-truecolor) return 0 ;;\n  esac\n\n  return 1\n}\n\nfmt_link() {\n  # $1: text, $2: url, $3: fallback mode\n  if supports_hyperlinks; then\n    printf '\\033]8;;%s\\033\\\\%s\\033]8;;\\033\\\\\\n' \"$2\" \"$1\"\n    return\n  fi\n\n  case \"$3\" in\n  --text) printf '%s\\n' \"$1\" ;;\n  --url|*) fmt_underline \"$2\" ;;\n  esac\n}\n\nfmt_underline() {\n  is_tty &amp;&amp; printf '\\033[4m%s\\033[24m\\n' \"$*\" || printf '%s\\n' \"$*\"\n}\n\n# shellcheck disable=SC2016 # backtick in single-quote\nfmt_code() {\n  is_tty &amp;&amp; printf '`\\033[2m%s\\033[22m`\\n' \"$*\" || printf '`%s`\\n' \"$*\"\n}\n\nfmt_error() {\n  printf '%sError: %s%s\\n' \"${FMT_BOLD}${FMT_RED}\" \"$*\" \"$FMT_RESET\" &gt;&amp;2\n}\n\nsetup_color() {\n  # Only use colors if connected to a terminal\n  if ! is_tty; then\n    FMT_RAINBOW=\"\"\n    FMT_RED=\"\"\n    FMT_GREEN=\"\"\n    FMT_YELLOW=\"\"\n    FMT_BLUE=\"\"\n    FMT_BOLD=\"\"\n    FMT_RESET=\"\"\n    return\n  fi\n\n  if supports_truecolor; then\n    FMT_RAINBOW=\"\n      $(printf '\\033[38;2;255;0;0m')\n      $(printf '\\033[38;2;255;97;0m')\n      $(printf '\\033[38;2;247;255;0m')\n      $(printf '\\033[38;2;0;255;30m')\n      $(printf '\\033[38;2;77;0;255m')\n      $(printf '\\033[38;2;168;0;255m')\n      $(printf '\\033[38;2;245;0;172m')\n    \"\n  else\n    FMT_RAINBOW=\"\n      $(printf '\\033[38;5;196m')\n      $(printf '\\033[38;5;202m')\n      $(printf '\\033[38;5;226m')\n      $(printf '\\033[38;5;082m')\n      $(printf '\\033[38;5;021m')\n      $(printf '\\033[38;5;093m')\n      $(printf '\\033[38;5;163m')\n    \"\n  fi\n\n  FMT_RED=$(printf '\\033[31m')\n  FMT_GREEN=$(printf '\\033[32m')\n  FMT_YELLOW=$(printf '\\033[33m')\n  FMT_BLUE=$(printf '\\033[34m')\n  FMT_BOLD=$(printf '\\033[1m')\n  FMT_RESET=$(printf '\\033[0m')\n}\n\nsetup_ohmyzsh() {\n  # Prevent the cloned repository from having insecure permissions. Failing to do\n  # so causes compinit() calls to fail with \"command not found: compdef\" errors\n  # for users with insecure umasks (e.g., \"002\", allowing group writability). Note\n  # that this will be ignored under Cygwin by default, as Windows ACLs take\n  # precedence over umasks except for filesystems mounted with option \"noacl\".\n  umask g-w,o-w\n\n  echo \"${FMT_BLUE}Cloning Oh My Zsh...${FMT_RESET}\"\n\n  command_exists git || {\n    fmt_error \"git is not installed\"\n    exit 1\n  }\n\n  ostype=$(uname)\n  if [ -z \"${ostype%CYGWIN*}\" ] &amp;&amp; git --version | grep -Eq 'msysgit|windows'; then\n    fmt_error \"Windows/MSYS Git is not supported on Cygwin\"\n    fmt_error \"Make sure the Cygwin git package is installed and is first on the \\$PATH\"\n    exit 1\n  fi\n\n  # Manual clone with git config options to support git &lt; v1.7.2\n  git init --quiet \"$ZSH\" &amp;&amp; cd \"$ZSH\" \\\n  &amp;&amp; git config core.eol lf \\\n  &amp;&amp; git config core.autocrlf false \\\n  &amp;&amp; git config fsck.zeroPaddedFilemode ignore \\\n  &amp;&amp; git config fetch.fsck.zeroPaddedFilemode ignore \\\n  &amp;&amp; git config receive.fsck.zeroPaddedFilemode ignore \\\n  &amp;&amp; git config oh-my-zsh.remote origin \\\n  &amp;&amp; git config oh-my-zsh.branch \"$BRANCH\" \\\n  &amp;&amp; git remote add origin \"$REMOTE\" \\\n  &amp;&amp; git fetch --depth=1 origin \\\n  &amp;&amp; git checkout -b \"$BRANCH\" \"origin/$BRANCH\" || {\n    [ ! -d \"$ZSH\" ] || {\n      cd -\n      rm -rf \"$ZSH\" 2&gt;/dev/null\n    }\n    fmt_error \"git clone of oh-my-zsh repo failed\"\n    exit 1\n  }\n  # Exit installation directory\n  cd -\n\n  echo\n}\n\nsetup_zshrc() {\n  # Keep most recent old .zshrc at .zshrc.pre-oh-my-zsh, and older ones\n  # with datestamp of installation that moved them aside, so we never actually\n  # destroy a user's original zshrc\n  echo \"${FMT_BLUE}Looking for an existing zsh config...${FMT_RESET}\"\n\n  # Must use this exact name so uninstall.sh can find it\n  OLD_ZSHRC=\"$zdot/.zshrc.pre-oh-my-zsh\"\n  if [ -f \"$zdot/.zshrc\" ] || [ -h \"$zdot/.zshrc\" ]; then\n    # Skip this if the user doesn't want to replace an existing .zshrc\n    if [ \"$KEEP_ZSHRC\" = yes ]; then\n      echo \"${FMT_YELLOW}Found ${zdot}/.zshrc.${FMT_RESET} ${FMT_GREEN}Keeping...${FMT_RESET}\"\n      return\n    fi\n    if [ -e \"$OLD_ZSHRC\" ]; then\n      OLD_OLD_ZSHRC=\"${OLD_ZSHRC}-$(date +%Y-%m-%d_%H-%M-%S)\"\n      if [ -e \"$OLD_OLD_ZSHRC\" ]; then\n        fmt_error \"$OLD_OLD_ZSHRC exists. Can't back up ${OLD_ZSHRC}\"\n        fmt_error \"re-run the installer again in a couple of seconds\"\n        exit 1\n      fi\n      mv \"$OLD_ZSHRC\" \"${OLD_OLD_ZSHRC}\"\n\n      echo \"${FMT_YELLOW}Found old .zshrc.pre-oh-my-zsh.\" \\\n        \"${FMT_GREEN}Backing up to ${OLD_OLD_ZSHRC}${FMT_RESET}\"\n    fi\n    echo \"${FMT_YELLOW}Found ${zdot}/.zshrc.${FMT_RESET} ${FMT_GREEN}Backing up to ${OLD_ZSHRC}${FMT_RESET}\"\n    mv \"$zdot/.zshrc\" \"$OLD_ZSHRC\"\n  fi\n\n  echo \"${FMT_GREEN}Using the Oh My Zsh template file and adding it to $zdot/.zshrc.${FMT_RESET}\"\n\n  # Modify $ZSH variable in .zshrc directory to use the literal $ZDOTDIR or $HOME\n  omz=\"$ZSH\"\n  if [ -n \"$ZDOTDIR\" ] &amp;&amp; [ \"$ZDOTDIR\" != \"$HOME\" ]; then\n    omz=$(echo \"$omz\" | sed \"s|^$ZDOTDIR/|\\$ZDOTDIR/|\")\n  fi\n  omz=$(echo \"$omz\" | sed \"s|^$HOME/|\\$HOME/|\")\n\n  sed \"s|^export ZSH=.*$|export ZSH=\\\"${omz}\\\"|\" \"$ZSH/templates/zshrc.zsh-template\" &gt; \"$zdot/.zshrc-omztemp\"\n  mv -f \"$zdot/.zshrc-omztemp\" \"$zdot/.zshrc\"\n\n  echo\n}\n\nsetup_shell() {\n  # Skip setup if the user wants or stdin is closed (not running interactively).\n  if [ \"$CHSH\" = no ]; then\n    return\n  fi\n\n  # If this user's login shell is already \"zsh\", do not attempt to switch.\n  if [ \"$(basename -- \"$SHELL\")\" = \"zsh\" ]; then\n    return\n  fi\n\n  # If this platform doesn't provide a \"chsh\" command, bail out.\n  if ! command_exists chsh; then\n    cat &lt;&lt;EOF\nI can't change your shell automatically because this system does not have chsh.\n${FMT_BLUE}Please manually change your default shell to zsh${FMT_RESET}\nEOF\n    return\n  fi\n\n  echo \"${FMT_BLUE}Time to change your default shell to zsh:${FMT_RESET}\"\n\n  # Prompt for user choice on changing the default login shell\n  printf '%sDo you want to change your default shell to zsh? [Y/n]%s ' \\\n    \"$FMT_YELLOW\" \"$FMT_RESET\"\n  read -r opt\n  case $opt in\n    y*|Y*|\"\") ;;\n    n*|N*) echo \"Shell change skipped.\"; return ;;\n    *) echo \"Invalid choice. Shell change skipped.\"; return ;;\n  esac\n\n  # Check if we're running on Termux\n  case \"$PREFIX\" in\n    *com.termux*) termux=true; zsh=zsh ;;\n    *) termux=false ;;\n  esac\n\n  if [ \"$termux\" != true ]; then\n    # Test for the right location of the \"shells\" file\n    if [ -f /etc/shells ]; then\n      shells_file=/etc/shells\n    elif [ -f /usr/share/defaults/etc/shells ]; then # Solus OS\n      shells_file=/usr/share/defaults/etc/shells\n    else\n      fmt_error \"could not find /etc/shells file. Change your default shell manually.\"\n      return\n    fi\n\n    # Get the path to the right zsh binary\n    # 1. Use the most preceding one based on $PATH, then check that it's in the shells file\n    # 2. If that fails, get a zsh path from the shells file, then check it actually exists\n    if ! zsh=$(command -v zsh) || ! grep -qx \"$zsh\" \"$shells_file\"; then\n      if ! zsh=$(grep '^/.*/zsh$' \"$shells_file\" | tail -n 1) || [ ! -f \"$zsh\" ]; then\n        fmt_error \"no zsh binary found or not present in '$shells_file'\"\n        fmt_error \"change your default shell manually.\"\n        return\n      fi\n    fi\n  fi\n\n  # We're going to change the default shell, so back up the current one\n  if [ -n \"$SHELL\" ]; then\n    echo \"$SHELL\" &gt; \"$zdot/.shell.pre-oh-my-zsh\"\n  else\n    grep \"^$USER:\" /etc/passwd | awk -F: '{print $7}' &gt; \"$zdot/.shell.pre-oh-my-zsh\"\n  fi\n\n  echo \"Changing your shell to $zsh...\"\n\n  # Check if user has sudo privileges to run `chsh` with or without `sudo`\n  #\n  # This allows the call to succeed without password on systems where the\n  # user does not have a password but does have sudo privileges, like in\n  # Google Cloud Shell.\n  #\n  # On systems that don't have a user with passwordless sudo, the user will\n  # be prompted for the password either way, so this shouldn't cause any issues.\n  #\n  if user_can_sudo; then\n    sudo -k chsh -s \"$zsh\" \"$USER\"  # -k forces the password prompt\n  else\n    chsh -s \"$zsh\" \"$USER\"          # run chsh normally\n  fi\n\n  # Check if the shell change was successful\n  if [ $? -ne 0 ]; then\n    fmt_error \"chsh command unsuccessful. Change your default shell manually.\"\n  else\n    export SHELL=\"$zsh\"\n    echo \"${FMT_GREEN}Shell successfully changed to '$zsh'.${FMT_RESET}\"\n  fi\n\n  echo\n}\n\n# shellcheck disable=SC2183  # printf string has more %s than arguments ($FMT_RAINBOW expands to multiple arguments)\nprint_success() {\n  printf '%s         %s__      %s           %s        %s       %s     %s__   %s\\n'      $FMT_RAINBOW $FMT_RESET\n  printf '%s  ____  %s/ /_    %s ____ ___  %s__  __  %s ____  %s_____%s/ /_  %s\\n'      $FMT_RAINBOW $FMT_RESET\n  printf '%s / __ \\\\%s/ __ \\\\  %s / __ `__ \\\\%s/ / / / %s /_  / %s/ ___/%s __ \\\\ %s\\n'  $FMT_RAINBOW $FMT_RESET\n  printf '%s/ /_/ /%s / / / %s / / / / / /%s /_/ / %s   / /_%s(__  )%s / / / %s\\n'      $FMT_RAINBOW $FMT_RESET\n  printf '%s\\\\____/%s_/ /_/ %s /_/ /_/ /_/%s\\\\__, / %s   /___/%s____/%s_/ /_/  %s\\n'    $FMT_RAINBOW $FMT_RESET\n  printf '%s    %s        %s           %s /____/ %s       %s     %s          %s....is now installed!%s\\n' $FMT_RAINBOW $FMT_GREEN $FMT_RESET\n  printf '\\n'\n  printf '\\n'\n  printf \"%s %s %s\\n\" \"Before you scream ${FMT_BOLD}${FMT_YELLOW}Oh My Zsh!${FMT_RESET} look over the\" \\\n    \"$(fmt_code \"$(fmt_link \".zshrc\" \"file://$zdot/.zshrc\" --text)\")\" \\\n    \"file to select plugins, themes, and options.\"\n  printf '\\n'\n  printf '%s\\n' \"\u2022 Follow us on Twitter: $(fmt_link @ohmyzsh https://twitter.com/ohmyzsh)\"\n  printf '%s\\n' \"\u2022 Join our Discord community: $(fmt_link \"Discord server\" https://discord.gg/ohmyzsh)\"\n  printf '%s\\n' \"\u2022 Get stickers, t-shirts, coffee mugs and more: $(fmt_link \"Planet Argon Shop\" https://shop.planetargon.com/collections/oh-my-zsh)\"\n  printf '%s\\n' $FMT_RESET\n}\n\nmain() {\n  # Run as unattended if stdin is not a tty\n  if [ ! -t 0 ]; then\n    RUNZSH=no\n    CHSH=no\n  fi\n\n  # Parse arguments\n  while [ $# -gt 0 ]; do\n    case $1 in\n      --unattended) RUNZSH=no; CHSH=no ;;\n      --skip-chsh) CHSH=no ;;\n      --keep-zshrc) KEEP_ZSHRC=yes ;;\n    esac\n    shift\n  done\n\n  setup_color\n\n  if ! command_exists zsh; then\n    echo \"${FMT_YELLOW}Zsh is not installed.${FMT_RESET} Please install zsh first.\"\n    exit 1\n  fi\n\n  if [ -d \"$ZSH\" ]; then\n    echo \"${FMT_YELLOW}The \\$ZSH folder already exists ($ZSH).${FMT_RESET}\"\n    if [ \"$custom_zsh\" = yes ]; then\n      cat &lt;&lt;EOF\n\nYou ran the installer with the \\$ZSH setting or the \\$ZSH variable is\nexported. You have 3 options:\n\n1. Unset the ZSH variable when calling the installer:\n   $(fmt_code \"ZSH= sh install.sh\")\n2. Install Oh My Zsh to a directory that doesn't exist yet:\n   $(fmt_code \"ZSH=path/to/new/ohmyzsh/folder sh install.sh\")\n3. (Caution) If the folder doesn't contain important information,\n   you can just remove it with $(fmt_code \"rm -r $ZSH\")\n\nEOF\n    else\n      echo \"You'll need to remove it if you want to reinstall.\"\n    fi\n    exit 1\n  fi\n\n  # Create ZDOTDIR folder structure if it doesn't exist\n  if [ -n \"$ZDOTDIR\" ]; then\n    mkdir -p \"$ZDOTDIR\"\n  fi\n\n  setup_ohmyzsh\n  setup_zshrc\n  setup_shell\n\n  print_success\n\n  if [ $RUNZSH = no ]; then\n    echo \"${FMT_YELLOW}Run zsh to try it out.${FMT_RESET}\"\n    exit\n  fi\n\n  exec zsh -l\n}\n\nmain \"$@\"\n</code></pre>"},{"location":"notes/config/pip/","title":"~/.pip/pip.conf","text":""},{"location":"notes/config/pip/#pip","title":"\u8bbe\u7f6e pip \u6e90","text":"<pre><code>[global]\nindex-url = https://mirrors.aliyun.com/pypi/simple/\nextra-index-url = https://pypi.tuna.tsinghua.edu.cn/simple/, https://pypi.python.org/simple\n</code></pre>"},{"location":"notes/config/pip/#_1","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code>pip install WeTest\npip install \"WeTest[hive]\"\npip install -r requirements.txt\npip install -e /mnt/d/src/python/WeTest\n</code></pre>"},{"location":"notes/config/pypirc/","title":"~/.pypirc","text":"<pre><code>[pypi]\n  username = __token__\n  password = pypi-{PYPI_TOKEn}\n</code></pre>"},{"location":"notes/config/vscode-settings/","title":"VSCode \u914d\u7f6e","text":""},{"location":"notes/config/vscode-settings/#settingsjson","title":"settings.json","text":"<pre><code>{\n    \"python.venvPath\": \"~/.virtualenvs\",\n    \"python.testing.pytestEnabled\": true,\n    \"fileheader.Author\": \"Huabo He\",\n    \"fileheader.LastModifiedBy\": \"Huabo He\",\n    \"python.analysis.completeFunctionParens\": true,\n    \"python.terminal.activateEnvInCurrentTerminal\": true,\n    \"python.defaultInterpreterPath\": \"~/.virtualenvs/WeTest/bin/python3.8\",\n    \"pythonTestExplorer.testFramework\": \"pytest\",\n    \"files.exclude\": {\n        \"**/__pycache__\": true,\n        \"**/.pytest_cache\": true\n    },\n    \"debug.inlineValues\": \"on\",\n    \"testing.alwaysRevealTestOnStateChange\": true,\n    \"pythonTestExplorer.testplanEnabled\": true,\n    \"fileheader.tpl\": \"#--------------------------------\\\\n#  @Author: {author}\\\\n#  @Create: {createTime}\\\\n#--------------------------------\\\\n\\\\n\\\\n\",\n    \"editor.formatOnSave\": true,\n    \"python.formatting.blackArgs\": [\n        \"--line-length\",\n        \"130\"\n    ],\n    \"python.languageServer\": \"Pylance\",\n    \"git.inputValidationSubjectLength\": 100,\n    \"jupyter.debugJustMyCode\": false,\n    \"editor.bracketPairColorization.enabled\": true,\n    \"editor.guides.bracketPairs\": true\n}\n</code></pre>"},{"location":"notes/config/vscode-settings/#tasksjson","title":"tasks.json","text":"<pre><code>{\n    // See https://go.microsoft.com/fwlink/?LinkId=733558\n    // for the documentation about the tasks.json format\n    \"version\": \"2.0.0\",\n    \"tasks\": [\n        {\n            \"label\": \"pytest\",\n            \"type\": \"process\",\n            \"linux\": {\n                \"command\": \"${config:python.defaultInterpreterPath}\",\n                \"args\": [\n                    \"-m\",\n                    \"pytest\",\n                    \"-s\",\n                    \"${file}\"\n                ]\n            }\n        },\n        {\n            \"label\": \"collect\",\n            \"type\": \"process\",\n            \"linux\": {\n                \"command\": \"${config:python.defaultInterpreterPath}\",\n                \"args\": [\n                    \"-m\",\n                    \"pytest\",\n                    \"--collect-only\"\n                ]\n            }\n        },\n        {\n            \"label\": \"format\",\n            \"type\": \"process\",\n            \"linux\": {\n                \"command\": \"${config:python.defaultInterpreterPath}\",\n                \"args\": [\n                    \"-m\",\n                    \"black\",\n                    \"--line-length\",\n                    \"130\",\n                    \"-i\",\n                    \"${file}\"\n                ]\n            }\n        },\n        {\n            \"label\": \"clean-report\",\n            \"type\": \"shell\",\n            \"linux\": {\n                \"command\": \"rm\",\n                \"args\": [\n                    \"-r\",\n                    \"${workspaceRoot}/allure-result/\"\n                ]\n            }\n        },\n        {\n            \"label\": \"show-report\",\n            \"type\": \"shell\",\n            \"command\": \"allure\",\n            \"args\": [\n                \"serve\",\n                \"-h\",\n                \"0.0.0.0\",\n                \"-p\",\n                \"8080\",\n                \"${workspaceRoot}/allure-result/\"\n            ]\n        },\n        {\n            \"label\": \"run-server\",\n            \"type\": \"process\",\n            \"command\": \"${config:python.defaultInterpreterPath}\",\n            \"args\": [\n                \"-m\",\n                \"uvicorn\",\n                \"web.main:app\",\n                \"--reload\",\n                \"--debug\"\n            ],\n            \"options\": {\n                \"cwd\": \"${workspaceFolder}/server\"\n            }\n        }\n    ]\n}\n</code></pre>"},{"location":"notes/config/zshrc/","title":"~/.zshrc","text":"<pre><code>export ZSH=\"$HOME/.oh-my-zsh\"\n\nZSH_THEME=\"robbyrussell\"\n\nplugins=(\n        git\n        zsh-autosuggestions\n        zsh-syntax-highlighting\n)\n\nsource $ZSH/oh-my-zsh.sh\n\n\n# Python Virtual Env\nexport WORKON_HOME=~/.virtualenvs\nexport VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3\nexport VIRTUALENVWRAPPER_VIRTUALENV=/usr/share/virtualenvwrapper/virtualenvwrapper.sh\nsource /usr/share/virtualenvwrapper/virtualenvwrapper.sh\n\nsource $ZSH_CUSTOM/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\nsource $ZSH_CUSTOM/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\n</code></pre>"},{"location":"notes/demo/docker-compose-yml/","title":"Docker-compose.yml","text":"<pre><code>version: '3.8'\nservices:\n  apps:\n    build:\n      context: ./\n      dockerfile: Dockerfile\n    # command: []\n    depends_on:\n      - jenkins\n      - mysql\n    networks:\n      - myapp\n\n  jenkins:\n    image: jenkins/jenkins:lts\n    restart: always\n    privileged: true\n    user: root\n    ports:\n      - 8000:8080\n      - 50000:50000\n    volumes:\n      - /home/hhb/dev/docker_volumns/jenkins:/var/jenkins_home\n    networks:\n      - myapp\n\n  mysql:\n    image: mysql:5.6\n    ports:\n      - 3306:3306\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n    volumes:\n      - mysql_data:/var/lib/mysql\n    env_file:\n      - aa.env\n      - bb.env\n    networks:\n      - myapp\n\n# \u58f0\u660e\u53d8\u91cf\nvolumes:\n  mysql_data:\nnetworks:\n  myapp:\n</code></pre> <p>NOTE:</p> <p>aa.env MYSQL_ROOT_PASSWORD=root</p>"},{"location":"notes/demo/dockerfile/","title":"Dockerfile","text":"<pre><code>FROM python:3.7-slim-stretch\n\n\nENV TZ=Asia/Shanghai \\\n    DEBIAN_FRONTEND=noninteractive\n\nRUN ln -fs /usr/share/zoneinfo/${TZ} /etc/localtime \\\n    &amp;&amp; echo ${TZ} &gt; /etc/timezone \\\n    &amp;&amp; dpkg-reconfigure -f ${DEBIAN_FRONTEND} tzdata\n\n\nRUN cp /etc/apt/sources.list /etc/apt/sources.list.bak \\\n    &amp;&amp; echo \"deb http://mirrors.aliyun.com/debian/ stretch main non-free contrib\" &gt; /etc/apt/sources.list \\\n    &amp;&amp; echo \"deb-src http://mirrors.aliyun.com/debian/ stretch main non-free contrib\" &gt;&gt; /etc/apt/sources.list \\\n    &amp;&amp; echo \"deb http://mirrors.aliyun.com/debian-security stretch/updates main\" &gt;&gt; /etc/apt/sources.list \\\n    &amp;&amp; echo \"deb-src http://mirrors.aliyun.com/debian-security stretch/updates main\" &gt;&gt; /etc/apt/sources.list \\\n    &amp;&amp; echo \"deb http://mirrors.aliyun.com/debian/ stretch-updates main non-free contrib\" &gt;&gt; /etc/apt/sources.list \\\n    &amp;&amp; echo \"deb-src http://mirrors.aliyun.com/debian/ stretch-updates main non-free contrib\" &gt;&gt; /etc/apt/sources.list \\\n    &amp;&amp; echo \"deb http://mirrors.aliyun.com/debian/ stretch-backports main non-free contrib\" &gt;&gt; /etc/apt/sources.list \\\n    &amp;&amp; echo \"deb-src http://mirrors.aliyun.com/debian/ stretch-backports main non-free contrib\" &gt;&gt; /etc/apt/sources.list\n\n\nRUN pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/ \\\n    &amp;&amp; pip config set global.extra-index-url https://pypi.tuna.tsinghua.edu.cn/simple/\n\n\nRUN mkdir -p /usr/share/man/man1 &amp;&amp; mkdir /usr/lib/x86_64-linux-gnu/fonts &amp;&amp; apt-get update &amp;&amp; apt-get install --no-install-recommends -y \\\n    default-jre \\\n    wget gzip cron vim \\\n    libsasl2-dev libsasl2-2 libsasl2-modules-gssapi-mit python3-dev build-essential \\\n    wkhtmltopdf \\\n    &amp;&amp; pip install --no-cache-dir cython \\\n    &amp;&amp; pip install --no-cache-dir thriftpy \\\n    &amp;&amp; pip install --no-cache-dir WeTest \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/*\n\n\nENV ALLURE_VERSION 2.19.0\n\nRUN wget https://repo.maven.apache.org/maven2/io/qameta/allure/allure-commandline/$ALLURE_VERSION/allure-commandline-$ALLURE_VERSION.tgz -O allure-commandline-$ALLURE_VERSION.tgz \\\n    &amp;&amp; tar -zxvf allure-commandline-$ALLURE_VERSION.tgz -C /opt/ \\\n    &amp;&amp; rm allure-commandline-$ALLURE_VERSION.tgz \\\n    &amp;&amp; ln -s /opt/allure-$ALLURE_VERSION/bin/allure /usr/bin/allure\n\n\nCOPY doc/fonts/simsun.ttc /usr/lib/x86_64-linux-gnu/fonts\n</code></pre>"},{"location":"notes/demo/jenkinsfile/","title":"Jenkinsfile","text":"<pre><code>pipeline {\n    agent any\n    stages {\n        stage(\"verify tooling\"){\n            steps (\n                sh '''\n                    docker version\n                    docker info\n                    docker-compose -v\n                    curl --version\n                '''\n            )\n        }\n\n        stage(\"Prune Docker Data\"){\n            steps {\n                sh \"docker system prune -a --volumes --wait\"\n            }\n        }\n\n        stage(\"Start Container\"){\n            steps {\n                sh \"docker-compose up -d --no-color --wait\"\n                sh \"docker-compose ps\"\n            }\n        }\n\n        stage(\"Run tests against the container\"){\n            steps {\n                sh \"curl http://localhost:3000/param?query=demo | jq\"\n            }\n        }\n    }\n\n    post {\n        always {\n            sh \"docker-compose down --remove-orphans -v\"\n            sh \"docker-compose ps\"\n        }\n    }\n}\n</code></pre>"},{"location":"notes/demo/pyproject-toml/","title":"pyproject.toml","text":"<pre><code>[build-system]\nrequires = [\"setuptools&gt;=61.0\"]\nbuild-backend = \"setuptools.build_meta\"\n\n\n[project]\nname = \"WeTest\"\nversion = \"1.0.6\"\nauthors = [{ name=\"Huabo He\", email=\"hhbstar@hotmail.com\" }]\ndescription = \"Toolkit For Automated Testing\"\nreadme = \"README.md\"\nrequires-python = \"&gt;=3.7\"\nclassifiers = [\n    \"License :: OSI Approved :: MIT License\",\n    \"Operating System :: OS Independent\",\n    \"Programming Language :: Python :: 3\",\n]\n\ndependencies = [\n    \"requests\",\n    \"aiohttp\",\n    \"numpy\",\n    \"pandas\",\n    \"openpyxl\",\n    \"xlrd\",\n    \"arrow\",\n    \"pyyaml\",\n    \"pypeln\",\n    \"configobj\",\n    \"datacompy\",\n    \"dictdiffer\",\n    \"jsonschema\",\n    \"pymysql\",\n    \"SQLAlchemy\",\n    \"Faker\",\n    \"ua-parser\",\n    \"user_agents\",\n    \"imgkit\",\n    \"pycryptodome\",\n    \"python-magic\",\n    \"jira\",\n    \"lxml\",\n    \"sxtwl==1.1.0\",\n    \"pika\",\n    \"boto3\",\n    \"paramiko\",\n]\n\n\n[project.optional-dependencies]\nhive = [\n    \"cython\",\n    \"thriftpy\",\n    \"bitarray==1.1.0\",\n    \"impyla==0.16.2\",\n    \"pure_sasl==0.6.2\",\n    \"thrift_sasl==0.2.1\",\n]\n\ntest = [\n    \"pytest\",\n    \"pytest-html\",\n    \"pytest-sugar\",\n    \"pytest-asyncio\",\n    \"allure-pytest\",\n]\n\n\n[project.urls]\n\"Homepage\" = \"https://baiyyee.github.io\"\n\"Source\" = \"https://github.com/baiyyee/WeTest\"\n\"Tracker\" = \"https://github.com/baiyyee/WeTest/issues\"\n</code></pre>"},{"location":"notes/demo/pytest-ini/","title":"pytest.ini","text":"<pre><code>[pytest]\n\n\n# Custom Marker\nmarkers =\n    p0\n    p1\n    p2\n    p3\n\n    ui\n    api\n    bvt\n    function\n    security\n    stress\n\n    monitor\n\n\n# Disable Warnings\naddopts = -p no:warnings --alluredir=allure-result --clean-alluredir --strict\n\n\n# Log Setting =&gt; DEBUG &lt; INFO &lt; WARNING &lt; ERROR &lt; CRITICAL\nlog_cli = 1\nlog_cli_level = INFO\nlog_cli_format = %(asctime)s [%(levelname)s] %(message)s\nlog_cli_date_format = %Y-%m-%d %H:%M:%S\n\nlog_file = pytest.log\nlog_file_level = INFO\nlog_file_format = %(asctime)s [%(levelname)s] %(message)s\nlog_file_date_format = %Y-%m-%d %H:%M:%S\n\n\n# Ignore Warning\nfilterwarnings = ignore::PendingDeprecationWarning\n\n\n# Chinese Support\ndisable_test_id_escaping_and_forfeit_all_rights_to_community_support = True\n</code></pre>"},{"location":"notes/demo/restclient-vscode/","title":"request.http","text":"<pre><code>### User-Agent\nGET https://www.baidu.com\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36\n\n\n### X-Forward-For\nGET https://www.baidu.com\nX-Forward-For: 127.0.0.1\n</code></pre>"},{"location":"notes/demo/setup-py/","title":"setup.py","text":"<pre><code>import os\nfrom setuptools import setup, find_packages\n\nVERSION = \"0.3.1.3\"\n\ndef recursive_requirements(requirements_file, libs, links, path=\"\"):\n    if not requirements_file.startswith(path):\n        requirements_file = os.path.join(path, requirements_file)\n\n    with open(requirements_file) as requirements:\n        for requirement in requirements.readlines():\n            if requirement.startswith(\"-r\"):\n                requirements_file = requirement.split()[1]\n                if not path:\n                    path = requirements_file.rsplit(\"/\", 1)[0]\n                recursive_requirements(requirements_file, libs, links, path=path)\n            elif requirement.startswith(\"-f\"):\n                links.append(requirement.split()[1])\n            elif requirement.startswith(\"--allow\"):\n                pass\n            else:\n                libs.append(requirement)\n\nrequirements, dependency_links = [], []\nrecursive_requirements(\"requirements.txt\", requirements, dependency_links)\n\nsetup(\n    name=\"xxxxxxxx\",\n    version=VERSION,\n    url=\"xxxxxxxx\",\n    description=\"xxxxxxxx\",\n    long_description=open(\"README.md\", \"r\").read(),\n    author=\"xxxxxxxx\",\n    author_email=\"xxxxxxxx\",\n    maintainer=\"xxxxxxxx\",\n    maintainer_email=\"xxxxxxxx\",\n    license=\"BSD\",\n    include_package_data=True,\n    install_requires=requirements,\n    dependency_links=dependency_links,\n    packages=find_packages(),\n    classifiers=[\n        \"Programming Language :: Python :: 3.7+\",\n        \"Development Status :: 5 - Production/Stable\",\n        \"Environment :: Console\",\n        \"Intended Audience :: End Users/Desktop\",\n        \"Operating System :: OS Independent\",\n        \"Programming Language :: Python\",\n        \"Topic :: Software Development :: Libraries :: Python Modules\",\n        \"Topic :: Utilities\",\n        \"License :: OSI Approved :: BSD License\",\n    ],\n)\n</code></pre> <pre><code>python3 setup.py bdist_wheel\n</code></pre>"},{"location":"notes/guideline/how-to-build-a-personal-website/","title":"\u5982\u4f55\u5feb\u901f\u642d\u5efa\u4e00\u4e2a\u4e2a\u4eba\u7f51\u7ad9\uff1f","text":""},{"location":"notes/guideline/how-to-build-a-personal-website/#_2","title":"\u524d\u7f6e\u6761\u4ef6","text":"<ol> <li>\u53ef\u8bbf\u95ee Github \u7f51\u7ad9\uff0c\u4e14\u5df2\u6ce8\u518c\u5b8c\u6210\u8d26\u53f7</li> <li>\u719f\u6089 Git \u64cd\u4f5c\uff0c\u5e76\u5df2\u914d\u7f6e\u672c\u5730\u673a\u5668\u4e0e Github \u7684\u5173\u8054</li> <li>\u719f\u6089\u4f7f\u7528 pip \u5b89\u88c5 python \u5305</li> <li>\u719f\u6089 Markdown\u8bed\u6cd5</li> <li>\u901a\u8bfb Material for MkDocs \u6587\u6863</li> </ol>"},{"location":"notes/guideline/how-to-build-a-personal-website/#_3","title":"\u64cd\u4f5c\u6b65\u9aa4","text":"<p>1.\u901a\u8fc7 pip \u5b89\u88c5 mkdocs-material <pre><code>pip install mkdocs-material\n</code></pre></p> <p>2.\u5207\u6362\u5230\u6307\u5b9a\u76ee\u5f55\uff0c\u6267\u884c <code>mkdocs new .</code> \u751f\u6210\u76ee\u6807\u7ad9\u70b9\u7684\u9ed8\u8ba4\u5c42\u7ea7\u7ed3\u6784 <pre><code>.\n\u251c\u2500 docs/\n\u2502  \u2514\u2500 index.md\n\u2514\u2500 mkdocs.yml\n</code></pre></p> <p>3.\u66f4\u65b0 <code>mkdocs.yml</code> \u6587\u4ef6\uff0c\u65b0\u589e\u5982\u4e0b\u4ee3\u7801\u6765\u4fee\u6539\u9ed8\u8ba4\u4e3b\u9898\u914d\u8272 <pre><code>theme:\n    name: material\n</code></pre></p> <p>4.\u6267\u884c <code>mkdocs serve</code> \u6765\u542f\u52a8\u4e00\u4e2a\u672c\u5730\u7ad9\u70b9\u670d\u52a1\uff0c\u9884\u89c8\u7ad9\u70b9\u90e8\u7f72\u6548\u679c <pre><code>mkdocs serve\nINFO     -  Building documentation...\nINFO     -  Cleaning site directory\nINFO     -  Documentation built in 0.08 seconds\nINFO     -  [20:57:04] Watching paths for changes: 'docs', 'mkdocs.yml'\nINFO     -  [20:57:04] Serving on http://127.0.0.1:8000/\n</code></pre></p> <p>5.\u70b9\u51fb\u94fe\u63a5 http://127.0.0.1:8000/ \u5373\u53ef\u8bbf\u95ee\u672c\u5730\u7ad9\u70b9 </p> <p>6.\u53c2\u7167 Material for MkDocs \u6587\u6863\u81ea\u5b9a\u4e49\u7ad9\u70b9\u6837\u5f0f\uff0c\u5185\u5bb9\uff0c\u5bfc\u822a\u7b49</p> <p>7.\u5728Github\u4e0a\u65b0\u5efa\u4e00\u4e2a\u4ed3\u5e93\uff0c\u547d\u540d\u4e3a\u56fa\u5b9a\u7684 {username}.github.io</p> <p>NOTE: username \u9700\u8981\u66ff\u6362\u6210\u4f60\u7684 Github \u7528\u6237\u540d</p> <p>8.\u5b8c\u6210\u81ea\u5b9a\u4e49\u4e14\u9884\u89c8\u6548\u679c\u7b26\u5408\u9884\u671f\u540e\uff0c\u8fdb\u5165\u7ad9\u70b9\u6839\u76ee\u5f55\u6267\u884c <code>git push</code> \u5c06\u7ad9\u70b9\u6587\u4ef6\u5939\u5185\u5bb9\u63a8\u9001\u5230 Github {username}.github.io \u4ed3\u5e93</p> <p>9.\u8fdb\u5165\u5230 Github {username}.github.io \u4ed3\u5e93\uff0c\u4f9d\u6b21\u70b9\u51fb <code>ACTION -&gt; new workflow -&gt; Simple workflow</code>, \u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\u540e\u63d0\u4ea4\u4fdd\u5b58\uff1a <pre><code>name: deploy website\non:\npush:\n    branches:\n    - main\njobs:\ndeploy:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v2\n    - uses: actions/setup-python@v2\n        with:\n        python-version: 3.x\n    - run: pip install mkdocs-material \n    - run: mkdocs gh-deploy --force\n</code></pre></p> <p>10.\u8fdb\u5165\u5230 Github {username}.github.io \u4ed3\u5e93\uff0c\u4f9d\u6b21\u70b9\u51fb <code>Settings -&gt; Pages -&gt; Branch</code>, \u5c06 Branch \u5b57\u6bb5\u7531 <code>main</code> \u66f4\u65b0\u4e3a <code>gh-pages</code> \u540e\u4fdd\u5b58</p> <p>11.\u5728\u672c\u5730\u66f4\u65b0\u4efb\u610f\u4e00\u4e2a\u6587\u4ef6\u5185\u5bb9\u5e76\u63d0\u4ea4\u540e\uff0c\u91cd\u65b0\u6267\u884c <code>git push</code>\uff0c\u63a8\u9001\u5b8c\u6210\u540e\u5c06\u81ea\u52a8\u89e6\u53d1 Github Action</p> <p>12.\u7b49\u5f85 Github Action \u6267\u884c\u5b8c\u6210\u540e\uff0c\u8bbf\u95ee https://{username}.github.io \u5373\u53ef\u8bbf\u95ee\u5df2\u90e8\u7f72\u7684\u7ad9\u70b9\uff0c\u8bbf\u95ee\u6548\u679c\u4e0e\u672c\u5730\u9884\u89c8\u6548\u679c\u4e00\u81f4</p> <p></p> <p>\u53c2\u8003\u6837\u4f8b\uff1ahttps://github.com/baiyyee/baiyyee.github.io</p>"},{"location":"notes/guideline/how-to-install-win-os/","title":"\u5982\u4f55\u901a\u8fc7\u786c\u76d8\u5b89\u88c5 Win 11 \u7cfb\u7edf\uff1f","text":""},{"location":"notes/guideline/how-to-install-win-os/#_1","title":"\u524d\u7f6e\u6761\u4ef6","text":"<ol> <li>\u7f51\u7edc\u8054\u901a\uff0c\u53ef\u8bbf\u95ee\u5728\u7ebf\u8d44\u6e90</li> <li>\u7cfb\u7edf\u81f3\u5c11\u5305\u542b\u4e24\u4e2a\u5206\u533a\uff0c\u4e14\u786c\u76d8\u53ef\u7528\u7a7a\u95f4\u5145\u8db3</li> </ol>"},{"location":"notes/guideline/how-to-install-win-os/#_2","title":"\u64cd\u4f5c\u6b65\u9aa4","text":"<p>1.\u8fdb\u5165 Win OS \u4e0b\u8f7d\u9875\uff0c\u70b9\u51fb <code>\u521b\u5efa Windows 11 \u5b89\u88c5 -&gt; \u7acb\u5373\u4e0b\u8f7d</code> \u4e0b\u8f7d ISO \u5236\u4f5c\u5de5\u5177 MediaCreationToolW11.exe</p> <p>2.\u4f7f\u7528\u6b65\u9aa41\u4e2d\u7684\u5de5\u5177\u5236\u4f5c Win 11 ISO \u6587\u4ef6</p> <p>3.\u4e0b\u8f7d \u8f6f\u5a92\u9b54\u65b9 \u540e\u6253\u5f00\u8f6f\u4ef6\uff0c\u5b89\u88c5\u201c\u786c\u76d8\u5b89\u88c5\u201d\u7ec4\u4ef6</p> <p>4.\u53c2\u89c1 \u6700\u5feb\u6700\u7b80\u5355\uff01Win10\u6b63\u5f0f\u7248\u786c\u76d8\u5b89\u88c5\u65b9\u6cd5\u8be6\u89e3 \u4e00\u6b65\u6b65\u5b89\u88c5\u7cfb\u7edf</p> <p>5.\u5b89\u88c5\u5b8c\u6210\u540e\u5220\u9664\u6b65\u9aa44\u4e2d\u89e3\u538b\u7684\u7cfb\u7edf\u6587\u4ef6\uff0c\u6b65\u9aa42\u4e2d\u5236\u4f5c\u7684 ISO \u6587\u4ef6\u4e5f\u53ef\u5220\u9664</p> <p>6.\u7cfb\u7edf\u901a\u8fc7\u786c\u76d8\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5378\u8f7d\u8f6f\u5a92\u9b54\u65b9</p> <p>7.\u70b9\u51fb\u7cfb\u7edf\u66f4\u65b0\uff0c\u66f4\u65b0\u5fc5\u8981\u7684\u9a71\u52a8\u7a0b\u5e8f</p> <p>8.\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u7cfb\u7edf</p>"},{"location":"notes/guideline/how-to-setup-dev-machine/","title":"\u5982\u4f55\u5feb\u901f\u914d\u7f6e\u4e00\u4e2a\u5f00\u53d1\u73af\u5883\uff1f","text":""},{"location":"notes/guideline/how-to-setup-dev-machine/#_2","title":"\u5b89\u88c5\u8f6f\u4ef6","text":"<ol> <li>\u5b89\u88c5\u5f00\u53d1\u5de5\u5177</li> <li>VSCode</li> <li>Git</li> <li>WSL</li> <li>Python</li> </ol> <ol> <li> <p>\u914d\u7f6e\u5f00\u53d1\u5de5\u5177</p> </li> <li> <p>\u914d\u7f6e\u8f6f\u4ef6\u5b89\u88c5\u6e90</p> </li> <li>\u5907\u4efd\u9ed8\u8ba4\u5b89\u88c5\u6e90\uff1a<code>sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak</code></li> <li>\u66ff\u6362\u9ed8\u8ba4\u5b89\u88c5\u6e90\uff1a<code>sudo vim /etc/apt/sources.list</code> <pre><code>deb http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse\n</code></pre></li> <li>\u66f4\u65b0\u6e90\uff1a<code>sudo apt-get update</code></li> <li> <p>\u66f4\u65b0\u8f6f\u4ef6\uff1a<code>sudo apt-get upgrade</code></p> </li> <li> <p>Git</p> </li> <li>\u914d\u7f6egit\u7528\u6237\u540d\u548c\u90ae\u7bb1     <pre><code>git config --global user.name \"username\"\ngit config --global user.email \"useremail@test.com\"\n</code></pre></li> <li>\u751f\u6210SSH\u5bc6\u94a5\uff1a<code>ssh-keygen -t rsa -C \"useremail@test.com\"</code></li> <li>\u62f7\u8d1d id_rsa.pub \u5185\u5bb9: <code>cat ~/.ssh/id_rsa.pub</code></li> <li> <p>\u5c06 id_rsa.pub \u5185\u5bb9\u6dfb\u52a0\u5230 GitHub</p> </li> <li> <p>Python</p> </li> <li> <p>\u5b89\u88c5pip3\uff1a     <pre><code>sudo apt-get install python3-pip\n</code></pre></p> </li> <li> <p>\u5b89\u88c5\u865a\u62df\u73af\u5883\uff1a     <pre><code>sudo apt install virtualenv\nsudo apt install virtualenvwrapper\n</code></pre></p> </li> <li> <p>virtualenvwrapper \u64cd\u4f5c\u865a\u62df\u73af\u5883\u5e38\u7528\u547d\u4ee4\uff1a     <pre><code>mkvirtualenv &lt;env_name&gt;\nlsvirtualenv\nworkon\nworkon &lt;env_name&gt;\nrmvirtualenv &lt;env_name&gt;\n</code></pre></p> </li> <li> <p>\u7ec8\u7aef</p> </li> <li> <p>\u5b89\u88c5\u7ec8\u7aef\uff1a     <pre><code>sudo apt-get install zsh\nsh -c \"$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"\n</code></pre></p> </li> <li> <p>\u5b89\u88c5\u63d2\u4ef6\uff1a     <pre><code>git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\n</code></pre></p> </li> <li> <p>\u914d\u7f6e\u7ec8\u7aef     <pre><code>export ZSH=\"$HOME/.oh-my-zsh\"\n\nZSH_THEME=\"robbyrussell\"\n\nplugins=(\n        git\n        zsh-autosuggestions\n        zsh-syntax-highlighting\n)\n\nsource $ZSH/oh-my-zsh.sh\n\n\n# Python Virtual Env\nexport WORKON_HOME=~/.virtualenvs\nexport VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3\nexport VIRTUALENVWRAPPER_VIRTUALENV=/usr/bin/virtualenv\nsource /usr/share/virtualenvwrapper/virtualenvwrapper.sh\n\nsource $ZSH_CUSTOM/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\nsource $ZSH_CUSTOM/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\n</code></pre></p> </li> </ol>"},{"location":"notes/guideline/how-to-use-mac-os/","title":"\u5982\u4f55\u5feb\u901f\u4e0a\u624b Mac OS?","text":""},{"location":"notes/guideline/how-to-use-mac-os/#_1","title":"\u754c\u9762\u548c\u5e03\u5c40","text":"<ul> <li>\u83dc\u5355\u680f</li> <li>\u684c\u9762</li> <li>\u7a0b\u5e8f\u575e</li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_2","title":"\u83dc\u5355\u680f","text":"<ul> <li>\u59cb\u7ec8\u663e\u793a\u5f53\u524d\u9009\u4e2d\u7684\u7a0b\u5e8f\u83dc\u5355</li> <li>\u6240\u6709\u7a0b\u5e8f\u7684\u83dc\u5355\u4f4d\u7f6e\u4fdd\u6301\u7edf\u4e00</li> <li>\u4e0d\u906e\u6321\u7a0b\u5e8f</li> <li>\u64cd\u4f5c\u4e60\u60ef\u7edf\u4e00</li> <li>\u754c\u9762\u7f8e\u89c2</li> <li>\u72b6\u6001\u83dc\u5355(\u53f3\u4e0a\u89d2)</li> <li>\u6309\u4f4f Command \u952e\u540e<ul> <li>\u5de6\u53f3\u79fb\u52a8\u9f20\u6807\u4f4d\u7f6e\u8c03\u6574\u72b6\u6001\u56fe\u6807\u5148\u540e\u4f4d\u7f6e</li> <li>\u9f20\u6807\u5411\u4e0b\u62d6\u52a8\u79fb\u9664\u67d0\u72b6\u6001\u56fe\u6807</li> <li>\u8bef\u5220\u65f6\u95f4icon\u627e\u56de\u65b9\u5f0f\uff1a\u8bbe\u7f6e &gt; \u65e5\u671f\u4e0e\u65f6\u95f4 &gt; \u5728\u83dc\u5355\u680f\u4e2d\u663e\u793a\u65e5\u671f\u548c\u65f6\u95f4</li> </ul> </li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_3","title":"\u684c\u9762","text":"<ul> <li>\u7a0b\u5e8f\u5b89\u88c5\u540e\u6ca1\u6709\u6743\u9650\u81ea\u52a8\u628a\u56fe\u6807\u653e\u5728\u684c\u9762\u4e0a\uff0c\u5df2\u5b89\u88c5\u7a0b\u5e8f\u81ea\u52a8\u6dfb\u52a0\u5230\u542f\u52a8\u53f0</li> <li>\u591a\u684c\u9762</li> <li>\u6dfb\u52a0\u684c\u9762<ul> <li>F3</li> <li>\u89e6\u63a7\u677f\u56db\u6307\u5411\u4e0a\u63a8</li> </ul> </li> <li>\u5206\u914d\u684c\u9762<ul> <li>\u9f20\u6807\u62d6\u52a8\u7a0b\u5e8f\u5230\u6307\u5b9a\u684c\u9762</li> </ul> </li> <li>\u5220\u9664\u684c\u9762<ul> <li>F3 \u6216 \u89e6\u63a7\u677f\u56db\u6307\u5411\u4e0a\u63a8 \u8fdb\u5165\u5230\u591a\u684c\u9762\u89c6\u56fe\uff0c\u70b9\u51fb\u684c\u9762\u5de6\u4e0a\u89d2 x</li> </ul> </li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_4","title":"\u7a0b\u5e8f\u575e","text":"<ul> <li>\u62d6\u52a8\u7a0b\u5e8f\u5230\u7a0b\u5e8f\u575e(\u5206\u5272\u7ebf\u5de6\u4fa7)</li> <li>\u62d6\u52a8\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u5230\u7a0b\u5e8f\u575e(\u5206\u5272\u7ebf\u53f3\u4fa7)</li> <li>\u53f3\u952e\u70b9\u51fb<ul> <li>\u663e\u793a\u5185\u5bb9\u4e3a\uff1a\u6247\u72b6/\u7f51\u683c/\u5217\u8868/\u81ea\u52a8</li> </ul> </li> <li>\u5f80\u5916\u62d6\u52a8\u7a0b\u5e8f\u79fb\u9664</li> <li>\u6279\u91cf\u9009\u4e2d\u62d6\u52a8\u5230\u7a0b\u5e8f\u575e\u6279\u91cf\u6dfb\u52a0\u7a0b\u5e8f(\u53ef\u653e\u7f6e100+)</li> <li>\u9f20\u6807\u79fb\u5230\u5230\u7a0b\u5e8f\u575e\u5206\u9694\u7ebf\u5411\u4e0a\u5411\u4e0b\u62d6\u52a8\u6765\u653e\u5927\u7f29\u5c0f</li> <li>\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e &gt; \u7a0b\u5e8f\u575e</li> <li>\u542f\u7528\u653e\u5927\uff1a\u542f\u7528\u9f20\u6807hover on\u6548\u679c</li> <li>\u7a0b\u5e8f\u663e\u793a\u6307\u793a\u706f\uff1a\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e &gt; \u7a0b\u5e8f\u575e &gt; \u7a0b\u5e8f\u663e\u793a\u6307\u793a\u706f<ul> <li>\u6307\u793a\u706f\u4eae\uff1a\u540e\u53f0\u8fd0\u884c</li> <li>\u6307\u793a\u706f\u706d\uff1a\u7a0b\u5e8f\u5b8c\u5168\u5173\u95ed</li> </ul> </li> <li>\u9f20\u6807\u957f\u6309\u9f20\u6807</li> <li>\u9000\u51fa\uff1a\u5b8c\u5168\u9000\u51fa\u7a0b\u5e8f</li> <li>\u9009\u9879 &gt; \u5206\u914d\u7ed9\uff1a\u5206\u914d\u7a0b\u5e8f\u5230\u67d0\u4e2a\u684c\u9762</li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_5","title":"\u5feb\u6377\u952e","text":"\u5feb\u6377\u952e \u63cf\u8ff0 Delete \u5220\u9664\u5149\u6807\u5de6\u8fb9\u7684\u5185\u5bb9 Fn + Delete \u5220\u9664\u5149\u6807\u53f3\u8fb9\u7684\u5185\u5bb9 Command + Q \u5b8c\u5168\u9000\u51fa\u7a0b\u5e8f Command + W \u5173\u95ed\u7a97\u53e3 Command + C \u590d\u5236 Command + V \u7c98\u8d34 Command + ` \u5207\u6362\u540c\u4e00\u7a0b\u5e8f\u7684\u4e0d\u540c\u7a97\u53e3 Command + Tab \u5207\u6362\u7a0b\u5e8f Command + Tab, Command + Q \u5207\u6362\u7a0b\u5e8f\u5e76\u5173\u95ed\u7a0b\u5e8f Option + Command + V \u526a\u5207 Command + N \u65b0\u5efa\u7a97\u53e3 Command + T \u65b0\u5efa\u6807\u7b7e\u9875 Command + Delete \u5220\u9664\u81f3\u5e9f\u7eb8\u7bd3 Command + Shift + 3 \u622a\u53d6\u6574\u4e2a\u5c4f\u5e55(\u4fdd\u5b58\u4e8e\u684c\u9762) Command + Shift + Control + 3 \u622a\u53d6\u6574\u4e2a\u5c4f\u5e55(\u4fdd\u5b58\u4e8e\u526a\u5207\u677f, \u901a\u8fc7 Command + V \u7c98\u8d34) Command + Shift + 4, \u9f20\u6807\u9009\u4e2d\u533a\u57df \u622a\u53d6\u9f20\u6807\u9009\u4e2d\u533a\u57df(\u4fdd\u5b58\u4e8e\u526a\u5207\u677f) Command + Shift + 4\u6fc0\u6d3b\u622a\u56fe\u540e\u677e\u5f00\uff0c\u6309\u4e0bControl\uff0c\u9f20\u6807\u9009\u4e2d\u533a\u57df \u622a\u53d6\u9f20\u6807\u9009\u4e2d\u533a\u57df(\u4fdd\u5b58\u4e8e\u684c\u9762) Command + Shift + 4\u6fc0\u6d3b\u622a\u56fe\u540e\u677e\u5f00\uff0c\u6309\u4e0b\u7a7a\u683c\uff0c\u9f20\u6807\u6216\u89e6\u63a7\u677f\u9009\u4e2d\u76ee\u6807\u7a0b\u5e8f \u7cbe\u51c6\u622a\u53d6\u7a0b\u5e8f\u754c\u9762(\u4fdd\u5b58\u4e8e\u684c\u9762) Command + Shift + 4, Esc \u53d6\u6d88\u622a\u56fe\u64cd\u4f5c Option + Command + Delete \u5f7b\u5e95\u5220\u9664 Option + Command + Esc \u5f3a\u5236\u9000\u51fa\u7a0b\u5e8f Command + Contril + D \u624b\u52a8\u5524\u9192\u5b57\u5178\u67e5\u8be2 Command + Z \u8fd8\u539f\u4e0a\u4e00\u6b65\u64cd\u4f5c(\u53ef\u64a4\u9500\u4efb\u610f\u64cd\u4f5c) Command + \u7a7a\u683c \u6253\u5f00\u641c\u7d22\u6846 Command + \u70b9\u51fb\u9f20\u6807\u5de6\u952e \u7b49\u6548\u4e8e\u70b9\u51fb\u9f20\u6807\u53f3\u952e Command + \u9f20\u6807\u5de6\u952e\u9875\u9762\u94fe\u63a5 \u5728\u6d4f\u89c8\u5668\u65b0\u7684Tab\u9875\u6253\u5f00\u94fe\u63a5 <p>Note:</p> <ol> <li>Mac \u4e2d\u7684\u64a4\u9500\u529f\u80fd\u6781\u5176\u5f3a\u5927(Command + Z):</li> <li>\u64a4\u9500\u91cd\u547d\u540d</li> <li>\u64a4\u9500\u6587\u4ef6\u79fb\u52a8\u64cd\u4f5c</li> <li>\u64a4\u9500\u6587\u4ef6\u5220\u9664\u64cd\u4f5c</li> <li>\u627e\u56de\u4e0d\u5c0f\u5fc3\u5173\u6389\u7684\u7f51\u9875</li> <li>\u627e\u56de\u4e0d\u5c0f\u5fc3\u5220\u9664\u7684\u6587\u672c\u7b49</li> <li>\u57fa\u672c\u4e0a\u53ef\u4ee5\u62ef\u6551\u4f60\u6240\u6709\u7684\u624b\u6ed1\u5931\u8bef</li> <li>Mac\u4e2d\u6240\u6709\u64cd\u4f5c\u90fd\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5feb\u6377\u952e</li> <li>\u6dfb\u52a0\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\u65f6\uff0c\u83dc\u5355\u6807\u9898\u5fc5\u987b\u4e0e\u8981\u6dfb\u52a0\u7684\u64cd\u4f5c\u540d\u79f0\u5b8c\u5168\u5339\u914d</li> <li>\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\uff1a\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e &gt; \u952e\u76d8 &gt; \u5feb\u6377\u952e &gt; \u5e94\u7528\u5feb\u6377\u952e &gt; \u6dfb\u52a0(+) &gt; \u8bbf\u8fbe &gt; \u6807\u8bb0...</li> <li>\u4f7f\u7528\u805a\u7126\u641c\u7d22\u540e\uff0c\u4f7f\u7528 Command + L \u5feb\u901f\u5b9a\u4f4d\u81f3\u5b57\u5178\u67e5\u8be2\u7ed3\u679c</li> </ol> <p></p>"},{"location":"notes/guideline/how-to-use-mac-os/#_6","title":"\u8f93\u5165\u6cd5","text":"<ul> <li>\u4f7f\u7528\u539f\u751f\u8f93\u5165\u6cd5\u8f93\u5165\u6587\u5b57\uff0c\u9047\u5230\u7ffb\u9875\u65f6\uff0c\u5c0f\u62c7\u6307\u6309 } (\u53cd\u62ec\u53f7)\u53ef\u5b9e\u73b0\u7ffb\u9875</li> <li>\u6df7\u5408\u8f93\u5165\u4e2d\u6587/\u82f1\u6587/\u6570\u5b57(Demo: C\u533a7\u680b10\u697c)</li> <li>\u6309\u4f4f Shift\uff0c\u53ef\u8f93\u5165\u5927\u5199\u5b57\u6bcd</li> <li>\u6309\u4f4f Option\uff0c\u53ef\u8f93\u5165\u6570\u5b57</li> <li>\u62c6\u5b57\u8f93\u5165\uff1a\u5f20\u6dfc -&gt; \u5f20\u6c34\u6c34 + Shift + \u7a7a\u683c</li> <li>\u6807\u6ce8\u58f0\u8c03</li> <li>\u62fc\u97f3\u95f4\u9694(xi'an)</li> <li>Emoji\u8f93\u5165(Command + Control + \u7a7a\u683c)</li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_7","title":"\u89e6\u63a7\u677f","text":"\u624b\u52bf \u63cf\u8ff0 \u5355\u6307\u5feb\u901f\u6447\u4e00\u6447 \u653e\u5230\u5149\u6807\uff0c\u5feb\u901f\u5b9a\u4f4d\u9f20\u6807\u6307\u9488\u4f4d\u7f6e \u5355\u6307\u8f7b\u70b9(\u5b8c\u5168\u4e0d\u7528\u529b\u70b9\u6309) \u7b49\u6548\u4e8e\u9f20\u6807\u5de6\u952e\u70b9\u51fb \u5355\u6307\u7528\u529b\u70b9\u6309(\u79fb\u52a8\u5230\u5355\u8bcd\u533a\u57df\u5373\u53ef\uff0c\u65e0\u987b\u9009\u4e2d\u5355\u8bcd) \u5355\u8bcd\u7ffb\u8bd1\u7b49 \u5728\u6d4f\u89c8\u5668\u4e2d\u7528\u529b\u70b9\u6309\u94fe\u63a5 \u76ee\u6807\u9875\u9762\u9884\u89c8 \u53cc\u6307\u8f7b\u70b9 \u7b49\u6548\u4e8e\u9f20\u6807\u53f3\u952e\u70b9\u51fb \u53cc\u6307\u4e0a\u4e0b\u6eda\u52a8 \u5782\u76f4\u65b9\u5411\u6eda\u52a8\u9875\u9762 \u53cc\u6307\u5feb\u901f\u4e00\u62e8 \u5feb\u901f\u89e6\u8fbe\u9875\u9762\u9876\u90e8\u6216\u5e95\u90e8 \u53cc\u6307\u634f\u5408 \u7f29\u5c0f \u53cc\u6307\u6491\u5f00 \u653e\u5927 \u53cc\u6307\u65cb\u8f6c \u65cb\u8f6c \u53cc\u6307\u8f7b\u70b9\u4e24\u4e0b \u667a\u80fd\u7f29\u653e \u53cc\u6307\u4ece\u53f3\u8fb9\u7f18\u8fdb\u5165 \u5411\u5de6\u8f7b\u626b/\u5411\u53f3\u8f7b\u626b \u6253\u5f00/\u9690\u85cf \u901a\u77e5\u4e2d\u5fc3 \u53cc\u6307\u4ece\u53f3\u8fb9\u7f18\u8fdb\u5165 \u5411\u5de6\u8f7b\u626b/\u5411\u53f3\u8f7b\u626b \u6253\u5f00/\u9690\u85cf \u901a\u77e5\u4e2d\u5fc3 \u5355\u6307\u79fb\u52a8\u5149\u6807\u5b9a\u4f4d\u79fb\u52a8\u76ee\u6807\u533a\u57df(\u65e0\u987b\u9009\u4e2d)\uff0c\u4e09\u6307\u653e\u4e0b\u53ef\u8fdb\u884c\u62d6\u62fd \u62d6\u62fd\u9009\u53d6 \u56db\u6307\u5de6\u53f3\u8f7b\u626b \u5728\u5168\u5c4f\u5e94\u7528\u7a0b\u5e8f\u548c\u4e0d\u540c\u684c\u9762\u4e4b\u95f4\u8fdb\u884c\u5207\u6362 \u56db\u6307\u5411\u4e0a\u8f7b\u626b \u6253\u5f00\u8c03\u5ea6\u4e2d\u5fc3 \u56db\u6307\u5411\u4e0b\u8f7b\u626b \u5c06\u5f53\u524d\u9009\u4e2d\u7684\u7a0b\u5e8f\u7684\u591a\u4e2a\u6253\u5f00\u7a97\u53e3\u5e73\u94fa\u5230\u684c\u9762\u4e0a \u5927\u62c7\u6307\u548c\u5176\u4ed6\u4e09\u4e2a\u624b\u6307\u634f\u5408 \u6253\u5f00\u542f\u52a8\u53f0 \u5927\u62c7\u6307\u548c\u5176\u4ed6\u4e09\u4e2a\u624b\u6307\u6491\u5f00 \u663e\u793a\u684c\u9762 <p>NOTE:</p> <ol> <li>\u4e09\u6307\u62d6\u79fb\u5728\u7cfb\u7edf\u4e2d\u9ed8\u8ba4\u672a\u5f00\u542f\uff0c\u542f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e &gt; \u8f85\u52a9\u529f\u80fd &gt; \u9f20\u6807\u4e0e\u89e6\u63a7\u677f &gt; \u89e6\u63a7\u677f\u9009\u9879 &gt; \u542f\u7528\u62d6\u79fb &gt; \u4e09\u6307\u62d6\u79fb</li> <li>\u4e3a\u786e\u4fdd\u89e6\u63a7\u677f\u6240\u6709\u624b\u52bf\u53ef\u7528\uff0c\u8bf7\u786e\u4fdd\u89e6\u63a7\u677f\u8bbe\u7f6e\u91cc\u9762\u6240\u6709\u7684\u9009\u9879\u90fd\u88ab\u52fe\u9009(\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e &gt; \u89e6\u63a7\u677f &gt; \u52fe\u9009\u6240\u6709Tab\u590d\u9009\u6846)</li> </ol> <p></p>"},{"location":"notes/guideline/how-to-use-mac-os/#_8","title":"\u805a\u7126\u641c\u7d22","text":"<ul> <li>\u4e2d\u6587\u641c\u7d22</li> <li>\u62fc\u97f3\u641c\u7d22</li> <li>\u641c\u7d22\u6587\u4ef6</li> <li>\u641c\u7d22\u7a0b\u5e8f</li> <li>\u6253\u5f00\u7a0b\u5e8f</li> <li>\u53ef\u5c06\u641c\u7d22\u7684\u7a0b\u5e8f\u62d6\u62fd\u5230\u7a0b\u5e8f\u575e</li> <li>\u7f51\u7edc\u641c\u7d22</li> <li> <ol> <li>\u8f93\u5165\u641c\u7d22\u5173\u952e\u8bcd</li> </ol> </li> <li> <ol> <li>Command + B \u4e00\u952e\u76f4\u8fbe</li> </ol> </li> <li>\u8ba1\u7b97\u5668</li> <li>\u5355\u4f4d\u6362\u7b97(1\u5bf8\uff0c1\u76ce\u53f8)</li> <li>\u70b9\u51fb\u6253\u5f00\u6587\u4ef6</li> <li>Command + \u53cc\u51fb\u6587\u4ef6\uff0c\u5c06\u4f1a\u6253\u5f00\u6587\u4ef6\u6240\u5728\u76ee\u5f55\u5e76\u9009\u4e2d\u8be5\u6587\u4ef6</li> <li>\u62d6\u62fd\u641c\u7d22\u7ed3\u679c\u6587\u4ef6\u5230\u6307\u5b9a\u4f4d\u7f6e(\u5982\u4f5c\u4e3a\u90ae\u4ef6\u9644\u4ef6\u5185\u5bb9)</li> <li>Command + \u62d6\u62fd\u641c\u7d22\u7ed3\u679c\uff0c\u53ef\u590d\u5236\u641c\u7d22\u6587\u4ef6\u5230\u6307\u5b9a\u4f4d\u7f6e</li> <li>\u5ef6\u65f6\u622a\u5c4f(\u9002\u7528\u4e8e\u622a\u53d6\u5c4f\u4fdd/\u9501\u5c4f\u7b49\u4e0d\u80fd\u901a\u8fc7\u952e\u76d8\u64cd\u4f5c\u89e6\u53d1\u7684\u622a\u56fe\u573a\u666f)</li> <li>Command + \u7a7a\u683c\uff0c\u6253\u5f00 \u6293\u56fe \u7a0b\u5e8f</li> <li>\u9876\u90e8\u83dc\u5355\u680f\uff1a\u6355\u6349 &gt; \u5c4f\u5e55\u5b9a\u65f6 &gt; \u542f\u52a8\u5b9a\u65f6\u5668</li> <li>\u56de\u5230\u8981\u622a\u5c4f\u7684\u754c\u9762\uff0c\u7b49\u5f85\u81ea\u52a8\u622a\u5c4f\u64cd\u4f5c</li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_9","title":"\u6587\u4ef6\u7ba1\u7406","text":"<ul> <li>\u65e0\u78c1\u76d8\u5206\u533a\uff0c\u6240\u6709\u6587\u4ef6\u90fd\u5728\u4e00\u4e2a\u76d8\u7b26\u91cc</li> <li>\u5e38\u89c1\u6587\u4ef6\u7c7b\u578b\uff1a\u6587\u7a3f/\u56fe\u7247/\u5f71\u7247/\u97f3\u4e50</li> <li>\u6587\u4ef6\u53e6\u5b58\u4e3a</li> <li>\u81ea\u5b9a\u4e49\u76ee\u5f55\u5c42\u7ea7\uff1a\u5b58\u50a8\u4e3a &gt; \u4e0b\u62c9\u7bad\u5934</li> <li>\u6587\u7a3f/\u56fe\u7247/\u5f71\u7247/\u97f3\u4e50\uff1a\u4f4d\u7f6e</li> <li>\u6587\u4ef6\u9884\u89c8</li> <li>\u9884\u89c8/\u5173\u95ed \u9884\u89c8\uff0c\u90fd\u662f\u6309\u952e\u76d8\u7a7a\u683c\u952e</li> <li>\u652f\u6301\u4efb\u610f\u6587\u4ef6\u7684\u9884\u89c8</li> <li>\u9884\u89c8\u901f\u5ea6\u6781\u5feb\uff0c\u751a\u81f3\u4f18\u4e8e\u624b\u52a8\u6253\u5f00\u539f\u59cb\u6587\u4ef6\u901f\u5ea6</li> <li>\u9884\u89c8\u6548\u679c\u4e0e\u624b\u52a8\u6253\u5f00\u6587\u4ef6\u6548\u679c\u5b8c\u5168\u4e00\u81f4</li> <li>\u6587\u4ef6\u64cd\u4f5c</li> <li>\u590d\u5236<ul> <li>\u9f20\u6807\u53f3\u952e &gt; \u590d\u5236</li> <li>Command + C, Command + V</li> <li>Option + \u9f20\u6807\u62d6\u62fd</li> <li>\u4ece\u79fb\u52a8\u78c1\u76d8\u62d6\u62fd\u9ed8\u8ba4\u662f\u590d\u5236\u64cd\u4f5c(\u4e0d\u662f\u526a\u5207\u64cd\u4f5c)</li> </ul> </li> <li>\u526a\u5207<ul> <li>\u6587\u4ef6\u526a\u5207</li> <li>Command + C</li> <li>Option + Command + V</li> <li>\u4e4b\u540e\u7ee7\u7eed  Command + V \u53ef\u4ee5\u8fde\u7eed\u5728\u4efb\u610f\u4f4d\u7f6e\u7c98\u8d34</li> <li>\u6587\u672c\u526a\u5207\uff1aCommand + X</li> </ul> </li> <li>\u79fb\u52a8(\u6216\u526a\u5207)\uff1a\u9f20\u6807\u62d6\u62fd</li> <li>\u5220\u9664\uff1a<ul> <li>\u5e9f\u7eb8\u7bd3\uff1aCommand + Delete</li> <li>\u5f7b\u5e95\u5220\u9664\uff1aOption + Command + Delete</li> </ul> </li> <li>\u9009\u62e9\u6587\u4ef6</li> <li>\u5355\u9009<ul> <li>\u9f20\u6807\u5149\u6807\u9760\u8fd1\u6587\u4ef6\u540d\uff0c\u7cfb\u7edf\u6fc0\u6d3b\u5355\u9009\u6587\u4ef6</li> </ul> </li> <li>\u591a\u9009<ul> <li>\u6307\u5b9a\u6587\u4ef6\u9009\u4e2d\uff1aCommand + \u9f20\u6807\u70b9\u51fb</li> <li>\u8fde\u7eed\u6587\u4ef6\u9009\u4e2d\uff1a\u9f20\u6807\u70b9\u51fb\u8d77\u59cb\u6587\u4ef6 + Shift + \u9f20\u6807\u70b9\u51fb\u7ed3\u675f\u6587\u4ef6</li> <li>\u9f20\u6807\u62d6\u62fd\u591a\u6587\u4ef6\u9009\u4e2d\uff1a\u9f20\u6807\u5149\u6807\u79bb\u5f00\u6587\u4ef6\u540d\uff0c\u79fb\u52a8\u5149\u6807\uff0c\u7cfb\u7edf\u6fc0\u6d3b\u591a\u9009\u6587\u4ef6</li> </ul> </li> <li>\u5168\u9009\uff1aCommand + A</li> <li>\u6309\u4f4f Command \u952e\uff0c\u53ef\u5728\u4e0d\u5f71\u54cd\u5f53\u524d\u7a97\u53e3\u7f6e\u9876\u72b6\u6001\u7684\u60c5\u51b5\u4e0b\u64cd\u4f5c\u5f53\u524d\u7a97\u53e3\u80cc\u540e\u7684\u7a97\u53e3</li> <li>\u8bbf\u8fbe</li> <li>\u5de6\u4fa7\u83dc\u5355\u8bbe\u7f6e\uff1a\u8bbf\u8fbe &gt; \u504f\u597d\u8bbe\u7f6e &gt; \u8fb9\u680f</li> <li>\u901a\u8fc7\u8f6f\u4ef6\u4e0b\u8f7d\u7684\u6587\u4ef6\u9ed8\u8ba4\u653e\u5728\u8bbf\u8fbe\u7684\u4e0b\u8f7d\u76ee\u5f55\u4e0b</li> <li>\u7cfb\u7edf\u5185\u5176\u4ed6\u7c7b\u578b\u6587\u4ef6\u4f1a\u81ea\u52a8\u653e\u5728\u5bf9\u5e94\u6587\u4ef6\u7c7b\u578b\u7684\u76ee\u5f55\u4e0b(\u6587\u7a3f/\u56fe\u7247/\u5f71\u7247/\u97f3\u4e50)</li> <li>\u65b0\u5efa\u6587\u4ef6\u5939<ul> <li>\u9f20\u6807\u5728\u7a7a\u767d\u90e8\u4f4d\u53f3\u952e\u5355\u51fb</li> <li>\u9876\u90e8\u83dc\u5355\u680f\uff1a\u6587\u4ef6 &gt; \u65b0\u5efa\u6587\u4ef6\u5939</li> <li>\u591a\u9009\u6587\u4ef6 &gt; \u9f20\u6807\u53f3\u952e\u70b9\u51fb &gt; \u7528\u6240\u9009\u9879\u76ee\u65b0\u5efa\u6587\u4ef6\u5939</li> </ul> </li> <li>\u91cd\u547d\u540d<ul> <li>\u9f20\u6807\u53f3\u952e\u70b9\u51fb &gt; \u91cd\u65b0\u547d\u540d</li> <li>\u9009\u4e2d\u6587\u4ef6 &gt; \u56de\u8f66 &gt; \u91cd\u547d\u540d</li> </ul> </li> <li>\u8bbf\u8fbe\u6587\u4ef6\u663e\u793a\u65b9\u5f0f(\u9876\u90e8\u5feb\u6377\u65b9\u5f0f\u56fe\u6807\u5207\u6362)<ul> <li>\u56fe\u6807</li> <li>\u5217\u8868</li> <li>\u5206\u680f\uff1a\u9002\u7528\u4e8e\u6587\u4ef6\u5c42\u7ea7\u8f83\u6df1\u573a\u666f</li> <li>\u5c01\u9762\u6d41\uff1a\u9002\u7528\u4e8e\u6d4f\u89c8\u56fe\u7247\u548c\u76f8\u5173\u7684\u6587\u4ef6</li> </ul> </li> <li>\u6807\u8bb0<ul> <li>\u6807\u8bb0\u6587\u4ef6</li> <li>\u901a\u8fc7\u6807\u8bb0\u8fc7\u6ee4\u6587\u4ef6</li> <li>\u901a\u8fc7\u6807\u8bb0\u5206\u7ec4\u663e\u793a\u6587\u4ef6</li> <li>\u901a\u8fc7\u6807\u8bb0\u7b5b\u9009\u51fa\u6765\u7684\u6587\u4ef6\u4e0e\u6587\u4ef6\u7269\u7406\u5b58\u653e\u4f4d\u7f6e\u65e0\u5173\uff0c\u65e0\u8bba\u5982\u4f55\u79fb\u52a8\u5747\u4e0d\u5f71\u54cd\u8fc7\u6ee4\u7ed3\u679c</li> <li>\u5c06\u901a\u8fc7\u6807\u8bb0\u8fc7\u6ee4\u51fa\u6765\u7684\u6587\u4ef6\u62d6\u52a8\u5230\u5176\u4ed6\u4f4d\u7f6e\uff0c\u4e5f\u4f1a\u6539\u53d8\u539f\u59cb\u6587\u4ef6\u7684\u5b58\u50a8\u8def\u5f84</li> <li>\u6807\u8bb0\u7d22\u5f15\u7684\u7ed3\u679c\u4e5f\u53ef\u4ee5\u50cf\u666e\u901a\u6587\u4ef6\u5939\u4e00\u6837\u6dfb\u52a0\u5230\u7a0b\u5e8f\u575e\uff0c\u65b9\u4fbf\u5feb\u901f\u8c03\u7528</li> <li>\u5de6\u4fa7\u83dc\u5355\uff1a\u8bbf\u8fbe &gt; \u6807\u8bb0 &gt; \u9f20\u6807\u62d6\u52a8\u5230\u7a0b\u5e8f\u575e(\u5206\u5272\u7ebf\u53f3\u4fa7)</li> <li>\u8de8\u8bbe\u5907\u590d\u5236\u6587\u4ef6\u4f1a\u4fdd\u7559\u6587\u4ef6\u6807\u8bb0\u4fe1\u606f</li> <li>\u6807\u8bb0\u65b9\u5f0f</li> <li>\u901a\u8fc7\u8bbf\u8fbe\u4e2d\u7684\u6807\u8bb0\u56fe\u6807</li> <li>\u901a\u8fc7\u6587\u4ef6\u53e6\u5b58\u4e3a\u65f6\u6807\u8bb0</li> <li>\u901a\u8fc7\u9605\u8bfb\u6587\u4ef6\u65f6\u6807\u8bb0(\u9876\u90e8\u4e0b\u62c9\u7bad\u5934\u5904)</li> <li>\u901a\u8fc7\u684c\u9762\u9009\u4e2d\u6587\u4ef6\u53f3\u952e\u6807\u8bb0</li> <li>\u5220\u9664\u6807\u8bb0</li> <li>\u9009\u4e2d\u6587\u4ef6\uff0c\u9009\u4e2d\u6807\u8bb0\uff0c\u6309\u952e\u76d8Del</li> <li>\u5de6\u4fa7\u83dc\u5355\uff1a\u8bbf\u8fbe &gt; \u6807\u8bb0 &gt; \u53f3\u952e &gt; \u5220\u9664\u6807\u8bb0xxx</li> <li>\u4ec5\u5220\u9664\u6807\u8bb0\uff0c\u4e0d\u4f1a\u5220\u9664\u88ab\u6807\u8bb0\u8fc7\u7684\u6587\u4ef6</li> <li>\u4e2a\u6027\u5316\u8bbe\u7f6e</li> <li>\u5de6\u4fa7\u83dc\u5355\uff1a\u8bbf\u8fbe &gt; \u6807\u8bb0 &gt; \u53f3\u952e</li> <li>\u9876\u90e8\u83dc\u5355\u680f\uff1a\u8bbf\u8fbe &gt; \u504f\u597d\u8bbe\u7f6e &gt; \u6807\u8bb0</li> <li>\u6807\u8bb0\u989c\u8272</li> <li>\u9ed8\u8ba4\u6807\u8bb0\u989c\u8272\u8f83\u5c11</li> <li>\u65b0\u589e\u6807\u8bb0\u65f6\u9ed8\u8ba4\u6ca1\u6709\u989c\u8272</li> <li>\u5e2e\u52a9\u4f60\u8bb0\u5fc6\u6587\u4ef6\u7684\u4e0d\u662f\u6837\u5f0f\uff0c\u800c\u662f\u4f60\u6807\u8bb0\u7684\u5185\u5bb9</li> <li>\u53ef\u6309\u9700\u81ea\u5b9a\u4e49\u989c\u8272\u5bf9\u5e94\u7684\u6807\u8bb0\u5185\u5bb9\uff0c\u5982\uff1a\u672a\u542f\u52a8\uff0c\u8fdb\u884c\u4e2d\uff0c\u88ab\u963b\u585e\uff0c\u5df2\u5b8c\u6210\uff0c\u8ddf\u8fdb\u4e2d\u7b49</li> </ul> </li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_10","title":"\u5feb\u6377\u6307\u4ee4","text":"<ul> <li>pass</li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_11","title":"\u5b89\u88c5\u548c\u5378\u8f7d","text":"<ul> <li>App Store &gt; \u641c\u7d22\u7a0b\u5e8f&gt; \u5b89\u88c5APP</li> <li>\u79bb\u7ebf\u5305\u5b89\u88c5</li> <li>.dmg\uff1a\u6253\u5f00\u6587\u4ef6 &gt; \u62d6\u62fd\u5230 Applications(\u901a\u8fc7\u8bbf\u8fbe\u5de6\u4fa7\u83dc\u5355 \u8bbe\u5907 &gt; xxx &gt; \u9000\u51fa\u6309\u94ae\u9000\u51fa\u5b89\u88c5\u5305)</li> <li>.pkg: \u53ef\u4e00\u76f4\u4e0b\u4e00\u6b65\uff0c\u65e0\u987b\u7279\u522b\u8bbe\u7f6e</li> <li>\u4f7fpkg\u683c\u5f0f\u5b89\u88c5\u7684\u7a0b\u5e8f\u6709\u4e9b\u4e0d\u4f1a\u51fa\u73b0\u5728\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5939\u91cc\uff0c\u800c\u662f\u4f5c\u4e3a\u7cfb\u7edf\u7684\u4e00\u4e2a\u652f\u6301\u7684\u6587\u4ef6\u5728\u9700\u8981\u7684\u65f6\u5019\u81ea\u52a8\u8fd0\u884c</li> <li>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u63d0\u793a\u6587\u4ef6\u5df2\u635f\u574f\uff1a\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e &gt; \u5b89\u5168\u4e0e\u9690\u79c1 &gt; \u901a\u7528 &gt; \u70b9\u51fb\u89e3\u9501\u56fe\u6807 &gt; \u52fe\u9009\u4efb\u4f55\u6765\u6e90</li> <li>\u663e\u793a\u5b89\u5168\u4e0e\u9690\u79c1 &gt; \u901a\u7528 &gt; \u70b9\u51fb\u89e3\u9501\u56fe\u6807 &gt; \u52fe\u9009\u4efb\u4f55\u6765\u6e90\u8bbe\u7f6e\u9879\uff1a</li> <li> <ol> <li>\u6253\u5f00\u7ec8\u7aef</li> </ol> </li> <li> <ol> <li>\u6267\u884c sudo spctl --master-disable \u547d\u4ee4</li> </ol> </li> <li>\u5728Mac\u4e2d\u7edd\u5927\u591a\u6570\u5b89\u88c5\u597d\u7684\u7a0b\u5e8f\u53ef\u4ee5\u76f4\u63a5\u62d6\u62fd\u5230U\u76d8\uff0c\u7136\u540e\u5b89\u88c5\u5230\u5176\u4ed6\u7535\u8111\u4e0a</li> <li>\u7a0b\u5e8f\u5378\u8f7d\uff1a</li> <li>\u5220\u9664\u4eceAPP\u5b89\u88c5\u7684\u7a0b\u5e8f\uff1a\u542f\u52a8\u53f0 &gt; \u9f20\u6807\u957f\u6309\u7a0b\u5e8f &gt; \u70b9\u51fb\u5de6\u4e0a\u89d2x</li> <li>\u5220\u9664\u79bb\u7ebf\u5b89\u88c5\u7684\u7a0b\u5e8f\uff1a\u8bbf\u8fbe &gt; \u5e94\u7528\u7a0b\u5e8f &gt; \u9009\u4e2d\u5f85\u5220\u9664\u7a0b\u5e8f &gt; \u62d6\u62fd\u5230\u5e9f\u7eb8\u7bd3</li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_12","title":"\u63a8\u8350\u8f6f\u4ef6","text":"<ul> <li>Parallels Desktop</li> <li>Paragon/Tuxera/NTFSTool</li> <li>Fliqlo</li> <li>CleanMyMac X/\u817e\u8baf\u67e0\u6aac</li> <li>IINA</li> <li>Keka</li> <li>\u6b27\u9646</li> <li>CheatSheet</li> <li>Spectacle</li> <li>Amphetamine</li> <li>Mos</li> <li>Mindnode</li> <li>DropOver</li> <li>iTerm 2</li> <li>Alfred</li> <li>Homebrew</li> <li>Downie 4</li> <li>Snipaste</li> <li>Magnet</li> <li>eZip</li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_13","title":"\u5f00\u53d1\u73af\u5883","text":"<ul> <li>Chrome</li> <li>Alfred</li> <li>iTerm 2</li> <li>oh-my-zsh</li> <li><code>sh -c \"$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"</code></li> <li>HomeBrew</li> <li><code>/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"</code></li> <li><code>brew -h</code></li> <li><code>brew search git</code></li> <li><code>brew install git</code></li> <li><code>brew install mysql</code></li> <li><code>brew service start mysql</code></li> <li>Python3</li> <li>Virtualenv</li> <li><code>pip3 install requests</code></li> <li><code>pip3 install --upgrade pip3</code></li> <li>git</li> <li><code>https://git-scm.com/download/mac</code></li> <li>vim</li> <li><code>brew install vim</code></li> </ul>"},{"location":"notes/guideline/how-to-use-mac-os/#_14","title":"\u76f8\u5173\u62d3\u5c55","text":"<ul> <li>MAC\u4e91\u8bfe\u5802</li> <li>MacBL.com</li> <li>Mac Setup</li> </ul>"},{"location":"notes/sop/git-flow/","title":"Git Flow","text":""},{"location":"notes/sop/git-flow/#git-commit","title":"git commit","text":"<ul> <li>\u63d0\u4ea4\u683c\u5f0f</li> </ul> <pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n\n&lt;body&gt;\n\n&lt;footer&gt;\n</code></pre> <p>\u5907\u6ce8\uff1a</p> <p>\u6807\u9898\u884c: \u5fc5\u586b, \u63cf\u8ff0\u4e3b\u8981\u4fee\u6539\u7c7b\u578b\u548c\u5185\u5bb9</p> <p>\u4e3b\u9898\u5185\u5bb9: \u63cf\u8ff0\u4e3a\u4ec0\u4e48\u4fee\u6539, \u505a\u4e86\u4ec0\u4e48\u6837\u7684\u4fee\u6539, \u4ee5\u53ca\u5f00\u53d1\u7684\u601d\u8def\u7b49\u7b49</p> <p>\u9875\u811a\u6ce8\u91ca: \u653e Breaking Changes \u6216 Closed Issues</p> <p></p> <ul> <li> <p>\u5b57\u6bb5\u8bf4\u660e</p> <ul> <li> <p>type</p> \u63d0\u4ea4\u7c7b\u578b \u7c7b\u578b\u63cf\u8ff0 feat \u65b0\u529f\u80fd\u3001\u65b0\u7279\u6027 fix \u4fee\u6539 bug perf \u66f4\u6539\u4ee3\u7801\uff0c\u4ee5\u63d0\u9ad8\u6027\u80fd\uff08\u5728\u4e0d\u5f71\u54cd\u4ee3\u7801\u5185\u90e8\u884c\u4e3a\u7684\u524d\u63d0\u4e0b\uff0c\u5bf9\u7a0b\u5e8f\u6027\u80fd\u8fdb\u884c\u4f18\u5316\uff09 refactor \u4ee3\u7801\u91cd\u6784\uff08\u91cd\u6784\uff0c\u5728\u4e0d\u5f71\u54cd\u4ee3\u7801\u5185\u90e8\u884c\u4e3a\u3001\u529f\u80fd\u4e0b\u7684\u4ee3\u7801\u4fee\u6539\uff09 docs \u6587\u6863\u4fee\u6539 style \u4ee3\u7801\u683c\u5f0f\u4fee\u6539, \u6ce8\u610f\u4e0d\u662f css \u4fee\u6539\uff08\u4f8b\u5982\u5206\u53f7\u4fee\u6539\uff09 test \u6d4b\u8bd5\u7528\u4f8b\u65b0\u589e\u3001\u4fee\u6539 build \u5f71\u54cd\u9879\u76ee\u6784\u5efa\u6216\u4f9d\u8d56\u9879\u4fee\u6539 revert \u6062\u590d\u4e0a\u4e00\u6b21\u63d0\u4ea4 ci \u6301\u7eed\u96c6\u6210\u76f8\u5173\u6587\u4ef6\u4fee\u6539 chore chore \u7684\u4e2d\u6587\u7ffb\u8bd1\u4e3a\u65e5\u5e38\u4e8b\u52a1\u3001\u4f8b\u884c\u5de5\u4f5c\uff0c\u987e\u540d\u601d\u4e49\uff0c\u5373\u4e0d\u5728\u5176\u4ed6 commit \u7c7b\u578b\u4e2d\u7684\u4fee\u6539\uff0c\u90fd\u53ef\u4ee5\u7528 chore \u8868\u793a release \u53d1\u5e03\u65b0\u7248\u672c workflow \u5de5\u4f5c\u6d41\u76f8\u5173\u6587\u4ef6\u4fee\u6539 </li> <li> <p>scope</p> <ul> <li>commit \u5f71\u54cd\u7684\u8303\u56f4, \u6bd4\u5982: route, component, utils, build...</li> </ul> </li> <li> <p>subject</p> <ul> <li>\u5bf9\u672c\u6b21\u63d0\u4ea4\u53d8\u66f4\u7684\u63cf\u8ff0\u8bf4\u660e</li> </ul> </li> <li> <p>body</p> <ul> <li>commit \u5177\u4f53\u4fee\u6539\u5185\u5bb9, \u53ef\u4ee5\u5206\u4e3a\u591a\u884c</li> </ul> </li> <li> <p>footer</p> <ul> <li>\u4e00\u4e9b\u5907\u6ce8, \u901a\u5e38\u662f BREAKING CHANGE \u6216\u4fee\u590d\u7684 bug \u7684\u94fe\u63a5.</li> </ul> </li> </ul> </li> </ul> <p></p> <ul> <li>\u63d0\u4ea4\u89c4\u8303<ul> <li>\u6bcf\u4e2a\u63d0\u4ea4\u90fd\u5fc5\u987b\u4f7f\u7528\u7c7b\u578b\u5b57\u6bb5\u524d\u7f00\uff0c\u5b83\u7531\u4e00\u4e2a\u540d\u8bcd\u7ec4\u6210\uff0c\u8bf8\u5982 feat \u6216 fix \uff0c\u5176\u540e\u63a5\u4e00\u4e2a\u53ef\u9009\u7684\u4f5c\u7528\u57df\u5b57\u6bb5\uff0c\u4ee5\u53ca\u4e00\u4e2a\u5fc5\u8981\u7684\u5192\u53f7\uff08\u82f1\u6587\u534a\u89d2\uff09\u548c\u7a7a\u683c</li> <li>\u5f53\u4e00\u4e2a\u63d0\u4ea4\u4e3a\u5e94\u7528\u6216\u7c7b\u5e93\u5b9e\u73b0\u4e86\u65b0\u7279\u6027\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528 feat \u7c7b\u578b</li> <li>\u5f53\u4e00\u4e2a\u63d0\u4ea4\u4e3a\u5e94\u7528\u4fee\u590d\u4e86 bug \u65f6\uff0c\u5fc5\u987b\u4f7f\u7528 fix \u7c7b\u578b</li> <li>\u4f5c\u7528\u57df\u5b57\u6bb5\u53ef\u4ee5\u8ddf\u968f\u5728\u7c7b\u578b\u5b57\u6bb5\u540e\u9762\u3002\u4f5c\u7528\u57df\u5fc5\u987b\u662f\u4e00\u4e2a\u63cf\u8ff0\u67d0\u90e8\u5206\u4ee3\u7801\u7684\u540d\u8bcd\uff0c\u5e76\u7528\u5706\u62ec\u53f7\u5305\u56f4\uff0c\u4f8b\u5982\uff1a fix(parser):</li> <li>\u63cf\u8ff0\u5b57\u6bb5\u5fc5\u987b\u7d27\u63a5\u5728\u7c7b\u578b/\u4f5c\u7528\u57df\u524d\u7f00\u7684\u7a7a\u683c\u4e4b\u540e\u3002\u63cf\u8ff0\u6307\u7684\u662f\u5bf9\u4ee3\u7801\u53d8\u66f4\u7684\u7b80\u77ed\u603b\u7ed3\uff0c\u4f8b\u5982\uff1a fix: array parsing issue when multiple spaces were contained in string.</li> <li>\u5728\u7b80\u77ed\u63cf\u8ff0\u4e4b\u540e\uff0c\u53ef\u4ee5\u7f16\u5199\u66f4\u957f\u7684\u63d0\u4ea4\u6b63\u6587\uff0c\u4e3a\u4ee3\u7801\u53d8\u66f4\u63d0\u4f9b\u989d\u5916\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\u6b63\u6587\u5fc5\u987b\u8d77\u59cb\u4e8e\u63cf\u8ff0\u5b57\u6bb5\u7ed3\u675f\u7684\u4e00\u4e2a\u7a7a\u884c\u540e</li> <li>\u5728\u6b63\u6587\u7ed3\u675f\u7684\u4e00\u4e2a\u7a7a\u884c\u4e4b\u540e\uff0c\u53ef\u4ee5\u7f16\u5199\u4e00\u884c\u6216\u591a\u884c\u811a\u6ce8\u3002\u811a\u6ce8\u5fc5\u987b\u5305\u542b\u5173\u4e8e\u63d0\u4ea4\u7684\u5143\u4fe1\u606f\uff0c\u4f8b\u5982\uff1a\u5173\u8054\u7684\u5408\u5e76\u8bf7\u6c42\u3001Reviewer\u3001\u7834\u574f\u6027\u53d8\u66f4\uff0c\u6bcf\u6761\u5143\u4fe1\u606f\u4e00\u884c</li> <li>\u7834\u574f\u6027\u53d8\u66f4\u5fc5\u987b\u6807\u793a\u5728\u6b63\u6587\u533a\u57df\u6700\u5f00\u59cb\u5904\uff0c\u6216\u811a\u6ce8\u533a\u57df\u4e2d\u67d0\u4e00\u884c\u7684\u5f00\u59cb\u3002\u4e00\u4e2a\u7834\u574f\u6027\u53d8\u66f4\u5fc5\u987b\u5305\u542b\u5927\u5199\u7684\u6587\u672c BREAKING CHANGE\uff0c\u540e\u9762\u7d27\u8ddf\u5192\u53f7\u548c\u7a7a\u683c</li> <li>\u5728 BREAKING CHANGE: \u4e4b\u540e\u5fc5\u987b\u63d0\u4f9b\u63cf\u8ff0\uff0c\u4ee5\u63cf\u8ff0\u5bf9 API \u7684\u53d8\u66f4\u3002\u4f8b\u5982\uff1a BREAKING CHANGE: environment variables now take precedence over config files.</li> <li>\u5728\u63d0\u4ea4\u8bf4\u660e\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 feat \u548c fix \u4e4b\u5916\u7684\u7c7b\u578b</li> <li>\u5de5\u5177\u7684\u5b9e\u73b0\u5fc5\u987b\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u5730\u89e3\u6790\u6784\u6210\u7ea6\u5b9a\u5f0f\u63d0\u4ea4\u7684\u4fe1\u606f\u5355\u5143\uff0c\u53ea\u6709 BREAKING CHANGE \u5fc5\u987b\u662f\u5927\u5199\u7684</li> <li>\u53ef\u4ee5\u5728\u7c7b\u578b/\u4f5c\u7528\u57df\u524d\u7f00\u4e4b\u540e\uff0c: \u4e4b\u524d\uff0c\u9644\u52a0 ! \u5b57\u7b26\uff0c\u4ee5\u8fdb\u4e00\u6b65\u63d0\u9192\u6ce8\u610f\u7834\u574f\u6027\u53d8\u66f4\u3002\u5f53\u6709 ! \u524d\u7f00\u65f6\uff0c\u6b63\u6587\u6216\u811a\u6ce8\u5185\u5fc5\u987b\u5305\u542b BREAKING CHANGE: description</li> </ul> </li> </ul> <p></p> <ul> <li>\u53c2\u8003\u793a\u4f8b <pre><code>fix\n\u5982\u679c\u4fee\u590d\u7684\u8fd9\u4e2aBUG\u53ea\u5f71\u54cd\u5f53\u524d\u4fee\u6539\u7684\u6587\u4ef6\uff0c\u53ef\u4e0d\u52a0\u8303\u56f4\u3002\u5982\u679c\u5f71\u54cd\u7684\u8303\u56f4\u6bd4\u8f83\u5927\uff0c\u8981\u52a0\u4e0a\u8303\u56f4\u63cf\u8ff0\u3002\n\u4f8b\u5982\u8fd9\u6b21 BUG \u4fee\u590d\u5f71\u54cd\u5230\u5168\u5c40\uff0c\u53ef\u4ee5\u52a0\u4e2a global\u3002\u5982\u679c\u5f71\u54cd\u7684\u662f\u67d0\u4e2a\u76ee\u5f55\u6216\u67d0\u4e2a\u529f\u80fd\uff0c\u53ef\u4ee5\u52a0\u4e0a\u8be5\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u6216\u8005\u5bf9\u5e94\u7684\u529f\u80fd\u540d\u79f0\n\n// \u793a\u4f8b1\nfix(global):\u4fee\u590dcheckbox\u4e0d\u80fd\u590d\u9009\u7684\u95ee\u9898\n\n// \u793a\u4f8b2 - \u4e0b\u9762\u5706\u62ec\u53f7\u91cc\u7684 common \u4e3a\u901a\u7528\u7ba1\u7406\u7684\u540d\u79f0\nfix(common): \u4fee\u590d\u5b57\u4f53\u8fc7\u5c0f\u7684BUG\uff0c\u5c06\u901a\u7528\u7ba1\u7406\u4e0b\u6240\u6709\u9875\u9762\u7684\u9ed8\u8ba4\u5b57\u4f53\u5927\u5c0f\u4fee\u6539\u4e3a 14px\n\n// \u793a\u4f8b3\nfix: value.length -&gt; values.length\n\n// \u793a\u4f8b4\nfeat: \u6dfb\u52a0\u7f51\u7ad9\u4e3b\u9875\u9759\u6001\u9875\u9762\n\n// \u793a\u4f8b5\nchore: \u5c06\u8868\u683c\u4e2d\u7684\u67e5\u770b\u8be6\u60c5\u6539\u4e3a\u8be6\u60c5\n</code></pre></li> </ul> <p> \u5f15\u7528\uff1ahttps://zhuanlan.zhihu.com/p/90281637</p>"},{"location":"notes/sop/test-automated/","title":"\u81ea\u52a8\u5316\u6d4b\u8bd5","text":""},{"location":"notes/sop/test-automated/#_2","title":"\u9700\u6c42\u8bc4\u4f30","text":""},{"location":"notes/sop/test-automated/#_3","title":"\u4efb\u52a1\u6392\u671f","text":""},{"location":"notes/sop/test-automated/#_4","title":"\u7528\u4f8b\u8bbe\u8ba1","text":""},{"location":"notes/sop/test-automated/#_5","title":"\u811a\u672c\u5f00\u53d1","text":""},{"location":"notes/sop/test-automated/#_6","title":"\u5f00\u53d1\u81ea\u6d4b","text":""},{"location":"notes/sop/test-automated/#_7","title":"\u6d4b\u8bd5\u73af\u5883\u8bd5\u8fd0\u884c","text":""},{"location":"notes/sop/test-automated/#_8","title":"\u591a\u73af\u5883\u9002\u914d","text":""},{"location":"notes/sop/test-case/","title":"\u6d4b\u8bd5\u7528\u4f8b","text":""},{"location":"notes/sop/test-case/#_2","title":"\u5206\u7c7b","text":""},{"location":"notes/sop/test-case/#_3","title":"\u6807\u9898","text":""},{"location":"notes/sop/test-case/#_4","title":"\u4f18\u5148\u7ea7","text":""},{"location":"notes/sop/test-case/#_5","title":"\u524d\u7f6e\u6761\u4ef6","text":""},{"location":"notes/sop/test-case/#_6","title":"\u6267\u884c\u6b65\u9aa4","text":""},{"location":"notes/sop/test-case/#_7","title":"\u9884\u671f\u7ed3\u679c","text":""},{"location":"notes/sop/test-issue/","title":"\u6d4b\u8bd5\u7f3a\u9677","text":""},{"location":"notes/sop/test-issue/#_2","title":"\u6807\u9898","text":""},{"location":"notes/sop/test-issue/#_3","title":"\u7248\u672c","text":""},{"location":"notes/sop/test-issue/#_4","title":"\u4f18\u5148\u7ea7","text":""},{"location":"notes/sop/test-issue/#_5","title":"\u5206\u914d\u7ed9","text":""},{"location":"notes/sop/test-issue/#_6","title":"\u73af\u5883","text":""},{"location":"notes/sop/test-issue/#_7","title":"\u6d4b\u8bd5\u5468\u671f","text":""},{"location":"notes/sop/test-issue/#_8","title":"\u4ea7\u751f\u9636\u6bb5","text":""},{"location":"notes/sop/test-issue/#_9","title":"\u91cd\u73b0\u6b65\u9aa4","text":""},{"location":"notes/sop/test-issue/#_10","title":"\u9884\u671f\u7ed3\u679c","text":""},{"location":"notes/sop/test-issue/#_11","title":"\u5907\u6ce8","text":""},{"location":"notes/sop/test-manager/","title":"\u6d4b\u8bd5\u7ba1\u7406","text":""},{"location":"notes/sop/test-manager/#_2","title":"\u9700\u6c42\u8bc4\u5ba1","text":""},{"location":"notes/sop/test-manager/#_3","title":"\u5de5\u65f6\u9884\u4f30","text":""},{"location":"notes/sop/test-manager/#_4","title":"\u6d4b\u8bd5\u8ba1\u5212","text":""},{"location":"notes/sop/test-manager/#_5","title":"\u8fdb\u5ea6\u8ddf\u8e2a","text":""},{"location":"notes/sop/test-manager/#_6","title":"\u8d44\u6e90\u534f\u8c03","text":""},{"location":"notes/sop/test-manager/#_7","title":"\u6280\u672f\u652f\u6301","text":""},{"location":"notes/sop/test-manager/#_8","title":"\u9a8c\u6536\u6d4b\u8bd5","text":""},{"location":"notes/sop/test-manager/#_9","title":"\u6280\u672f\u652f\u6301","text":""},{"location":"notes/sop/test-manager/#_10","title":"\u6d4b\u8bd5\u6846\u67b6","text":""},{"location":"notes/sop/test-manager/#_11","title":"\u8fed\u4ee3\u590d\u76d8","text":""},{"location":"notes/sop/test-manager/#_12","title":"\u6280\u80fd\u57f9\u8bad","text":""},{"location":"notes/sop/test-manager/#_13","title":"\u7ec4\u5458\u6c9f\u901a","text":""},{"location":"notes/sop/test-manager/#tl","title":"TL\u4f1a\u8bae","text":""},{"location":"notes/sop/test-manager/#_14","title":"\u7ee9\u6548\u8bc4\u5b9a","text":""},{"location":"notes/sop/test-manager/#_15","title":"\u5e74\u5ea6\u89c4\u5212","text":""},{"location":"notes/sop/test-manager/#_16","title":"\u62db\u8058\u652f\u6301","text":""},{"location":"notes/sop/test-plan/","title":"\u6d4b\u8bd5\u8ba1\u5212","text":""},{"location":"notes/sop/test-plan/#why","title":"\u6d4b\u8bd5\u76ee\u7684(WHY)","text":""},{"location":"notes/sop/test-plan/#when","title":"\u6d4b\u8bd5\u65f6\u95f4(WHEN)","text":""},{"location":"notes/sop/test-plan/#where","title":"\u6d4b\u8bd5\u8d44\u6e90(WHERE)","text":""},{"location":"notes/sop/test-plan/#who","title":"\u6d4b\u8bd5\u4eba\u5458(WHO)","text":""},{"location":"notes/sop/test-plan/#what","title":"\u6d4b\u8bd5\u8303\u56f4(WHAT)","text":""},{"location":"notes/sop/test-plan/#how","title":"\u6d4b\u8bd5\u7b56\u7565(HOW)","text":""},{"location":"notes/sop/test-plan/#_2","title":"\u98ce\u9669\u8bc4\u4f30","text":""},{"location":"notes/sop/test-plan/#_3","title":"\u9000\u51fa\u6807\u51c6","text":""},{"location":"notes/sop/test-report/","title":"\u6d4b\u8bd5\u62a5\u544a","text":""},{"location":"notes/sop/test-report/#_2","title":"\u6d4b\u8bd5\u76ee\u7684","text":""},{"location":"notes/sop/test-report/#_3","title":"\u6d4b\u8bd5\u7248\u672c","text":""},{"location":"notes/sop/test-report/#_4","title":"\u6d4b\u8bd5\u73af\u5883","text":""},{"location":"notes/sop/test-report/#_5","title":"\u6d4b\u8bd5\u8303\u56f4","text":""},{"location":"notes/sop/test-report/#_6","title":"\u6d4b\u8bd5\u65f6\u95f4","text":""},{"location":"notes/sop/test-report/#_7","title":"\u6d4b\u8bd5\u4eba\u5458","text":""},{"location":"notes/sop/test-report/#_8","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"notes/sop/test-report/#_9","title":"\u6d4b\u8bd5\u7ed3\u679c","text":""},{"location":"notes/sop/test-report/#_10","title":"\u6d4b\u8bd5\u7ed3\u8bba","text":""},{"location":"notes/sop/test-report/#_11","title":"\u9644\u5f55\uff08\u7f3a\u9677\u7edf\u8ba1\uff09","text":""},{"location":"notes/sop/test-review/","title":"\u8fed\u4ee3\u6d4b\u8bd5\u590d\u76d8","text":""},{"location":"notes/sop/test-review/#_2","title":"\u4e3b\u6301\u4eba","text":""},{"location":"notes/sop/test-review/#_3","title":"\u53c2\u4e0e\u4eba","text":""},{"location":"notes/sop/test-review/#_4","title":"\u5f85\u6539\u8fdb","text":""},{"location":"notes/sop/test-review/#_5","title":"\u505a\u5f97\u597d","text":""},{"location":"notes/sop/test-review/#_6","title":"\u9700\u63a8\u52a8","text":""},{"location":"notes/sop/test-review/#_7","title":"\u5f85\u652f\u6301","text":""},{"location":"notes/tips/tips/","title":"\u5c0f\u7a8d\u95e8","text":""},{"location":"notes/tips/tips/#kindle","title":"Kindle \u91cd\u7f6e\u9501\u5c4f\u5bc6\u7801","text":"<ol> <li>\u5907\u4efdKindle\u6570\u636e\uff08\u5982\u679c\u53ef\u4ee5\u7684\u8bdd\uff09</li> <li>\u9501\u5c4f\u5bc6\u7801\u8f93\u5165 <code>111222777</code> \u5e76\u786e\u8ba4\uff0ckindle \u4f1a\u91cd\u7f6e\u673a\u5668\u4e3a\u51fa\u4ea7\u8bbe\u7f6e</li> </ol>"},{"location":"notes/tool/scoop/","title":"Scoop","text":""},{"location":"project/testbase/","title":"TestBase","text":"<p>TestBase is a scaffold project to speed up your automated testing process.</p> <ul> <li>System Environment (Opitonal)</li> </ul> PARAMETER DESCRIPTION NACOS_HOST nacos host NACOS_USERNAME nacos username NACOS_PASSWORD nacos password NACOS_TENANT nacos tenant PYTEST_CMD pytest cmd <ul> <li>Directory Structure</li> </ul> <pre><code>|\u2500\u2500 TestBase\n    \u251c\u2500\u2500 config            ................... Global Config Sets\n        \u251c\u2500\u2500 api.py        ................... API Sets\n        \u251c\u2500\u2500 const.py      ................... Global Constant\n    \u251c\u2500\u2500 data              ................... Test Data Sets\n        \u251c\u2500\u2500 api           ................... API Test Data\n        \u251c\u2500\u2500 app           ................... APP Test Data\n        \u251c\u2500\u2500 feature       ................... Feature Test Data\n        \u251c\u2500\u2500 monitor       ................... Online Monitor Data\n        \u251c\u2500\u2500 page          ................... UI Test Page Model\n        \u251c\u2500\u2500 ramp          ................... Rampup Test Data\n        \u251c\u2500\u2500 security      ................... Security Test Data\n        \u251c\u2500\u2500 stress        ................... Stress/Performance Test Data\n    \u251c\u2500\u2500 doc               ................... Test Docs\n    \u251c\u2500\u2500 server            ................... API Demo Or Online Toolkit\n    \u251c\u2500\u2500 test              ................... TestCase Sets\n        \u251c\u2500\u2500 api           ................... API TestCase\n        \u251c\u2500\u2500 app           ................... APP TestCase\n        \u251c\u2500\u2500 feature       ................... Feature TestCase\n        \u251c\u2500\u2500 monitor       ................... Online TestCase\n        \u251c\u2500\u2500 ramp          ................... Rampup TestCase\n        \u251c\u2500\u2500 security      ................... Security TestCase\n        \u251c\u2500\u2500 stress        ................... Stress/Performance TestCase\n        \u251c\u2500\u2500 tool          ................... Test Tool\n        \u251c\u2500\u2500 ui            ................... UI TestCase\n        \u251c\u2500\u2500 conftest.py   ................... Global Fixture\n    \u251c\u2500\u2500 .gitignore        ................... Git Ignore Rule\n    \u251c\u2500\u2500 crontab           ................... Schedule Task Config\n    \u251c\u2500\u2500 Dockerfile        ................... Docker Build File\n    \u251c\u2500\u2500 LICENSE           ................... License File\n    \u251c\u2500\u2500 pytest.ini        ................... Pytest Config\n    \u251c\u2500\u2500 README.md         ................... Readme File\n    \u251c\u2500\u2500 requirements.txt  ................... Project Dpendency\n    \u251c\u2500\u2500 run.sh            ................... Docker Initiate Shell Script \n</code></pre>"},{"location":"project/wetest/","title":"WeTest","text":"<p>WeTest is a simple, yet useful, test toolkit.</p> <p>WeTest allows you to start an automated testing project extremely easily, like api test, macro support, tracker requests, testdata build, common clients connection...</p> <p>Just try a little test scenario:</p> <p>Scenario 01: Send Request </p> <p>testdata: testdata.xlsx</p> tc_id tc_desc method headers json data protocol domain path ip accessKey plain_string loop expect_code expect_response ip_parse_001 ipv4_parse get user-agent &gt; {{data.user_agent()}} | referer &gt; {{data.url()}} https {{domain}} {{path}} {{ipv4.beijing}} alibaba-inc 200 \"city\":\"\u5317\u4eac\" <p>testcase: tests/tool/test_tracker.py</p> <pre><code>import pytest\nfrom WeTest.tool import tracker\nfrom WeTest.util import provider\n\n\ndata = provider.read_excel_to_dict(\"testdata.xlsx\", 0)\n\n@pytest.mark.parametrize(\"data\", data, ids=lambda data: \"{}-{}\".format(data[\"tc_id\"], data[\"tc_desc\"]))\ndef test_ipparse_ipv4(data):\n\n    macro = [(\"{{domain}}\", \"ip.taobao.com\"), (\"{{path}}\", \"outGetIpInfo\"), (\"{{ipv4.beijing}}\", \"1.2.5.0\")]\n\n    tracker.send(macro, None, **data)\n</code></pre> <pre><code>$ pytest tests/tool/test_tracker.py::test_ipparse_ipv4\n\ncollecting ... \n-------------------------------------------------------------------------------------- live log call --------------------------------------------------------------------------------------\n2022-08-20 15:38:17 [INFO] \n========================================= [ REQUEST ] =========================================\nGET https://ip.taobao.com/outGetIpInfo?request_id=jp_parase_001_ipv4_parse_0001&amp;ip=1.2.5.0&amp;accessKey=alibaba-inc\nuser-agent: Mozilla/5.0 (Linux; Android 5.0) AppleWebKit/536.2 (KHTML, like Gecko) Chrome/63.0.850.0 Safari/536.2\nAccept-Encoding: gzip, deflate, br\nAccept: */*\nConnection: keep-alive\nreferer: http://www.fanding.cn/\n\nNone\n\n========================================= [ RESPONSE ] =========================================\n200  https://ip.taobao.com/outGetIpInfo?request_id=jp_parase_001_ipv4_parse_0001&amp;ip=1.2.5.0&amp;accessKey=alibaba-inc\nDate: Sat, 20 Aug 2022 07:38:12 GMT\nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\nConnection: keep-alive\nVary: Accept-Encoding\nSet-Cookie: XSRF-TOKEN=8b64ecea-e4db-41fe-8351-98f87e45b732; Path=/\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Encoding: gzip\nServer: Tengine/Aserver\nEagleEye-TraceId: 213fc9b716609810926637035e8a94\nStrict-Transport-Security: max-age=31536000\nTiming-Allow-Origin: *\n\n{\"data\":{\"area\":\"\",\"country\":\"\u4e2d\u56fd\",\"isp_id\":\"100017\",\"queryIp\":\"1.2.5.0\",\"city\":\"\u5317\u4eac\",\"ip\":\"1.2.5.0\",\"isp\":\"\u7535\u4fe1\",\"county\":\"\",\"region_id\":\"110000\",\"area_id\":\"\",\"county_id\":null,\"region\":\"\u5317\u4eac\",\"country_id\":\"CN\",\"city_id\":\"110100\"},\"msg\":\"query success\",\"code\":0}\n\n\n tests/tool/test_tracker.py::test_ipparse_ipv4[jp_parase_001-ipv4_parse] \u2713                                                                                                  100% \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n\nResults (1.16s):\n       1 passed\n</code></pre> <p>Scenario 02: API Test </p> <p>testdata: data/api/testdata_user.xlsx</p> tc_id tc_desc name email role status password expect_code expect_response tc_user_001 \u5408\u6cd5-\u5feb\u4e50\u8def\u5f84 {{data.string(min=10, max=20)}} {{data.email()}} {{data.random_choice([0,1,2])}} 1 {{data.string(min=6, max=20)}} 200 tc_user_002 \u975e\u6cd5-\u7528\u6237\u540d-\u7a7a\u503c {{data.email()}} {{data.random_choice([0,1,2])}} 1 {{data.string(min=6, max=20)}} 422 {\"error\":{\"name\":\"ensure this value has at least 2 characters\"}} <p>testcase: test/api/test_user.py</p> <pre><code>import os\nimport sys\n\nsys.path.append(os.getcwd())\n\nimport json\nimport pytest\nimport allure\nfrom config import apis\nfrom WeTest.util.api import API\nfrom config.const import TIMEOUT\nfrom WeTest.util.client import DataBase\nfrom WeTest.util import provider, compare\n\n\n@allure.epic(\"User Management\")\n@pytest.mark.run(order=1)\n@pytest.mark.p0\n@pytest.mark.api\nclass TestUser:\n\n    user = {}\n\n    path = \"data/api/testdata_user.xlsx\"\n    testdata_user_create = provider.read_excel_to_dict(path, \"user\")\n\n    @allure.story(\"Create User\")\n    @pytest.mark.timeout(TIMEOUT)\n    @pytest.mark.dependency(name=\"test_create_user\")\n    @pytest.mark.parametrize(\"testdata\", testdata_user_create, ids=lambda data: \"[{tc_id}: {tc_desc}]\".format(**data))\n    def test_create_user(self, api: API, testdata):\n        \"\"\"Verify Create User Success\"\"\"\n\n        path = apis.USER\n\n        _, kw = provider.replace_macro(None, None, **testdata)\n\n        status_code = int(kw[\"expect_code\"])\n\n        payload = \"\"\"\n        {{\n            \"name\": \"{name}\",\n            \"email\": \"{email}\",\n            \"role\": \"{role}\",\n            \"status\": \"{status}\",\n            \"password\": \"{password}\"\n        }}\n        \"\"\".format(\n            **kw\n        )\n\n        payload = json.loads(payload)\n\n        response = api.request(\"POST\", path, json=payload)\n\n        assert response.status_code == status_code\n\n        response = response.json()\n\n        if status_code == 200:\n            self.user[\"id\"] = response[\"id\"]\n\n            assert response[\"name\"] == payload[\"name\"]\n            assert response[\"email\"] == payload[\"email\"]\n            assert response[\"role\"] == int(payload[\"role\"])\n            assert response[\"status\"] == int(payload[\"status\"])\n            assert response[\"name\"] == payload[\"name\"]\n        else:\n            assert response == json.loads(kw[\"expect_response\"])\n</code></pre> <pre><code>$ pytest test/api/test_user.py::TestUser::test_create_user\nTest session starts (platform: linux, Python 3.8.0, pytest 7.1.2, pytest-sugar 0.9.5)\nrootdir: /mnt/d/src/python/TestBase, configfile: pytest.ini\nplugins: dependency-0.5.1, playwright-0.3.0, forked-1.4.0, rerunfailures-10.2, metadata-2.0.2, sugar-0.9.5, repeat-0.9.1, timeout-2.1.0, playwright-snapshot-1.0, ordering-0.6, xdist-2.5.0, allure-pytest-2.10.0, base-url-2.0.0, asyncio-0.19.0, html-3.1.1, anyio-3.6.1, Faker-14.1.0\nasyncio: mode=strict\ncollecting ... \n------------------------------------------------------------------------------------------------ live log setup -------------------------------------------------------------------------------------------------\n2022-09-11 18:42:11 [INFO] **************************************************\n2022-09-11 18:42:11 [INFO]      &gt;&gt;&gt;&gt;&gt; CURRENT ENVIRONMENT: DEV &lt;&lt;&lt;&lt;&lt;\n2022-09-11 18:42:11 [INFO] **************************************************\n2022-09-11 18:42:12 [INFO] \n========================================= [ REQUEST ] =========================================\nPOST http://127.0.0.1:8000/login\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36\nAccept-Encoding: gzip, deflate, br\nAccept: */*\nConnection: keep-alive\nContent-Length: 78\nContent-Type: application/x-www-form-urlencoded\n\nclient_id=&amp;client_secret=&amp;grant_type=&amp;username=root%40test.com&amp;password=123456\n\n========================================= [ RESPONSE ] =========================================\n200 OK http://127.0.0.1:8000/login\ndate: Sun, 11 Sep 2022 10:42:11 GMT\nserver: uvicorn\ncontent-length: 192\ncontent-type: application/json\n\n{\"token_type\":\"bearer\",\"access_token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyb290QHRlc3QuY29tIiwic2NvcGVzIjpbXSwiZXhwIjoxNjYyODk0NzMxfQ.oySUtuqiKS-3FRWyHhvB3Ip7g8PtZDu3bnKBvVZ7nB8\"}\n\n------------------------------------------------------------------------------------------------- live log call -------------------------------------------------------------------------------------------------\n2022-09-11 18:42:12 [INFO] \n========================================= [ REQUEST ] =========================================\nPOST http://127.0.0.1:8000/user/\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36\nAccept-Encoding: gzip, deflate, br\nAccept: */*\nConnection: keep-alive\nAuthorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyb290QHRlc3QuY29tIiwic2NvcGVzIjpbXSwiZXhwIjoxNjYyODk0NzMxfQ.oySUtuqiKS-3FRWyHhvB3Ip7g8PtZDu3bnKBvVZ7nB8\nContent-Length: 123\nContent-Type: application/json\n\nb'{\"name\": \"ipBvXEIlqs7fd6h6O1RZ\", \"email\": \"fangwen@example.org\", \"role\": \"0\", \"status\": \"1\", \"password\": \"oDFD9NTgoxoLwZW\"}'\n\n========================================= [ RESPONSE ] =========================================\n200 OK http://127.0.0.1:8000/user/\ndate: Sun, 11 Sep 2022 10:42:11 GMT\nserver: uvicorn\ncontent-length: 100\ncontent-type: application/json\n\n{\"name\":\"ipBvXEIlqs7fd6h6O1RZ\",\"email\":\"fangwen@example.org\",\"role\":0,\"status\":1,\"id\":2,\"creator\":1}\n\n\n test/api/test_user.py::TestUser.test_create_user[[root]-[DEV]-[tc_user_001: \u5408\u6cd5-\u5feb\u4e50\u8def\u5f84]] \u2713                                                                                                           50% \u2588\u2588\u2588\u2588\u2588     \n------------------------------------------------------------------------------------------------- live log call -------------------------------------------------------------------------------------------------\n2022-09-11 18:42:12 [INFO] \n========================================= [ REQUEST ] =========================================\nPOST http://127.0.0.1:8000/user/\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36\nAccept-Encoding: gzip, deflate, br\nAccept: */*\nConnection: keep-alive\nAuthorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJyb290QHRlc3QuY29tIiwic2NvcGVzIjpbXSwiZXhwIjoxNjYyODk0NzMxfQ.oySUtuqiKS-3FRWyHhvB3Ip7g8PtZDu3bnKBvVZ7nB8\nContent-Length: 106\nContent-Type: application/json\n\nb'{\"name\": \"\", \"email\": \"yang80@example.com\", \"role\": \"0\", \"status\": \"1\", \"password\": \"EyAsZvTMWvaITHBSYEc\"}'\n\n========================================= [ RESPONSE ] =========================================\n422 Unprocessable Entity http://127.0.0.1:8000/user/\ndate: Sun, 11 Sep 2022 10:42:11 GMT\nserver: uvicorn\ncontent-length: 64\ncontent-type: application/json\n\n{\"error\":{\"name\":\"ensure this value has at least 2 characters\"}}\n\n\n test/api/test_user.py::TestUser.test_create_user[[root]-[DEV]-[tc_user_002: \u975e\u6cd5-\u7528\u6237\u540d-\u7a7a\u503c]] \u2713                                                                                                        100% \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n\nResults (1.84s):\n       2 passed\n</code></pre>"},{"location":"project/wetest/#installing-wetest-and-supported-versions","title":"Installing WeTest and Supported Versions","text":"<p>WeTest is available on PyPI:</p> <ul> <li> <p>For common use: <pre><code>$ python -m pip install WeTest\n</code></pre></p> </li> <li> <p>For Hive support: <pre><code>$ python -m pip install \"WeTest[hive]\"\n</code></pre></p> </li> </ul>"},{"location":"project/wetest/#features","title":"Features","text":"<p>WeTest is ready for the demands of building automation test project, for the needs of today.</p> <ul> <li>util</li> <li>algorithm<ul> <li>upstream_round_robin</li> </ul> </li> <li>api<ul> <li>request</li> <li>upload</li> <li>download</li> </ul> </li> <li>client<ul> <li>database</li> <li>rabbitmq</li> <li>sftp</li> <li>ssh</li> <li>nacos</li> <li>s3</li> <li>hive</li> </ul> </li> <li>compare<ul> <li>dataframe</li> <li>dict</li> <li>list</li> <li>schema</li> <li>file</li> <li>image</li> </ul> </li> <li>config<ul> <li>yaml</li> <li>ini</li> <li>json</li> </ul> </li> <li>date<ul> <li>format</li> <li>convert</li> <li>datetime</li> <li>timestamp</li> </ul> </li> <li>encry<ul> <li>aes</li> <li>md5</li> <li>url</li> <li>sha1</li> <li>base64</li> </ul> </li> <li>network<ul> <li>ip</li> <li>url</li> <li>useragent</li> <li>file mime type</li> </ul> </li> <li>notication<ul> <li>work wechat</li> <li>wechat(todo)</li> <li>email(todo)</li> </ul> </li> <li>path<ul> <li>all path related scenario</li> </ul> </li> <li>provider<ul> <li>dataframe &amp; excel</li> <li>read &amp; output</li> <li>unpack dict</li> <li>str to bool</li> <li>replace macro</li> </ul> </li> <li>request<ul> <li>request by remote ip (in LB)</li> <li>get romote ip</li> <li>get redirect history</li> <li>async request</li> <li>bulk request</li> <li>upload file(s)</li> <li>download</li> <li>log response</li> </ul> </li> <li> <p>testdata</p> <ul> <li>fake data</li> </ul> </li> <li> <p>tool</p> </li> <li>cookdata<ul> <li>cook df data</li> <li>cook db data</li> </ul> </li> <li>decorator<ul> <li>timeit</li> </ul> </li> <li>logtime<ul> <li>timestamp</li> </ul> </li> <li>jira issue analytics</li> <li>server(todo)<ul> <li>online api call</li> <li>data visualization</li> </ul> </li> <li>tracker</li> </ul>"},{"location":"project/wetest/#testbase","title":"TestBase","text":"<p>Wanna to try? TestBase is a scaffold project and based on WeTest, it's ready for you to speed up your automated testing process.</p>"},{"location":"tsg/git/","title":"Git","text":""},{"location":"tsg/git/#fatal-could-not-read-from-remote-repository","title":"fatal: Could not read from remote repository","text":"<pre><code>(WeTest) \u279c  WeTest git:(dev) git push      \nssh_exchange_identification: Connection closed by remote host\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\n\n\n(WeTest) \u279c  WeTest git:(dev) git remote -v\norigin  git@github.com:baiyyee/WeTest.git (fetch)\norigin  git@github.com:baiyyee/WeTest.git (push)\n\n\n(WeTest) \u279c  WeTest git:(dev) git remote set-url origin https://github.com/baiyyee/WeTest.git   \n(WeTest) \u279c  WeTest git:(dev) git status                                                     \nOn branch dev\nYour branch is ahead of 'origin/dev' by 2 commits.\n  (use \"git push\" to publish your local commits)\n\nnothing to commit, working tree clean\n\n\n(WeTest) \u279c  WeTest git:(dev) git remote -v                                                  \norigin  https://github.com/baiyyee/WeTest.git (fetch)\norigin  https://github.com/baiyyee/WeTest.git (push)\n\n\n(WeTest) \u279c  WeTest git:(dev) git push     \nCounting objects: 11, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (11/11), done.\nWriting objects: 100% (11/11), 1.20 KiB | 25.00 KiB/s, done.\nTotal 11 (delta 9), reused 0 (delta 0)\nremote: Resolving deltas: 100% (9/9), completed with 8 local objects.\nTo https://github.com/baiyyee/WeTest.git\n   3c1d746..a3f9e0e  dev -&gt; dev\n</code></pre> <p>\u3010\u89e3\u51b3\u65b9\u6848\u3011</p> <p>1.\u540c\u4e00\u4e2a\u5f00\u53d1\u73af\u5883\u4e2d\uff0c\u5176\u4ed6\u4e24\u4e2a\u4ed3\u5e93\u53ef\u6b63\u5e38\u4ea4\u4e92\uff0c\u4f46\u53e6\u5916\u4e00\u4e2a\u9891\u7e41\u63d0\u793a\u627e\u4e0d\u5230\u8fdc\u7a0b\u4ed3\u5e93\u6216\u662f\u6ca1\u6743\u9650\uff0c\u7814\u7a76\u540e\u53d1\u73b0\u514b\u9686\u65b9\u5f0f\u4e0d\u540c\uff1a</p> <p>\u65b9\u5f0f\u4e00\uff1agit clone https://github.com/baiyyee/baiyyee.github.io.git</p> <p>\u65b9\u5f0f\u4e8c\uff1agit clone git@github.com:baiyyee/WeTest.git</p> <p>\u5efa\u8bae\uff1a\u4ee5\u540e\u91c7\u7528 \u65b9\u5f0f\u4e00 \u6765\u514b\u9686\u4ed3\u5e93\uff0c\u8fde\u901a\u6027\u66f4\u597d</p> <p> 2.\u901a\u8fc7\u547d\u4ee4 <code>git remote -v</code> \u53ef\u67e5\u770b\u5df2\u514b\u9686\u5230\u672c\u5730\u7684\u4ed3\u5e93\u662f\u91c7\u7528\u54ea\u4e00\u79cd\u65b9\u5f0f</p> <p> 3.\u5bf9\u4e8e\u5df2\u91c7\u7528\u65b9\u5f0f\u4e8c\u53ef\u80fd\u4e14\u5df2\u7ecf\u51fa\u73b0\u4e86 <code>fatal: Could not read from remote repository</code> \u95ee\u9898\u7684\uff0c\u53ef\u901a\u8fc7\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u66f4\u65b0\u4e3a\u65b9\u5f0f\u4e00\uff1a <pre><code>git remote set-url origin https://github.com/baiyyee/WeTest.git\n</code></pre></p>"},{"location":"tsg/pytest/","title":"pytest","text":""},{"location":"tsg/pytest/#playwright_impl_api_typeserror-target-page-context-or-browser-has-been-closed","title":"playwright._impl._api_types.Error: Target page, context or browser has been closed","text":"<pre><code>@pytest.hookimpl(tryfirst=True, hookwrapper=True)\ndef pytest_runtest_makereport(item, call):\n\n    outcome = yield\n    rep = outcome.get_result()\n    setattr(item, \"rep_\" + rep.when, rep)\n\n\n@pytest.fixture(scope=\"function\", autouse=True)\ndef screenshot_on_failure(request):\n\n    yield\n\n    failed = request.node.rep_call.failed if hasattr(request.node, \"rep_call\") else True\n\n    if failed:\n        for arg in request.node.funcargs.values():\n            if isinstance(arg, App):\n                allure.attach(body=arg.page.screenshot(), name=\"screenshot\", attachment_type=allure.attachment_type.PNG)\n</code></pre> <p>\u3010\u95ee\u9898\u539f\u56e0\u3011</p> <p>page fixture \u7684\u8303\u56f4\u662f function, \u5f53\u7528\u4f8b\u6267\u884c\u5b8c\u6210\u540e\uff0cpage \u4f1a\u88ab\u5173\u95ed\uff08\u53c2\u89c1\uff1apytest_playwright.py\uff09\uff0c\u6240\u4ee5 <code>arg.page.screenshot()</code> \u4f1a\u62a5\u5f02\u5e38\uff1aplaywright._impl._api_types.Error: Target page, context or browser has been closed</p> <p>\u3010\u89e3\u51b3\u65b9\u6848\u3011</p> <p>\u65b9\u5f0f\u4e00\uff1a\u663e\u5f0f\u8c03\u7528 <code>context</code> fixture, \u786e\u4fdd context \u662f\u5728\u622a\u56fe\u540e\u624d\u88ab\u5173\u95ed <pre><code>@pytest.fixture(scope=\"function\", autouse=True)\ndef screenshot_on_failure(context, request):\n\n    yield context\n\n    failed = request.node.rep_call.failed if hasattr(request.node, \"rep_call\") else True\n\n    if failed:\n        for arg in request.node.funcargs.values():\n            if isinstance(arg, App):\n                allure.attach(body=arg.page.screenshot(), name=\"screenshot\", attachment_type=allure.attachment_type.PNG)\n</code></pre></p> <p>\u65b9\u5f0f\u4e8c\uff1a\u7f51\u4e0a\u641c\u7d22\u5230\u4e86\u4e00\u4e2a\u65b9\u6848\u662f\u4fee\u6539 <code>pytest_playwright.py</code> \u6e90\u7801\uff0c\u4f46\u8fd9\u79cd\u65b9\u5f0f\u4e0d\u592a\u53cb\u597d\uff0c\u4ec5\u9002\u7528\u4e8e\u672c\u5730\u73af\u5883\uff0c\u800c\u66ff\u4ee3\u65b9\u6848\u5c31\u662f\u5728 conftest.py \u4e2d\u91cd\u5199 <code>context</code> \u6765\u8986\u76d6\u539f\u6765\u7684\u5185\u5bb9</p>"}]}